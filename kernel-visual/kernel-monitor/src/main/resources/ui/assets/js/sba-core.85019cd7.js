(function(t){function e(e){for(var a,i,c=e[0],o=e[1],l=e[2],u=0,p=[];u<c.length;u++)i=c[u],r[i]&&p.push(r[i][0]),r[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,i=1;i<n.length;i++){var o=n[i];0!==r[o]&&(a=!1)}a&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={"sba-core":0},s=[];function i(t){return c.p+"assets/js/"+({"event-source-polyfill":"event-source-polyfill"}[t]||t)+"."+{"event-source-polyfill":"f86721a7"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise(function(e,a){n=r[t]=[e,a]});e.push(n[2]=a);var s,o=document.createElement("script");o.charset="utf-8",o.timeout=120,c.nc&&o.setAttribute("nonce",c.nc),o.src=i(t),s=function(e){o.onerror=o.onload=null,clearTimeout(l);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+a+": "+s+")");i.type=a,i.request=s,n[1](i)}r[t]=void 0}};var l=setTimeout(function(){s({type:"timeout",target:o})},12e4);o.onerror=o.onload=s,document.head.appendChild(o)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var d=l;s.push([0,"chunk-vendors","chunk-common"]),n()})({0:function(t,e,n){t.exports=n("e906")},"0140":function(t,e,n){},"01bb":function(t,e,n){},"0346":function(t,e,n){},"0475":function(t,e,n){"use strict";var a=n("685e"),r=n.n(a);r.a},"063e":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasTags?n("div",{staticClass:"field is-grouped is-grouped-multiline"},t._l(t.tags,function(e,a){return n("div",{key:a,staticClass:"control"},[n("div",{staticClass:"tags has-addons"},[n("span",{staticClass:"tag is-dark",domProps:{textContent:t._s(a)}}),n("span",{staticClass:"tag is-light",domProps:{textContent:t._s(e)}})])])}),0):t._e()},r=[],s=(n("f763"),n("fb37"),{props:{tags:{type:Object,required:!0}},computed:{hasTags:function(){return Object.keys(this.tags).length>0}}}),i=s,c=n("6691"),o=Object(c["a"])(i,a,r,!1,null,null,null);e["default"]=o.exports},"09a2":function(t,e,n){"use strict";var a=n("9dbd"),r=n.n(a);r.a},"0a03":function(t,e,n){"use strict";var a=n("0346"),r=n.n(a);r.a},"0db0":function(t,e,n){"use strict";var a=n("1e62"),r=n.n(a);r.a},"0de9":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card panel"},[t.title||t.$slots["header"]?n("header",{directives:[{name:"sticks-below",rawName:"v-sticks-below",value:t.headerSticksBelow,expression:"headerSticksBelow"}],staticClass:"card-header",class:{"panel__header--sticky":t.headerSticksBelow}},[n("p",{staticClass:"card-header-title"},[n("span",{domProps:{textContent:t._s(t.title)}}),t._t("header")],2),n("div",{staticClass:"panel__close"},[t.closeable?n("sba-icon-button",{attrs:{icon:["far","times-circle"]},on:{click:function(e){return e.stopPropagation(),t.close(e)}}}):t._e()],1)]):t._e(),t.$slots["default"]?n("div",{staticClass:"card-content"},[t._t("default")],2):t._e()])},r=[],s=n("cc40"),i=n("310e"),c={components:{SbaIconButton:i["default"]},directives:{sticksBelow:s["a"]},props:{title:{type:String,required:!0},closeable:{type:Boolean,default:!1},headerSticksBelow:{type:Array,default:void 0}},methods:{close:function(t){this.$emit("close",t)}}},o=c,l=(n("aa77"),n("6691")),u=Object(l["a"])(o,a,r,!1,null,null,null);e["default"]=u.exports},"12b17":function(t,e,n){var a={"./font-awesome-icon.js":"bcf5","./index.js":"686a","./sba-confirm-button.vue":"61b6","./sba-formatted-obj.vue":"dbf5","./sba-icon-button.vue":"310e","./sba-panel.vue":"0de9","./sba-status.vue":"aca8","./sba-tags.vue":"063e","./sba-time-ago.js":"6155"};function r(t){var e=s(t);return n(e)}function s(t){var e=a[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}r.keys=function(){return Object.keys(a)},r.resolve=s,t.exports=r,r.id="12b17"},1366:function(t,e,n){},1426:function(t,e,n){},"16b7":function(t,e,n){"use strict";var a=n("9fb3"),r=n.n(a);r.a},"17b8":function(t,e,n){"use strict";var a=n("e39b"),r=n.n(a);r.a},"1cc8":function(t,e,n){},"1e4c":function(t,e,n){"use strict";var a=n("a7e0"),r=n.n(a);r.a},"1e62":function(t,e,n){},"2014e":function(t,e,n){"use strict";var a=n("cc2a"),r=n.n(a);r.a},2353:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"metrics table is-fullwidth"},[n("thead",[n("tr",[n("th",{staticClass:"metrics__label",attrs:{title:t.description},domProps:{textContent:t._s(t.metricName)}}),t._l(t.statistics,function(e){return n("th",{key:"head-"+e,staticClass:"metrics__statistic-name"},[n("span",{domProps:{textContent:t._s(e)}}),n("div",{staticClass:"select is-small is-pulled-right"},[n("select",{domProps:{value:t.statisticTypes[e]},on:{change:function(n){return t.$emit("type-select",t.metricName,e,n.target.value)}}},[n("option",{domProps:{value:void 0}},[t._v("-")]),n("option",{attrs:{value:"integer"}},[t._v("Integer")]),n("option",{attrs:{value:"float"}},[t._v("Float")]),n("option",{attrs:{value:"duration"}},[t._v("Duration")]),n("option",{attrs:{value:"millis"}},[t._v("Milliseconds")]),n("option",{attrs:{value:"bytes"}},[t._v("Bytes")])])])])}),n("td")],2)]),n("tbody",t._l(t.tagSelections,function(e,a){return n("tr",{key:a},[n("td",{staticClass:"metrics__label"},[n("span",{domProps:{textContent:t._s(t.getLabel(e))}}),t.errors[a]?n("span",{staticClass:"has-text-warning",attrs:{title:t.errors[a]}},[n("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}})],1):t._e()]),t._l(t.statistics,function(e){return n("td",{key:"value-"+a+"-"+e,staticClass:"metrics__statistic-value",domProps:{textContent:t._s(t.getValue(t.measurements[a],e))}})}),n("td",{staticClass:"metrics__actions"},[n("sba-icon-button",{attrs:{icon:"trash"},on:{click:function(e){return e.stopPropagation(),t.handleRemove(a)}}})],1)],2)}),0)])},r=[],s=(n("f301"),n("df99"),n("63ff"),n("e71e")),i=n("c887"),c=(n("f763"),n("21de"),n("608b"),n("d76e")),o=n("df0d"),l=n("8be7"),u=n("6bf2"),d=n.n(u),p=n("d5db"),f=n.n(p),h=function(t,e){var n=d.a.duration(v(t,e));return"".concat(Math.floor(n.asDays()),"d ").concat(n.hours(),"h ").concat(n.minutes(),"m ").concat(n.seconds(),"s")},m=function(t,e){var n=d.a.duration(v(t,e));return"".concat(d.a.duration(n).asMilliseconds().toFixed(0)," ms")},v=function(t,e){switch(e){case"nanoseconds":return t/1e6;case"microseconds":return t/1e3;case"milliseconds":return t;case"seconds":default:return 1e3*t}},g={name:"Metric",mixins:[c["a"]],props:{metricName:{type:String,required:!0},instance:{type:o["a"],required:!0},tagSelections:{type:Array,default:function(){return[{}]}},statisticTypes:{type:Object,default:function(){return{}}}},data:function(){return{description:"",baseUnit:void 0,measurements:[],statistics:[],errors:[]}},methods:{handleRemove:function(t){this.$emit("remove",this.metricName,t)},getValue:function(t,e){var n=t&&t.find(function(t){return t.statistic===e});if(n){var a=this.statisticTypes[e];switch(a){case"integer":return n.value.toFixed(0);case"float":return n.value.toFixed(4);case"duration":return h(n.value);case"millis":return m(n.value);case"bytes":return f()(n.value);default:return n.value}}},getLabel:function(t){return Object.entries(t).filter(function(t){var e=Object(i["a"])(t,2),n=e[1];return"undefined"!==typeof n}).map(function(t){return t.join(":")}).join("\n")||"(no tags)"},fetchMetric:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.instance.fetchMetric(this.metricName,e);case 3:a=t.sent,this.$set(this.errors,n,null),this.$set(this.measurements,n,a.data.measurements),0===n&&(this.description=a.data.description,this.baseUnit=a.data.baseUnit,this.statistics=a.data.measurements.map(function(t){return t.statistic})),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),console.warn("Fetching metric ".concat(this.metricName," failed:"),t.t0),this.$set(this.errors,n,t.t0);case 13:case"end":return t.stop()}},t,this,[[0,9]])}));function e(e,n){return t.apply(this,arguments)}return e}(),fetchAllTags:function(){return Object(l["m"])(this.tagSelections).pipe(Object(l["g"])(this.fetchMetric))},createSubscription:function(){var t=this;return Object(l["u"])(0,2500).pipe(Object(l["g"])(t.fetchAllTags)).subscribe({next:function(){}})}},watch:{tagSelections:function(t,e){var n=this;t.map(function(t,e){return[t,e]}).filter(function(t){var n=Object(i["a"])(t,1),a=n[0];return!e.includes(a)}).forEach(function(t){var e=Object(i["a"])(t,2),a=e[0],r=e[1];return n.fetchMetric(a,r)})}}},b=g,y=(n("c39c"),n("6691"));n.d(e,"b",function(){return v});var _=Object(y["a"])(b,a,r,!1,null,null,null);e["a"]=_.exports},"28dc":function(t,e,n){"use strict";n("f763");var a=[],r=n("37cf");r.keys().forEach(function(t){var e=r(t).default;e&&e.install&&a.push(e)}),e["a"]=a},"297c":function(t,e,n){"use strict";n.d(e,"a",function(){return u});n("2338"),n("f763"),n("fb37");var a=n("a506"),r=(n("69a3"),n("4229")),s=n.n(r);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach(function(e){Object(a["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var o={urls:{schemeMatches:!0,wwwMatches:!1,tldMatches:!1},email:!1,phone:!1,mention:!1,hashtag:!1,stripPrefix:!1,stripTrailingSlash:!1,newWindow:!0,truncate:{length:0,location:"smart"},className:""},l=new s.a(o);function u(t){var e=this;return this.autolinker=new s.a(c({},o,{},t)),function(t){return e.autolinker.link(t)}}e["b"]=function(t){return l.link(t)}},"2c25":function(t,e,n){"use strict";var a=n("2c70"),r=n.n(a);r.a},"2c70":function(t,e,n){},"2d42":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section logfile-view",class:{"is-loading":!t.hasLoaded}},[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n        Fetching logfile failed.\n      ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),t.hasLoaded?n("div",{staticClass:"logfile-view-actions"},[n("div",{staticClass:"logfile-view-actions__navigation"},[n("sba-icon-button",{attrs:{disabled:t.atTop,icon:"step-backward",size:"lg","icon-class":"rotated"},on:{click:t.scrollToTop}}),n("sba-icon-button",{attrs:{disabled:t.atBottom,icon:"step-forward",size:"lg","icon-class":"rotated"},on:{click:t.scrollToBottom}})],1),n("a",{staticClass:"button",attrs:{href:"instances/"+t.instance.id+"/actuator/logfile",target:"_blank"}},[n("font-awesome-icon",{attrs:{icon:"download"}}),t._v(" Download\n    ")],1)]):t._e(),t.skippedBytes?n("p",{domProps:{textContent:t._s("skipped "+t.prettyBytes(t.skippedBytes))}}):t._e()])},r=[],s=(n("f763"),n("7bc1"),n("d76e")),i=n("df0d"),c=n("297c"),o=n("8be7"),l=n("908a"),u=n.n(l),d=n("d5f4"),p=n.n(d),f=n("d5db"),h=n.n(f),m={props:{instance:{type:i["a"],required:!0}},mixins:[s["a"]],data:function(){return{hasLoaded:!1,error:null,atBottom:!0,atTop:!1,skippedBytes:null}},created:function(){this.ansiUp=new u.a},mounted:function(){window.addEventListener("scroll",this.onScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)},methods:{prettyBytes:h.a,createSubscription:function(){var t=this,e=this;return e.error=null,this.instance.streamLogfile(1e3).pipe(Object(o["t"])(function(t){return e.skippedBytes=e.skippedBytes||t.skipped}),Object(o["g"])(function(t){return p()(t.addendum.split(/\r?\n/),250)}),Object(o["p"])(function(t){return Object(o["r"])(t,o["d"])}),Object(o["f"])()).subscribe({next:function(n){e.hasLoaded=!0,n.forEach(function(n){var a=document.createElement("pre");a.innerHTML=Object(c["b"])(t.ansiUp.ansi_to_html(n)),e.$el.appendChild(a)}),e.atBottom&&e.scrollToBottom()},error:function(t){e.hasLoaded=!0,console.warn("Fetching logfile failed:",t),e.error=t}})},onScroll:function(){var t=document.scrollingElement,e=document.documentElement.clientHeight;this.atBottom=e===t.scrollHeight-t.scrollTop,this.atTop=t.scrollTop<=0},scrollToTop:function(){document.scrollingElement.scrollTop=0},scrollToBottom:function(){document.scrollingElement.scrollTop=document.scrollingElement.scrollHeight}},install:function(t){var e=t.viewRegistry;e.addView({name:"instances/logfile",parent:"instances",path:"logfile",component:this,label:"Logfile",group:"Logging",order:200,isEnabled:function(t){var e=t.instance;return e.hasEndpoint("logfile")}})}},v=m,g=(n("8cdb"),n("6691")),b=Object(g["a"])(v,a,r,!1,null,null,null);e["default"]=b.exports},"2d8a":function(t,e,n){"use strict";e["a"]=function(t){for(var e=t[0],n=0;n<(arguments.length<=1?0:arguments.length-1);++n)e+=encodeURIComponent(n+1<1||arguments.length<=n+1?void 0:arguments[n+1])+t[n+1];return e}},"2dfc":function(t,e,n){"use strict";var a=n("0140"),r=n.n(a);r.a},"2fb9":function(t,e,n){"use strict";var a=n("f99b"),r=n.n(a);r.a},"310e":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",t._g({staticClass:"icon-button",attrs:{type:"button",disabled:t.disabled}},t.$listeners),[n("font-awesome-icon",{class:t.iconClass,attrs:{icon:t.icon,size:t.size}})],1)},r=[],s={props:{disabled:{type:Boolean,default:!1},icon:{type:[String,Array],required:!0},size:{type:String,default:null},iconClass:{type:String,default:null}}},i=s,c=(n("5dda"),n("6691")),o=Object(c["a"])(i,a,r,!1,null,null,null);e["default"]=o.exports},"34ce":function(t,e,n){"use strict";var a=n("1366"),r=n.n(a);r.a},"352a":function(t,e,n){},3627:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section heapdump"},[n("div",[t._m(0),t._m(1),n("a",{staticClass:"button is-primary",attrs:{href:"instances/"+t.instance.id+"/actuator/heapdump",target:"_blank"}},[n("font-awesome-icon",{attrs:{icon:"download"}}),t._v(" Download Heap Dump\n    ")],1)])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message is-warning"},[n("div",{staticClass:"message-body"},[t._v("\n        A heap dump may contain "),n("strong",[t._v("sensitive data")]),t._v(". Please handle with care.\n      ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message is-warning"},[n("div",{staticClass:"message-body"},[t._v("\n        Dumping the heap may be expensive in terms of cpu and disk space.\n      ")])])}],s=n("df0d"),i={props:{instance:{type:s["a"],required:!0}},install:function(t){var e=t.viewRegistry;e.addView({name:"instances/heapdump",parent:"instances",path:"heapdump",component:this,label:"Heap Dump",group:"JVM",order:800,isEnabled:function(t){var e=t.instance;return e.hasEndpoint("heapdump")}})}},c=i,o=(n("16b7"),n("6691")),l=Object(o["a"])(c,a,r,!1,null,null,null);e["default"]=l.exports},"37cf":function(t,e,n){var a={"./applications/index.vue":"dc6e","./instances/auditevents/index.vue":"6440","./instances/beans/index.vue":"c43b","./instances/caches/index.vue":"92af","./instances/configprops/index.vue":"8208","./instances/details/index.vue":"7e47","./instances/env/index.vue":"69ff","./instances/flyway/index.vue":"9bd0","./instances/heapdump/index.vue":"3627","./instances/httptrace/index.vue":"4baa","./instances/jolokia/index.vue":"e819","./instances/liquibase/index.vue":"cda4","./instances/logfile/index.vue":"2d42","./instances/loggers/index.vue":"5918","./instances/mappings/index.vue":"e325","./instances/metrics/index.vue":"e3af","./instances/scheduledtasks/index.vue":"380a","./instances/sessions/index.vue":"9e78","./instances/shell/index.vue":"82fb","./instances/threaddump/index.vue":"6fa1","./journal/index.vue":"e4a1","./turbine/index.vue":"8ff3","./wallboard/index.vue":"3b10"};function r(t){var e=s(t);return n(e)}function s(t){var e=a[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}r.keys=function(){return Object.keys(a)},r.resolve=s,t.exports=r,r.id="37cf"},"380a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section",class:{"is-loading":!t.hasLoaded}},[t.hasLoaded?[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Fetching scheduled tasks failed.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t.hasData?t._e():n("div",{staticClass:"message is-warning"},[n("div",{staticClass:"message-body"},[t._v("No scheduled tasks present.")])]),t.hasCronData?[n("h3",{staticClass:"title"},[t._v("Cron")]),n("table",{staticClass:"table is-fullwidth"},[t._m(0),t._l(t.cron,function(e){return n("tbody",{key:e.runnable.target},[n("tr",[n("td",{domProps:{textContent:t._s(e.runnable.target)}}),n("td",{staticClass:"monospaced",domProps:{textContent:t._s(e.expression)}})])])})],2)]:t._e(),t.hasFixedDelayData?[n("h3",{staticClass:"title"},[t._v("Fixed Delay")]),n("table",{staticClass:"metrics table is-fullwidth"},[t._m(1),t._l(t.fixedDelay,function(e){return n("tbody",{key:e.runnable.target},[n("tr",[n("td",{domProps:{textContent:t._s(e.runnable.target)}}),n("td",{domProps:{textContent:t._s(e.initialDelay)}}),n("td",{domProps:{textContent:t._s(e.interval)}})])])})],2)]:t._e(),t.hasFixedRateData?[n("h3",{staticClass:"title"},[t._v("Fixed Rate")]),n("table",{staticClass:"metrics table is-fullwidth"},[t._m(2),t._l(t.fixedRate,function(e){return n("tbody",{key:e.runnable.target},[n("tr",[n("td",{domProps:{textContent:t._s(e.runnable.target)}}),n("td",{domProps:{textContent:t._s(e.initialDelay)}}),n("td",{domProps:{textContent:t._s(e.interval)}})])])})],2)]:t._e()]:t._e()],2)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Runnable")]),n("th",[t._v("Expression")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Runnable")]),n("th",[t._v("Initial Delay (ms)")]),n("th",[t._v("Interval (ms)")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Runnable")]),n("th",[t._v("Initial Delay (ms)")]),n("th",[t._v("Interval (ms)")])])])}],s=(n("63ff"),n("e71e")),i=n("df0d"),c={props:{instance:{type:i["a"],required:!0}},data:function(){return{hasLoaded:!1,error:null,cron:null,fixedDelay:null,fixedRate:null}},computed:{hasCronData:function(){return this.cron&&this.cron.length},hasFixedDelayData:function(){return this.fixedDelay&&this.fixedDelay.length},hasFixedRateData:function(){return this.fixedRate&&this.fixedRate.length},hasData:function(){return this.hasCronData||this.hasFixedDelayData||this.hasFixedRateData}},created:function(){this.fetchScheduledTasks()},methods:{fetchScheduledTasks:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.error=null,t.prev=1,t.next=4,this.instance.fetchScheduledTasks();case 4:e=t.sent,this.cron=e.data.cron,this.fixedDelay=e.data.fixedDelay,this.fixedRate=e.data.fixedRate,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),console.warn("Fetching scheduled tasks failed:",t.t0),this.error=t.t0;case 14:this.hasLoaded=!0;case 15:case"end":return t.stop()}},t,this,[[1,10]])}));function e(){return t.apply(this,arguments)}return e}()},install:function(t){var e=t.viewRegistry;e.addView({name:"instances/scheduledtasks",parent:"instances",path:"scheduledtasks",component:this,label:"Scheduled Tasks",group:"Insights",order:950,isEnabled:function(t){var e=t.instance;return e.hasEndpoint("scheduledtasks")}})}},o=c,l=n("6691"),u=Object(l["a"])(o,a,r,!1,null,null,null);e["default"]=u.exports},3842:function(t,e,n){},"3b10":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"wallboard section"},[n("hex-mesh",{attrs:{items:t.applications,"class-for-item":t.classForApplication},on:{click:t.select},scopedSlots:t._u([{key:"item",fn:function(e){return n("div",{key:e.name,staticClass:"hex__body application"},[n("div",{staticClass:"application__header application__time-ago is-muted"},[n("sba-time-ago",{attrs:{date:e.statusTimestamp}})],1),n("div",{staticClass:"application__body"},[n("h1",{staticClass:"application__name",domProps:{textContent:t._s(e.name)}}),n("p",{staticClass:"application__instances is-muted"},[n("span",{domProps:{textContent:t._s(e.instances.length)}}),t._v(" instances")])]),n("h2",{staticClass:"application__footer application__version",domProps:{textContent:t._s(e.buildVersion)}})])}}])})],1)},r=[],s=(n("7364"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"on-resize",rawName:"v-on-resize",value:t.onResize,expression:"onResize"}],staticClass:"hex-mesh"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:t.meshWidth,height:t.meshHeight}},[n("defs",[n("clipPath",{attrs:{id:"hex-clip"}},[n("polygon",{attrs:{points:t.hexPath}})])]),[t._l(t.rows,function(e){return t._l(t.cols+(e%2?0:-1),function(a){return n("g",{key:a+"-"+e,staticClass:"hex",class:t.classForItem(t.item(a,e)),attrs:{transform:t.translate(a,e)},on:{click:function(n){return t.click(n,a,e)}}},[n("polygon",{attrs:{points:t.hexPath}}),t.item(a,e)?n("foreignObject",{staticStyle:{"pointer-events":"none"},attrs:{x:"0",y:"0",width:t.hexWidth,height:t.hexHeight}},[t._t("item",null,null,t.item(a,e))],2):t._e()],1)})})]],2)])}),i=[],c=(n("0eb5"),n("a4c5"),n("f763"),n("3b54"),n("2db6"),n("0655")),o=new WeakMap,l=function(t,e){u(t);var n=new c["default"](e.value);n.observe(t),o.set(t,n)},u=function(t){var e=o.get(t);e&&(e.disconnect(),o.delete(t))},d={bind:l,update:function(t,e){e.value!==e.oldValue&&l(t,e)},unbind:u},p=function(t,e){var n=Math.floor(e/2);return e*t-n},f=function(t,e,n,a){var r=t/n/Math.sqrt(3),s=2*e/(3*a+1);return Math.min(r,s)},h=function(t,e,n){var a=1,r=1,s=f(e,n,a,r);while(t>p(a,r)){var i=f(e,n,a+1,r),c=f(e,n,a,r+1);i>c?(s=i,a++):(s=c,r++)}return{cols:a,rows:r,sideLength:s}},m={props:{items:{type:Array,default:function(){return[]}},classForItem:{type:Function,default:function(){}}},directives:{onResize:d},data:function(){return{cols:1,rows:1,sideLength:1}},methods:{translate:function(t,e){var n=(t-1)*this.hexWidth+(e%2?0:this.hexWidth/2),a=(e-1)*this.sideLength*1.5;return"translate(".concat(n,",").concat(a,")")},item:function(t,e){var n=(e-1)*this.cols-Math.max(Math.floor((e-1)/2),0),a=n+t-1;return this.items[a]},point:function(t){var e=.95*this.sideLength,n=this.hexHeight/2,a=this.hexWidth/2;return"".concat(a+e*Math.cos((1+2*t)*Math.PI/6),",").concat(n+e*Math.sin((1+2*t)*Math.PI/6))},click:function(t,e,n){var a=this.item(e,n);a&&this.$emit("click",a,t)},updateLayout:function(){if(this.$el){var t=this.$el.getBoundingClientRect(),e=h(this.itemCount,t.width,t.height);this.cols=e.cols,this.rows=e.rows,this.sideLength=e.sideLength}},onResize:function(t){var e=!0,n=!1,a=void 0;try{for(var r,s=t[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var i=r.value;i.target===this.$el&&this.updateLayout()}}catch(c){n=!0,a=c}finally{try{e||null==s.return||s.return()}finally{if(n)throw a}}}},computed:{itemCount:function(){return this.items.length},hexPath:function(){return"".concat(this.point(0)," ").concat(this.point(1)," ").concat(this.point(2)," ").concat(this.point(3)," ").concat(this.point(4)," ").concat(this.point(5))},hexHeight:function(){return 2*this.sideLength},hexWidth:function(){return this.sideLength*Math.sqrt(3)},meshWidth:function(){return this.hexWidth*this.cols},meshHeight:function(){return this.sideLength*(2+1.5*(this.rows-1))}},watch:{sideLength:function(t){this.$el.style["font-size"]="".concat(t/9.5,"px")},itemCount:{handler:"updateLayout",immediate:!0}}},v=m,g=(n("8fbb"),n("6691")),b=Object(g["a"])(v,s,i,!1,null,null,null),y=b.exports,_={components:{hexMesh:y},props:{applications:{type:Array,default:function(){return[]}},error:{type:Error,default:null}},methods:{classForApplication:function(t){return t?"UP"===t.status?"is-selectable is-primary":"RESTRICTED"===t.status?"is-selectable is-warning":"DOWN"===t.status?"is-selectable is-danger":"OUT_OF_SERVICE"===t.status?"is-selectable is-danger":(t.status,"is-selectable is-light"):null},select:function(t){1===t.instances.length?this.$router.push({name:"instances/details",params:{instanceId:t.instances[0].id}}):this.$router.push({name:"applications",params:{selected:t.name}})}},install:function(t){var e=t.viewRegistry;e.addView({path:"/wallboard",name:"wallboard",label:"图表",order:-100,component:this})}},C=_,w=(n("7726"),Object(g["a"])(C,a,r,!1,null,null,null));e["default"]=w.exports},"3c4d":function(t,e,n){},"41c3":function(t,e,n){},"435a":function(t,e,n){},4700:function(t,e,n){"use strict";n("2338"),n("f763"),n("fb37");var a=n("a506"),r=n("976c"),s=n("ab52"),i=n("bb12"),c=n("2a9c"),o=n("b05d"),l=n("f0e0"),u=n("16e9");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach(function(e){Object(a["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}e["a"]=p({},r,{},s,{},i,{},c,{},o,{},l,{},u)},"470b":function(t,e,n){},"4baa":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section",class:{"is-loading":!t.hasLoaded}},[t.hasLoaded?[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Fetching traces failed.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),t.traces?[n("div",{staticClass:"field-body"},[n("div",{staticClass:"field has-addons"},[n("p",{staticClass:"control is-expanded"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"input",attrs:{type:"search",placeholder:"path filter"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}})]),n("p",{staticClass:"control"},[n("span",{staticClass:"button is-static"},[n("span",{domProps:{textContent:t._s(t.filteredTraces.length)}}),t._v("\n              /\n              "),n("span",{domProps:{textContent:t._s(t.traces.length)}})])])])]),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field is-narrow"},[n("div",{staticClass:"control"},[n("label",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.showSuccess,expression:"showSuccess"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.showSuccess)?t._i(t.showSuccess,null)>-1:t.showSuccess},on:{change:function(e){var n=t.showSuccess,a=e.target,r=!!a.checked;if(Array.isArray(n)){var s=null,i=t._i(n,s);a.checked?i<0&&(t.showSuccess=n.concat([s])):i>-1&&(t.showSuccess=n.slice(0,i).concat(n.slice(i+1)))}else t.showSuccess=r}}}),t._v("\n              success\n            ")])])]),n("div",{staticClass:"field is-narrow"},[n("div",{staticClass:"control"},[n("label",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.showClientErrors,expression:"showClientErrors"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.showClientErrors)?t._i(t.showClientErrors,null)>-1:t.showClientErrors},on:{change:function(e){var n=t.showClientErrors,a=e.target,r=!!a.checked;if(Array.isArray(n)){var s=null,i=t._i(n,s);a.checked?i<0&&(t.showClientErrors=n.concat([s])):i>-1&&(t.showClientErrors=n.slice(0,i).concat(n.slice(i+1)))}else t.showClientErrors=r}}}),t._v("\n              client errors\n            ")])])]),n("div",{staticClass:"field is-narrow"},[n("div",{staticClass:"control"},[n("label",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.showServerErrors,expression:"showServerErrors"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.showServerErrors)?t._i(t.showServerErrors,null)>-1:t.showServerErrors},on:{change:function(e){var n=t.showServerErrors,a=e.target,r=!!a.checked;if(Array.isArray(n)){var s=null,i=t._i(n,s);a.checked?i<0&&(t.showServerErrors=n.concat([s])):i>-1&&(t.showServerErrors=n.slice(0,i).concat(n.slice(i+1)))}else t.showServerErrors=r}}}),t._v("\n              server errors\n            ")])])]),t.actuatorPath?n("div",{staticClass:"field is-narrow"},[n("div",{staticClass:"control"},[n("label",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.excludeActuator,expression:"excludeActuator"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.excludeActuator)?t._i(t.excludeActuator,null)>-1:t.excludeActuator},on:{change:function(e){var n=t.excludeActuator,a=e.target,r=!!a.checked;if(Array.isArray(n)){var s=null,i=t._i(n,s);a.checked?i<0&&(t.excludeActuator=n.concat([s])):i>-1&&(t.excludeActuator=n.slice(0,i).concat(n.slice(i+1)))}else t.excludeActuator=r}}}),t._v("\n              exclude "),n("span",{domProps:{textContent:t._s(t.actuatorPath)}}),t._v("/**\n            ")])])]):t._e()]),n("sba-traces-chart",{attrs:{traces:t.filteredTraces},on:{selected:function(e){return t.selection=e}}}),n("sba-traces-list",{attrs:{traces:t.selectedTraces}})]:t._e()]:t._e()],2)},r=[],s=(n("b745"),n("63ff"),n("e71e")),i=n("c887"),c=(n("5b18"),n("f301"),n("df99"),n("cbb3")),o=n("98d4"),l=n("ab1f"),u=n("d76e"),d=n("df0d"),p=n("8be7"),f=n("6bf2"),h=n.n(f),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"trace-chart"},[t.tooltipSelection?n("div",{staticClass:"trace-chart__tooltip",class:"trace-chart__tooltip--"+(this.x(t.tooltipSelection[0])>this.width/2?"left":"right")},[n("table",{staticClass:"is-narrow is-size-7"},[n("tr",[n("th",[t._v("total requests")]),n("td",{domProps:{textContent:t._s(t.tooltipContent.totalCount)}})]),n("tr",[n("th",[t._v("successful")]),n("td",{domProps:{textContent:t._s(t.tooltipContent.totalSuccess)}})]),n("tr",[n("th",[t._v("status 4xx")]),n("td",{domProps:{textContent:t._s(t.tooltipContent.totalClientErrors)}})]),n("tr",[n("th",[t._v("status 5xx")]),n("td",{domProps:{textContent:t._s(t.tooltipContent.totalServerErrors)}})]),n("tr",[n("th",[t._v("max duration")]),n("td",{domProps:{textContent:t._s(t.tooltipContent.maxTime+"ms")}})]),n("tr",[n("th",[t._v("ø duration")]),n("td",{domProps:{textContent:t._s(t.tooltipContent.avgTime+"ms")}})])])]):t._e(),n("svg",{staticClass:"trace-chart__svg"})])},v=[],g=(n("2338"),n("fb37"),n("f763"),n("a506")),b=n("4700"),y=n("b05d");function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(n,!0).forEach(function(e){Object(g["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var w=1e3,x={props:{traces:{type:Array,default:function(){return[]}}},data:function(){return{brushSelection:null,hovered:null}},computed:{chartData:function(){if(this.traces.length<=0)return[];for(var t=[],e=h()().valueOf(),n=this.traces.length-1,a=this.traces[this.traces.length-1].timestamp.valueOf(),r=Math.floor(a.valueOf()/w)*w;r<e;r+=w){var s={timeStart:r,timeEnd:r+w,totalCount:0,totalSuccess:0,totalClientErrors:0,totalServerErrors:0,totalTime:0,maxTime:0};while(n>=0&&this.traces[n].timestamp.valueOf()<r+w){var i=this.traces[n];s.totalCount++,i.isSuccess()?s.totalSuccess++:i.isClientError()?s.totalClientErrors++:i.isServerError()&&s.totalServerErrors++,i.timeTaken&&(s.totalTime+=i.timeTaken,s.maxTime=Math.max(s.maxTime,i.timeTaken)),n--}t.push(s)}return t},tooltipSelection:function(){return this.brushSelection?this.brushSelection:this.hovered?[this.hovered,this.hovered+w]:null},tooltipContent:function(){var t=this.tooltipSelection,e=this.chartData.filter(function(e){return e.timeStart.valueOf()>=t[0]&&e.timeStart.valueOf()<t[1]}).reduce(function(t,e){return{totalCount:t.totalCount+e.totalCount,totalSuccess:t.totalSuccess+e.totalSuccess,totalClientErrors:t.totalClientErrors+e.totalClientErrors,totalServerErrors:t.totalServerErrors+e.totalServerErrors,totalTime:t.totalTime+e.totalTime,maxTime:Math.max(t.maxTime,e.maxTime)}},{totalCount:0,totalSuccess:0,totalClientErrors:0,totalServerErrors:0,totalTime:0,maxTime:0});return C({},e,{avgTime:e.totalCount>0?Math.floor(e.totalTime/e.totalCount):0})}},methods:{drawChart:function(t){var e=this,n=b["a"].scaleTime().range([0,e.width]).domain(b["a"].extent(t,function(t){return t.timeStart}));this.x=n;var a=b["a"].scaleLinear().range([e.height,0]).domain([0,b["a"].max(t,function(t){return t.totalCount})]),r=b["a"].area().x(function(t){return n(t.data.timeStart)}).y0(function(t){return a(t[0])}).y1(function(t){return a(t[1])}),s=b["a"].stack().keys(["totalSuccess","totalClientErrors","totalServerErrors"]),i=e.areas.selectAll(".trace-chart__area").data(s(t));i.enter().append("path").merge(i).attr("class",function(t){return"trace-chart__area trace-chart__area--".concat(t.key)}).attr("d",r),i.exit().remove(),e.xAxis.call(b["a"].axisBottom(n).ticks(10).tickFormat(function(t){return h()(t).format("HH:mm:ss")})),e.yAxis.call(b["a"].axisRight(a).ticks(Math.min(5,b["a"].max(t,function(t){return t.totalCount}))).tickSize(this.width)).call(function(t){return t.selectAll(".tick text").attr("x",-2).attr("dy",2).attr("text-anchor","end")});var c=b["a"].brushX().extent([[0,0],[e.width,e.height]]).on("start",function(){y["event"].selection&&(e.isBrushing=!0,e.hovered=null)}).on("brush",function(){if(null!==y["event"].sourceEvent&&"brush"!==y["event"].sourceEvent.type&&y["event"].selection){var t=Math.floor(n.invert(y["event"].selection[0])/w)*w,a=Math.ceil(n.invert(y["event"].selection[1])/w)*w;b["a"].select(this).call(y["event"].target.move,[t,a].map(n)),e.brushSelection=[t,a]}}).on("end",function(){e.isBrushing=!1,y["event"].selection||(e.brushSelection=null)});e.brushGroup.call(c).on("mousemove",function(){if(!e.isBrushing){var t=b["a"].mouse(e.brushGroup.select(".overlay").node())[0];e.hovered=Math.floor(n.invert(t)/w)*w}}).on("mouseout",function(){e.hovered=null}),c.move(e.brushGroup,e.brushSelection?e.brushSelection.map(n):null)}},mounted:function(){var t={top:20,right:20,bottom:30,left:20};this.width=this.$el.getBoundingClientRect().width-t.left-t.right,this.height=this.$el.getBoundingClientRect().height-t.top-t.bottom,this.chartLayer=b["a"].select(this.$el.querySelector(".trace-chart__svg")).append("g").attr("transform","translate(".concat(t.left,",").concat(t.top,")")),this.xAxis=this.chartLayer.append("g").attr("class","trace-chart__axis-x").attr("transform","translate(0,".concat(this.height,")")),this.yAxis=this.chartLayer.append("g").attr("class","trace-chart__axis-y").attr("stroke",null),this.areas=this.chartLayer.append("g"),this.hover=this.chartLayer.append("path").attr("class","trace-chart__hover").attr("opacity",0),this.brushGroup=this.chartLayer.append("g").attr("class","trace-chart__brush"),this.drawChart(this.chartData)},watch:{chartData:"drawChart",hovered:function(t){t?this.hover.attr("opacity",1).attr("d","M".concat(this.x(t),",").concat(this.height," ").concat(this.x(t),",0")):this.hover.attr("opacity",0)},brushSelection:function(t){this.$emit("selected",t)}}},O=x,j=(n("2c25"),n("6691")),k=Object(j["a"])(O,m,v,!1,null,null,null),P=k.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"httptraces table is-hoverable is-fullwidth"},[t._m(0),n("tbody",[t._l(t.traces,function(e){return[n("tr",{key:e.key,staticClass:"is-selectable",class:{"httptraces__trace---is-detailed":t.showDetails[e.key]},on:{click:function(n){t.showDetails[e.key]?t.$delete(t.showDetails,e.key):t.$set(t.showDetails,e.key,!0)}}},[n("td",{staticClass:"httptraces__trace-timestamp",domProps:{textContent:t._s(e.timestamp.format("L HH:mm:ss.SSS"))}}),n("td",{staticClass:"httptraces__trace-method",domProps:{textContent:t._s(e.request.method)}}),n("td",{staticClass:"httptraces__trace-uri",domProps:{textContent:t._s(e.request.uri)}}),n("td",{staticClass:"httptraces__trace-status"},[n("span",{staticClass:"tag",class:{"is-success":e.isSuccess(),"is-warning":e.isClientError(),"is-danger":e.isServerError()},domProps:{textContent:t._s(e.response.status)}})]),n("td",{staticClass:"httptraces__trace-contentType",domProps:{textContent:t._s(e.contentType)}}),n("td",{staticClass:"httptraces__trace-contentLength",domProps:{textContent:t._s(e.contentLength?t.prettyBytes(e.contentLength):"")}}),n("td",{staticClass:"httptraces__trace-timeTaken",domProps:{textContent:t._s(null!==e.timeTaken&&"undefined"!==typeof e.timeTaken?e.timeTaken+" ms":"")}})]),t.showDetails[e.key]?n("tr",{key:e.key+"-detail"},[n("td",{attrs:{colspan:"7"}},[n("pre",{staticClass:"httptraces__trace-detail",domProps:{textContent:t._s(t.toJson(e))}})])]):t._e()]}),0===t.traces.length?n("tr",[n("td",{staticClass:"is-muted",attrs:{colspan:"7"}},[t._v("No traces found.")])]):t._e()],2)])},E=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{staticClass:"httptraces__trace-timestamp"},[t._v("Timestamp")]),n("th",{staticClass:"httptraces__trace-method"},[t._v("Method")]),n("th",{staticClass:"httptraces__trace-uri"},[t._v("Path")]),n("th",{staticClass:"httptraces__trace-status"},[t._v("Status")]),n("th",{staticClass:"httptraces__trace-contentType"},[t._v("Content-Type")]),n("th",{staticClass:"httptraces__trace-contentLength"},[t._v("Length")]),n("th",{staticClass:"httptraces__trace-timeTaken"},[t._v("Time")])])])}],L=n("d5db"),R=n.n(L),A={props:{traces:{type:Array,default:function(){return[]}}},data:function(){return{showDetails:{}}},methods:{prettyBytes:R.a,toJson:function(t){return JSON.stringify(t,null,4)}}},T=A,D=(n("dc74"),Object(j["a"])(T,S,E,!1,null,null,null)),M=D.exports,F=function(t,e){return t?function(n,a){return t(n,a)&&e(n,a)}:e},N=function(){function t(e){var n=e.timestamp,a=Object(c["a"])(e,["timestamp"]);Object(o["a"])(this,t),Object.assign(this,a),this.timestamp=h()(n)}return Object(l["a"])(t,[{key:"compareTo",value:function(t){return this.timestamp-t.timestamp}},{key:"isSuccess",value:function(){return this.response.status<=399}},{key:"isClientError",value:function(){return this.response.status>=400&&this.response.status<=499}},{key:"isServerError",value:function(){return this.response.status>=500&&this.response.status<=599}},{key:"key",get:function(){return"".concat(this.timestamp,"-").concat(this.request.method,"-").concat(this.request.uri)}},{key:"contentLength",get:function(){var t=this.response.headers["Content-Length"]&&this.response.headers["Content-Length"][0];return t&&/^\d+$/.test(t)?parseInt(t):null}},{key:"contentType",get:function(){var t=this.response.headers["Content-Type"]&&this.response.headers["Content-Type"][0];if(t){var e=t.indexOf(";");return e>=0?t.substring(0,e):t}return null}}]),t}(),$={props:{instance:{type:d["a"],required:!0}},mixins:[u["a"]],components:{sbaTracesList:M,sbaTracesChart:P},data:function(){return{hasLoaded:!1,error:null,traces:null,filter:null,excludeActuator:!0,showSuccess:!0,showClientErrors:!0,showServerErrors:!0,selection:null}},computed:{actuatorPath:function(){if(this.instance.registration.managementUrl.includes(this.instance.registration.serviceUrl)){var t=this.instance.registration.managementUrl.substring(this.instance.registration.serviceUrl.length);if(t.length>0)return t.startsWith("/")?t:"/".concat(t)}return null},filteredTraces:function(){var t=this.getFilterFn();return t?this.traces.filter(t):this.traces},selectedTraces:function(){if(null===this.selection)return this.filteredTraces;var t=Object(i["a"])(this.selection,2),e=t[0],n=t[1];return this.filteredTraces.filter(function(t){return!t.timestamp.isBefore(e)&&!t.timestamp.isAfter(n)})}},methods:{fetchHttptrace:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.instance.fetchHttptrace();case 2:return e=t.sent,n=e.data.traces.map(function(t){return new N(t)}).filter(function(t){return t.timestamp.isAfter(a.lastTimestamp)}),n.sort(function(t,e){return-1*t.compareTo(e)}),n.length>0&&(this.lastTimestamp=n[0].timestamp),t.abrupt("return",n);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),createSubscription:function(){var t=this;return t.lastTimestamp=h()(0),t.error=null,Object(p["u"])(0,5e3).pipe(Object(p["g"])(t.fetchHttptrace)).subscribe({next:function(e){t.hasLoaded=!0,t.traces=t.traces?e.concat(t.traces):e},error:function(e){t.hasLoaded=!0,console.warn("Fetching traces failed:",e),t.error=e}})},getFilterFn:function(){var t=this,e=null;if(null!==this.actuatorPath&&this.excludeActuator&&(e=F(e,function(e){return!e.request.uri.includes(t.actuatorPath)})),this.filter){var n=this.filter.toLowerCase();e=F(e,function(t){return t.request.uri.toLowerCase().includes(n)})}return this.showSuccess||(e=F(e,function(t){return!t.isSuccess()})),this.showClientErrors||(e=F(e,function(t){return!t.isClientError()})),this.showServerErrors||(e=F(e,function(t){return!t.isServerError()})),e}},install:function(t){var e=t.viewRegistry;e.addView({name:"instances/httptrace",parent:"instances",path:"httptrace",component:this,label:"Http Traces",group:"Web",order:500,isEnabled:function(t){var e=t.instance;return e.hasEndpoint("httptrace")}})}},I=$,B=Object(j["a"])(I,a,r,!1,null,null,null);e["default"]=B.exports},"4e0f":function(t,e,n){},"4f18":function(t,e,n){"use strict";var a=n("3c4d"),r=n.n(a);r.a},"52fc":function(t,e,n){},"55fe":function(t,e,n){"use strict";n("63ff");var a=n("e71e");e["a"]=Object(a["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("undefined"!==typeof window.EventSource){t.next=2;break}return t.abrupt("return",n.e("event-source-polyfill").then(n.t.bind(null,"5075",7)));case 2:return t.abrupt("return",Promise.resolve());case 3:case"end":return t.stop()}},t)}))},5643:function(t,e,n){"use strict";var a=n("7d9b"),r=n.n(a);r.a},"579f":function(t,e,n){"use strict";var a=n("f704"),r=n.n(a);r.a},5918:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section",class:{"is-loading":!t.hasLoaded}},[t.hasLoaded?[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Fetching loggers failed.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),t.loggerConfig?[n("div",{staticClass:"field-body"},[n("div",{staticClass:"field has-addons"},[n("p",{staticClass:"control is-expanded"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"input",attrs:{type:"search",placeholder:"name filter"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}})]),n("p",{staticClass:"control"},[n("span",{staticClass:"button is-static"},[n("span",{domProps:{textContent:t._s(t.filteredLoggers.length)}}),t._v("\n              /\n              "),n("span",{domProps:{textContent:t._s(t.loggerConfig.loggers.length)}})])])])]),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field is-narrow"},[n("div",{staticClass:"control"},[n("label",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.showClassLoggersOnly,expression:"showClassLoggersOnly"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.showClassLoggersOnly)?t._i(t.showClassLoggersOnly,null)>-1:t.showClassLoggersOnly},on:{change:function(e){var n=t.showClassLoggersOnly,a=e.target,r=!!a.checked;if(Array.isArray(n)){var s=null,i=t._i(n,s);a.checked?i<0&&(t.showClassLoggersOnly=n.concat([s])):i>-1&&(t.showClassLoggersOnly=n.slice(0,i).concat(n.slice(i+1)))}else t.showClassLoggersOnly=r}}}),t._v("\n              class only\n            ")])])]),n("div",{staticClass:"field is-narrow"},[n("div",{staticClass:"control"},[n("label",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.showConfiguredLoggersOnly,expression:"showConfiguredLoggersOnly"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.showConfiguredLoggersOnly)?t._i(t.showConfiguredLoggersOnly,null)>-1:t.showConfiguredLoggersOnly},on:{change:function(e){var n=t.showConfiguredLoggersOnly,a=e.target,r=!!a.checked;if(Array.isArray(n)){var s=null,i=t._i(n,s);a.checked?i<0&&(t.showConfiguredLoggersOnly=n.concat([s])):i>-1&&(t.showConfiguredLoggersOnly=n.slice(0,i).concat(n.slice(i+1)))}else t.showConfiguredLoggersOnly=r}}}),t._v("\n              configured\n            ")])])])])]:t._e(),t.loggerConfig?n("table",{staticClass:"table is-hoverable is-fullwidth"},[n("tbody",[t._l(t.limitedLoggers,function(e){return n("tr",{key:e.name},[n("td",[n("span",{staticClass:"is-breakable",domProps:{textContent:t._s(e.name)}}),e.name in t.failed?n("span",{staticClass:"has-text-danger"},[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),n("span",{domProps:{textContent:t._s("Configuring "+t.failed[e.name]+" failed.")}})],1):t._e(),n("sba-logger-control",{staticClass:"is-pulled-right",attrs:{"level-options":t.levels,"effective-level":e.effectiveLevel,"configured-level":e.configuredLevel,"is-loading":t.loading[e.name],"has-failed":t.failed[e.name],"allow-reset":"ROOT"!==e.name},on:{input:function(n){return t.configureLogger(e,n)}}})],1)])}),0===t.limitedLoggers.length?n("tr",[n("td",{staticClass:"is-muted",attrs:{colspan:"5"}},[t._v("No loggers found.\n          ")])]):t._e()],2)]):t._e()]:t._e()],2)},r=[],s=(n("f301"),n("df99"),n("7364"),n("63ff"),n("e71e")),i=n("df0d"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field is-grouped logger-control"},[n("div",{staticClass:"control buttons has-addons"},t._l(t.levelOptions,function(e){return n("button",{key:e,staticClass:"button logger-control__level",class:t.cssClass(e),domProps:{textContent:t._s(e)},on:{click:function(n){return n.stopPropagation(),t.selectLevel(e)}}})}),0),n("div",{staticClass:"control"},[n("button",{staticClass:"button is-light",class:{"is-loading":null===t.isLoading},attrs:{disabled:!t.configured||!t.allowReset},on:{click:function(e){return e.stopPropagation(),t.selectLevel(null)}}},[t._v("\n      Reset\n    ")])])])},o=[],l={props:{effectiveLevel:{type:String,required:!0},configuredLevel:{type:String,default:null},levelOptions:{type:Array,required:!0},allowReset:{type:Boolean,default:!0},isLoading:{type:String,default:void 0}},computed:{level:function(){return this.configuredLevel||this.effectiveLevel},configured:function(){return!!this.configuredLevel}},methods:{selectLevel:function(t){this.$emit("input",t)},cssClass:function(t){return{"logger-control__level--inherited":this.level===t&&!this.configured,"is-active is-danger":this.level===t&&"TRACE"===this.level,"is-active is-warning":this.level===t&&"DEBUG"===this.level,"is-active is-info":this.level===t&&"INFO"===this.level,"is-active is-success":this.level===t&&"WARN"===this.level,"is-active is-light":this.level===t&&"ERROR"===this.level,"is-active is-black":this.level===t&&"OFF"===this.level,"is-loading":this.isLoading===t}}}},u=l,d=(n("879f"),n("6691")),p=Object(d["a"])(u,c,o,!1,null,null,null),f=p.exports,h=function(t){return/\.[A-Z]/.test(t)},m=function(t,e){return t?function(n,a){return t(n,a)&&e(n,a)}:e},v={components:{sbaLoggerControl:f},props:{instance:{type:i["a"],required:!0}},data:function(){return{hasLoaded:!1,error:null,loggerConfig:null,filter:"",showClassLoggersOnly:!1,showConfiguredLoggersOnly:!1,visibleLimit:25,loading:{},failed:{}}},computed:{levels:function(){return this.loggerConfig.levels},limitedLoggers:function(){return this.visibleLimit>0?this.filteredLoggers.slice(0,this.visibleLimit):this.filteredLoggers},filteredLoggers:function(){var t=this.getFilterFn();return t?this.loggerConfig.loggers.filter(t):this.loggerConfig.loggers}},methods:{configureLogger:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=this,r=setTimeout(function(){return a.$set(a.loading,e.name,n)},150),t.prev=2,t.next=5,this.instance.configureLogger(e.name,n);case 5:a.$delete(a.failed,e.name,n),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](2),console.warn("Configuring logger '".concat(e.name,"' failed:"),t.t0),a.$set(a.failed,e.name,n);case 12:return t.prev=12,t.next=15,this.fetchLoggers();case 15:return t.prev=15,a.$delete(a.loading,e.name),clearTimeout(r),t.finish(15);case 19:case"end":return t.stop()}},t,this,[[2,8],[12,,15,19]])}));function e(e,n){return t.apply(this,arguments)}return e}(),fetchLoggers:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.error=null,t.prev=1,t.next=4,this.instance.fetchLoggers();case 4:e=t.sent,this.loggerConfig=e.data,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),console.warn("Fetching loggers failed:",t.t0),this.error=t.t0;case 12:this.hasLoaded=!0;case 13:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}(),onScroll:function(){this.loggerConfig&&this.$el.getBoundingClientRect().bottom-400<=window.innerHeight&&this.visibleLimit<this.filteredLoggers.length&&(this.visibleLimit+=25)},getFilterFn:function(){var t=null;if(this.showClassLoggersOnly&&(t=m(t,function(t){return h(t.name)})),this.showConfiguredLoggersOnly&&(t=m(t,function(t){return!!t.configuredLevel})),this.filter){var e=this.filter.toLowerCase();t=m(t,function(t){return t.name.toLowerCase().includes(e)})}return t}},created:function(){this.fetchLoggers()},mounted:function(){window.addEventListener("scroll",this.onScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)},install:function(t){var e=t.viewRegistry;e.addView({name:"instances/loggers",parent:"instances",path:"loggers",component:this,label:"Loggers",group:"Logging",order:300,isEnabled:function(t){var e=t.instance;return e.hasEndpoint("loggers")}})}},g=v,b=Object(d["a"])(g,a,r,!1,null,null,null);e["default"]=b.exports},"5b5a":function(t,e,n){},"5c12":function(t,e,n){},"5dda":function(t,e,n){"use strict";var a=n("f9bb"),r=n.n(a);r.a},"5e79":function(t,e,n){"use strict";var a=n("470b"),r=n.n(a);r.a},"5e8b":function(t,e,n){"use strict";n.d(e,"a",function(){return c});n("7364"),n("cde0"),n("608b"),n("0eb5"),n("a4c5"),n("f763");var a=n("98d4"),r=n("ab1f"),s=n("aac3"),i=n("8be7"),c=function(){function t(){var e=this;Object(a["a"])(this,t),this.applications=[],this.applications.findInstance=function(t){var n=!0,a=!1,r=void 0;try{for(var s,i=e.applications[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var c=s.value,o=c.findInstance(t);if(o)return o}}catch(l){a=!0,r=l}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}},this.applications.findApplicationForInstance=function(t){return e.applications.find(function(e){return!!e.findInstance(t)})},this.applications.indexOfApplication=function(t){return e.applications.findIndex(function(e){return e.name===t})},this._listeners={added:[],updated:[],removed:[]}}return Object(r["a"])(t,[{key:"addEventListener",value:function(t,e){t in this._listeners||(this._listeners[t]=[]),this._listeners[t].push(e)}},{key:"removeEventListener",value:function(t,e){if(t in this._listeners){var n=this._listeners[t].indexOf(e);n>0&&this._listeners[t].splice(n,1)}}},{key:"_dispatchEvent",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];if(t in this._listeners){var r=this;this._listeners[t].forEach(function(t){return t.call.apply(t,[r].concat(n))})}}},{key:"start",value:function(){var t=this,e=Object(i["i"])(function(){return s["a"].list()}).pipe(Object(i["g"])(function(t){return t.data})),n=s["a"].getStream().pipe(Object(i["p"])(function(t){return t.data}));this.subscription=Object(i["e"])(e,n).pipe(Object(i["k"])(function(){return t._dispatchEvent("connected")}),Object(i["s"])(function(e){return e.pipe(Object(i["t"])(function(e){return t._dispatchEvent("error",e)}),Object(i["j"])(5e3))})).subscribe({next:function(e){var n=t.applications.indexOfApplication(e.name);if(n>=0){var a=t.applications[n];e.instances.length>0?(t.applications.splice(n,1,e),t._dispatchEvent("updated",e,a)):(t.applications.splice(n,1),t._dispatchEvent("removed",a))}else t.applications.push(e),t._dispatchEvent("added",e)}})}},{key:"stop",value:function(){if(this.subscription)try{!this.subscription.closed&&this.subscription.unsubscribe()}finally{this.subscription=null}}}]),t}()},"5fc5":function(t,e,n){"use strict";var a=n("6a47"),r=n.n(a);r.a},6155:function(t,e,n){"use strict";n.r(e);n("d4d5");var a=n("2582"),r=n.n(a);e["default"]={props:{date:{type:[String,Date,Number,r.a],default:null}},data:function(){return{now:r()(),timer:null}},computed:{timeAgo:function(){return r()(this.date).short(!0,this.now)}},created:function(){var t=this;this.timer=window.setInterval(function(){t.now=r()()},1e3)},render:function(){return this._v(this.timeAgo)},beforeDestroy:function(){this.timer&&window.clearInterval(this.timer)}}},"61b6":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.abort,expression:"abort"}],staticClass:"confirm-button",class:{"is-warning":t.confirm},on:{click:t.click}},[t.confirm?t._t("confirm",[t._v("Confirm")]):t._t("default")],2)},r=[],s=n("e338"),i={directives:{onClickaway:s["directive"]},data:function(){return{confirm:!1}},methods:{abort:function(){this.confirm=!1},click:function(t){if(this.confirm)this.$el.style.width=null,this.$emit("click",t);else{var e=this.$el.getBoundingClientRect().width;this.$el.style.width="".concat(e,"px")}this.confirm=!this.confirm}}},c=i,o=(n("62ad"),n("6691")),l=Object(o["a"])(c,a,r,!1,null,null,null);e["default"]=l.exports},"62ad":function(t,e,n){"use strict";var a=n("435a"),r=n.n(a);r.a},6440:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section"},[n("div",{staticClass:"field is-horizontal"},[n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("p",{staticClass:"control is-expanded"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.filter.principal,expression:"filter.principal",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"search",placeholder:"Principal"},domProps:{value:t.filter.principal},on:{input:function(e){e.target.composing||t.$set(t.filter,"principal",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),n("div",{staticClass:"field"},[n("p",{staticClass:"control is-expanded"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.type,expression:"filter.type"}],staticClass:"input",attrs:{list:"auditevent-type",type:"search",placeholder:"Type"},domProps:{value:t.filter.type},on:{input:function(e){e.target.composing||t.$set(t.filter,"type",e.target.value)}}}),t._m(0)])]),n("div",{staticClass:"field"},[n("p",{staticClass:"control is-expanded"},[n("input",{staticClass:"input",attrs:{type:"datetime-local",placeholder:"Date"},domProps:{value:t.formatDate(t.filter.after)},on:{input:function(e){t.filter.after=t.parseDate(e.target.value)}}})])])])]),[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Fetching audit events failed.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),t.isOldAuditevents?n("div",{staticClass:"message is-warning"},[n("div",{staticClass:"message-body"},[t._v("\n        Audit Log is not supported for Spring Boot 1.x applications.\n      ")])]):t._e(),n("auditevents-list",{attrs:{instance:t.instance,events:t.events,"is-loading":t.isLoading}})]],2)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("datalist",{attrs:{id:"auditevent-type"}},[n("option",{attrs:{value:"AUTHENTICATION_FAILURE"}}),n("option",{attrs:{value:"AUTHENTICATION_SUCCESS"}}),n("option",{attrs:{value:"AUTHENTICATION_SWITCH"}}),n("option",{attrs:{value:"AUTHORIZATION_FAILURE"}})])}],s=(n("63ff"),n("e71e")),i=(n("f301"),n("df99"),n("cbb3")),c=n("98d4"),o=n("ab1f"),l=n("d76e"),u=n("df0d"),d=n("8be7"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"auditevents table is-hoverable is-fullwidth"},[t._m(0),n("tbody",[t._l(t.events,function(e){return[n("tr",{key:e.key,staticClass:"is-selectable",class:{"auditevents__event--is-detailed":t.showDetails[e.key]},on:{click:function(n){t.showDetails[e.key]?t.$delete(t.showDetails,e.key):t.$set(t.showDetails,e.key,!0)}}},[n("td",{domProps:{textContent:t._s(e.timestamp.format("L HH:mm:ss.SSS"))}}),n("td",[n("span",{staticClass:"tag",class:{"is-success":e.isSuccess(),"is-danger":e.isFailure()},domProps:{textContent:t._s(e.type)}})]),t.hasSessionEndpoint&&e.principal?n("td",[n("router-link",{attrs:{to:{name:"instances/sessions",params:{instanceId:t.instance.id},query:{username:e.principal}}},domProps:{textContent:t._s(e.principal)}})],1):n("td",{domProps:{textContent:t._s(e.principal)}}),n("td",{domProps:{textContent:t._s(e.remoteAddress)}}),t.hasSessionEndpoint&&e.sessionId?n("td",[n("router-link",{attrs:{to:{name:"instances/sessions",params:{instanceId:t.instance.id},query:{sessionId:e.sessionId}}},domProps:{textContent:t._s(e.sessionId)}})],1):n("td",{domProps:{textContent:t._s(e.sessionId)}})]),t.showDetails[e.key]?n("tr",{key:e.key+"-detail"},[n("td",{attrs:{colspan:"5"}},[n("pre",{staticClass:"auditevents__event-detail",domProps:{textContent:t._s(t.toJson(e.data))}})])]):t._e()]}),0===t.events.length?n("tr",[n("td",{staticClass:"is-muted",attrs:{colspan:"5"}},[t.isLoading?n("p",{staticClass:"is-loading"},[t._v("Loading Audit Events...")]):n("p",[t._v("No Audit Events found.")])])]):t._e()],2)])},f=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Timestamp")]),n("th",[t._v("Event")]),n("th",[t._v("Principal")]),n("th",[t._v("Remote address")]),n("th",[t._v("Session Id")])])])}],h=n("d5db"),m=n.n(h),v={props:{events:{type:Array,default:function(){return[]}},instance:{type:u["a"],required:!0},isLoading:{type:Boolean,default:!1}},data:function(){return{showDetails:{}}},computed:{hasSessionEndpoint:function(){return this.instance.hasEndpoint("sessions")}},methods:{prettyBytes:m.a,toJson:function(t){return JSON.stringify(t,null,4)}}},g=v,b=(n("0a03"),n("6691")),y=Object(b["a"])(g,p,f,!1,null,null,null),_=y.exports,C=n("5db7"),w=n.n(C),x=n("6bf2"),O=n.n(x),j=function(){function t(e){var n=e.timestamp,a=Object(i["a"])(e,["timestamp"]);Object(c["a"])(this,t),Object.assign(this,a),this.timestamp=O()(n)}return Object(o["a"])(t,[{key:"isSuccess",value:function(){return this.type.toLowerCase().includes("success")}},{key:"isFailure",value:function(){return this.type.toLowerCase().includes("failure")}},{key:"key",get:function(){return"".concat(this.timestamp,"-").concat(this.type,"-").concat(this.principal)}},{key:"remoteAddress",get:function(){return this.data&&this.data.details&&this.data.details.remoteAddress||null}},{key:"sessionId",get:function(){return this.data&&this.data.details&&this.data.details.sessionId||null}}]),t}(),k={props:{instance:{type:u["a"],required:!0}},mixins:[l["a"]],components:{AuditeventsList:_},data:function(){return{isLoading:!1,error:null,events:[],filter:{after:O()().startOf("day"),type:null,principal:null},isOldAuditevents:!1}},watch:{filter:{deep:!0,handler:function(){this.filterChanged.next()}}},methods:{formatDate:function(t){return t.format(O.a.HTML5_FMT.DATETIME_LOCAL)},parseDate:function(t){return O()(t,O.a.HTML5_FMT.DATETIME_LOCAL,!0)},fetchAuditevents:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.instance.fetchAuditevents(this.filter);case 3:return e=t.sent,n=e.data.events.map(function(t){return new j(t)}),n.reverse(),this.isLoading=!1,t.abrupt("return",n);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),createSubscription:function(){var t=this;return t.filterChanged=new d["c"],t.error=null,Object(d["u"])(0,5e3).pipe(Object(d["q"])(t.filterChanged.pipe(Object(d["h"])(250),Object(d["t"])({next:function(){return t.events=[]}}))),Object(d["g"])(this.fetchAuditevents)).subscribe({next:function(e){t.addEvents(e)},error:function(e){console.warn("Fetching audit events failed:",e),e.response.headers["content-type"].includes("application/vnd.spring-boot.actuator.v2")?t.error=e:t.isOldAuditevents=!0}})},addEvents:function(t){this.events=w()(this.events?t.concat(this.events):t,function(t){return t.key})}},install:function(t){var e=t.viewRegistry;e.addView({name:"instances/auditevents",parent:"instances",path:"auditevents",component:this,label:"Audit Log",group:"Security",order:600,isEnabled:function(t){var e=t.instance;return e.hasEndpoint("auditevents")}})}},P=k,S=Object(b["a"])(P,a,r,!1,null,null,null);e["default"]=S.exports},"64bc":function(t,e,n){},"685e":function(t,e,n){},"686a":function(t,e,n){"use strict";n.r(e);n("7364"),n("f763");var a=[],r=n("12b17");r.keys().forEach(function(t){var e=/^(.\/)+(.*)\.(vue|js)$/.exec(t)[2];a.push({name:e,component:r(t).default})}),e["default"]={install:function(t){a.forEach(function(e){return t.component(e.name,e.component)})}}},"69ff":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section",class:{"is-loading":!t.hasLoaded}},[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n        Fetching environment failed.\n      ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),t.env&&t.env.activeProfiles.length>0?n("div",{staticClass:"field is-grouped is-grouped-multiline"},t._l(t.env.activeProfiles,function(e){return n("div",{key:e,staticClass:"control"},[n("div",{staticClass:"tags has-addons"},[n("span",{staticClass:"tag is-medium is-primary"},[t._v("Profile")]),n("span",{staticClass:"tag is-medium",domProps:{textContent:t._s(e)}})])])}),0):t._e(),t.env&&t.hasEnvManagerSupport?n("sba-env-manager",{attrs:{instance:t.instance,"property-sources":t.env.propertySources},on:{refresh:function(e){return t.fetchEnv()},update:t.fetchEnv,reset:function(e){return t.fetchEnv()}}}):t._e(),t.env?n("div",{staticClass:"field has-addons"},[n("p",{staticClass:"control is-expanded"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"input",attrs:{type:"search",placeholder:"name / value filter"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}})])]):t._e(),t._l(t.propertySources,function(e){return n("sba-panel",{key:e.name,attrs:{"header-sticks-below":["#navigation"],title:e.name}},[Object.keys(e.properties).length>0?n("table",{staticClass:"table is-fullwidth"},t._l(e.properties,function(a,r){return n("tr",{key:e.name+"-"+r},[n("td",[n("span",{domProps:{textContent:t._s(r)}}),n("br"),a.origin?n("small",{staticClass:"is-muted",domProps:{textContent:t._s(a.origin)}}):t._e()]),n("td",{staticClass:"is-breakable",domProps:{textContent:t._s(a.value)}})])}),0):n("p",{staticClass:"is-muted"},[t._v("No properties set")])])})],2)},r=[],s=(n("2338"),n("63ff"),n("e71e")),i=(n("f763"),n("fb37"),n("a506")),c=(n("0857"),n("f301"),n("df99"),n("df0d")),o=n("6050"),l=n.n(o),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("h1",{staticClass:"is-size-5"},[t._v("Environment Manager")]),n("datalist",{attrs:{id:"allPropertyNames"}},t._l(t.allPropertyNames,function(e){return n("option",{key:e,domProps:{textContent:t._s(e)}})}),0),t._l(t.managedProperties,function(e,a){return n("div",{key:"managed-"+a,staticClass:"field is-horizontal"},[n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"prop.name"}],staticClass:"input",attrs:{type:"text",placeholder:"Property name",list:"allPropertyNames"},domProps:{value:e.name},on:{input:[function(n){n.target.composing||t.$set(e,"name",n.target.value)},function(n){return t.handlePropertyNameChange(e,a)}]}})]),n("p",{staticClass:"help is-danger",domProps:{textContent:t._s(e.validation)}})]),n("div",{staticClass:"field"},[n("div",{staticClass:"control has-icons-right",class:{"is-loading":"executing"===e.status}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"prop.input"}],staticClass:"input",attrs:{type:"text",placeholder:"Value"},domProps:{value:e.input},on:{input:[function(n){n.target.composing||t.$set(e,"input",n.target.value)},function(t){e.status=null}]}}),"completed"===e.status?n("span",{staticClass:"icon is-right has-text-success"},[n("font-awesome-icon",{attrs:{icon:"check"}})],1):"failed"===e.status?n("span",{staticClass:"icon is-right has-text-warning"},[n("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}})],1):e.input!==e.value?n("span",{staticClass:"icon is-right"},[n("font-awesome-icon",{attrs:{icon:"pencil-alt"}})],1):t._e()])])])])}),n("div",{staticClass:"field is-horizontal"},[t.instance.hasEndpoint("refresh")?n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("sba-confirm-button",{staticClass:"button is-light",class:{"is-loading":"executing"===t.refreshStatus,"is-danger":"failed"===t.refreshStatus,"is-info":"completed"===t.refreshStatus},attrs:{disabled:"executing"===t.refreshStatus},on:{click:t.refreshContext}},["completed"===t.refreshStatus?n("span",[t._v("Context refreshed")]):"failed"===t.refreshStatus?n("span",[t._v("Failed")]):n("span",[t._v("Refresh Context")])])],1)])]):t._e(),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field is-grouped is-grouped-right"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button is-light",class:{"is-loading":"executing"===t.resetStatus,"is-danger":"failed"===t.resetStatus,"is-success":"completed"===t.resetStatus},attrs:{disabled:!t.hasManagedProperty||"executing"===t.resetStatus},on:{click:t.resetEnvironment}},["completed"===t.resetStatus?n("span",[t._v("Resetted")]):"failed"===t.resetStatus?n("span",[t._v("Failed")]):n("span",[t._v("Reset")])])]),n("div",{staticClass:"control"},[n("button",{staticClass:"button is-primary",class:{"is-loading":"executing"===t.updateStatus,"is-danger":"failed"===t.updateStatus,"is-success":"completed"===t.updateStatus},attrs:{disabled:t.hasErrorProperty||!t.hasChangedProperty||"executing"===t.updateStatus},on:{click:t.updateEnvironment}},["completed"===t.updateStatus?n("span",[t._v("Updated")]):"failed"===t.updateStatus?n("span",[t._v("Failed")]):n("span",[t._v("Update")])])])])])])],2)},d=[],p=n("c887"),f=(n("21de"),n("cde0"),n("7364"),n("608b"),n("b745"),n("8be7")),h=n("12b1"),m=n.n(h),v=n("0520"),g=n.n(v),b={props:{instance:{type:c["a"],required:!0},propertySources:{type:Array,default:function(){return[]}}},data:function(){return{error:null,refreshStatus:null,resetStatus:null,updateStatus:null,managedProperties:[{name:null,input:null,value:null,status:null,validation:null}]}},computed:{allPropertyNames:function(){return g()(this.propertySources.map(function(t){return Object.keys(t.properties)}).reduce(function(t,e){return t.concat(e)}).sort())},managerPropertySource:function(){return this.propertySources.find(function(t){return"manager"===t.name})||{name:"manager",properties:{}}},hasManagedProperty:function(){return this.managedProperties.findIndex(function(t){return!!t.name})>=0},hasChangedProperty:function(){return this.managedProperties.findIndex(function(t){return t.input!==t.value})>=0},hasErrorProperty:function(){return this.managedProperties.findIndex(function(t){return null!==t.validation})>=0}},methods:{handlePropertyNameChange:m()(function(t,e){t.name&&e===this.managedProperties.length-1&&this.managedProperties.push({name:null,input:null,value:null,status:null,validation:null})},250),refreshContext:function(){var t=this;Object(f["m"])(t.instance.refreshContext()).pipe(Object(f["o"])(function(e){return t.refreshStatus=e})).subscribe({complete:function(){return setTimeout(function(){return t.refreshStatus=null},2500),t.$emit("reset")},error:function(){return t.$emit("reset")}})},updateEnvironment:function(){var t=this;Object(f["m"])(t.managedProperties).pipe(Object(f["l"])(function(t){return!!t.name&&t.input!==t.value}),Object(f["o"])(function(e){return t.updateStatus=e}),Object(f["g"])(function(e){return Object(f["m"])(t.instance.setEnv(e.name,e.input)).pipe(Object(f["o"])(function(t){return e.status=t}))})).subscribe({complete:function(){return setTimeout(function(){return t.updateStatus=null},2500),t.$emit("update")},error:function(){return t.$emit("update")}})},resetEnvironment:function(){var t=this;Object(f["m"])(t.instance.resetEnv()).pipe(Object(f["o"])(function(e){return t.resetStatus=e})).subscribe({complete:function(){return t.managedProperties=[{name:null,input:null,value:null,status:null,validation:null}],setTimeout(function(){return t.resetStatus=null},2500),t.$emit("refresh")},error:function(){return t.$emit("refresh")}})},updateManagedProperties:function(t){var e=this;Object.entries(t.properties).forEach(function(t){var n=Object(p["a"])(t,2),a=n[0],r=n[1],s=e.managedProperties.find(function(t){return t.name===a});if(s)s.value=r.value;else{var i=e.managedProperties.length-1;e.managedProperties.splice(i,0,{name:a,input:r.value,value:r.value,status:null,validation:null})}})}},watch:{managerPropertySource:{handler:"updateManagedProperties",immediate:!0},managedProperties:{deep:!0,handler:function(){var t=this.managedProperties.reduce(function(t,e){return e.name&&(t[e.name]=(t[e.name]||0)+1),t},{});this.managedProperties.forEach(function(e){if(e.name){var n=t[e.name]||0;e.validation=n>1?"Property name must be unique":null}else e.input&&(e.validation="Property name is required")})}}}},y=b,_=n("6691"),C=Object(_["a"])(y,u,d,!1,null,null,null),w=C.exports;function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var j=function(t){return function(e,n){return n.toString().toLowerCase().includes(t)||e.value.toString().toLowerCase().includes(t)}},k=function(t,e){return l()(e,j(t))},P=function(t){return function(e){return e&&e.properties?O({},e,{properties:k(t,e.properties)}):null}},S={props:{instance:{type:c["a"],required:!0}},components:{sbaEnvManager:w},data:function(){return{hasLoaded:!1,error:null,env:null,filter:null,hasEnvManagerSupport:!1}},computed:{propertySources:function(){return this.env?this.filter?this.env.propertySources.map(P(this.filter.toLowerCase())).filter(function(t){return t&&Object.keys(t.properties).length>0}):this.env.propertySources:[]}},created:function(){this.fetchEnv(),this.determineEnvManagerSupport()},methods:{fetchEnv:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.error=null,t.prev=1,t.next=4,this.instance.fetchEnv();case 4:e=t.sent,this.env=e.data,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),console.warn("Fetching environment failed:",t.t0),this.error=t.t0;case 12:this.hasLoaded=!0;case 13:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}(),determineEnvManagerSupport:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.instance.hasEnvManagerSupport();case 3:this.hasEnvManagerSupport=t.sent,t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](0),console.warn("Determine env manager support failed:",t.t0),this.hasEnvManagerSupport=!1;case 10:case"end":return t.stop()}},t,this,[[0,6]])}));function e(){return t.apply(this,arguments)}return e}()},install:function(t){var e=t.viewRegistry;e.addView({name:"instances/env",parent:"instances",path:"env",component:this,label:"Environment",group:"Insights",order:100,isEnabled:function(t){var e=t.instance;return e.hasEndpoint("env")}})}},E=S,L=Object(_["a"])(E,a,r,!1,null,null,null);e["default"]=L.exports},"6a47":function(t,e,n){},"6bda":function(t,e,n){},"6fa1":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section",class:{"is-loading":!t.hasLoaded}},[t.hasLoaded?[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Fetching threaddump failed.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),t.threads?n("threads-list",{attrs:{"thread-timelines":t.threads}}):t._e()]:t._e()],2)},r=[],s=(n("63ff"),n("e71e")),i=n("c887"),c=(n("f763"),n("21de"),n("d76e")),o=n("df0d"),l=n("8be7"),u=n("cc71"),d=n.n(u),p=n("2582"),f=n.n(p),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"threads table is-fullwidth is-hoverable"},[n("thead",[n("tr",[n("th",{staticClass:"threads__thread-name"},[t._v("Name")]),n("th",{staticClass:"threads__timeline"},[n("svg",{staticClass:"threads__scale",attrs:{height:"24px"}})])])]),n("tbody",[t._l(t.threadTimelines,function(e){return[n("tr",{key:e.threadId,staticClass:"is-selectable",on:{click:function(n){t.showDetails[e.threadId]?t.$delete(t.showDetails,e.threadId):t.$set(t.showDetails,e.threadId,!0)}}},[n("td",{staticClass:"threads__thread-name"},[n("thread-tag",{attrs:{"thread-state":e.threadState}}),n("span",{domProps:{textContent:t._s(e.threadName)}})],1),n("td",{staticClass:"threads__timeline"},[n("svg",{attrs:{id:"thread-"+e.threadId,height:"26px"}})])]),t.showDetails[e.threadId]?n("tr",{key:e.threadId+"-detail"},[n("td",{attrs:{colspan:"2"}},[n("table",{staticClass:"threads__thread-details table is-narrow is-fullwidth has-background-white-ter"},[n("tr",[n("td",[t._v("Thread Id")]),n("td",{domProps:{textContent:t._s(e.threadId)}})]),n("tr",[n("td",[t._v("Thread name")]),n("td",{domProps:{textContent:t._s(e.threadName)}})]),n("tr",[n("td",[t._v("Thread state")]),n("td",{domProps:{textContent:t._s(e.threadState)}})]),null!==e.details?[n("tr",[n("td",[t._v("Blocked count")]),n("td",{domProps:{textContent:t._s(e.details.blockedCount)}})]),n("tr",[n("td",[t._v("Blocked time")]),n("td",{domProps:{textContent:t._s(e.details.blockedTime)}})]),n("tr",[n("td",[t._v("Waited count")]),n("td",{domProps:{textContent:t._s(e.details.waitedCount)}})]),n("tr",[n("td",[t._v("Waited time")]),n("td",{domProps:{textContent:t._s(e.details.waitedTime)}})]),n("tr",[n("td",[t._v("Lock name")]),n("td",{domProps:{textContent:t._s(e.details.lockName)}})]),n("tr",[n("td",[t._v("Lock owner id")]),n("td",{domProps:{textContent:t._s(e.details.lockOwnerId)}})]),n("tr",[n("td",[t._v("Lock owner name")]),n("td",{domProps:{textContent:t._s(e.details.lockOwnerName)}})]),e.details.stackTrace.length>0?n("tr",[n("td",{attrs:{colspan:"2"}},[t._v("Stacktrace\n                  "),n("pre",{staticClass:"threads__thread-stacktrace"},[t._l(e.details.stackTrace,function(a,r){return[n("span",{key:"frame-"+e.threadId+"-"+r,domProps:{textContent:t._s(a.className+"."+a.methodName+"("+a.fileName+":"+a.lineNumber+")")}}),t._v(" "),a.nativeMethod?n("span",{key:"frame-"+e.threadId+"-"+r+"-native",staticClass:"tag is-dark"},[t._v("native")]):t._e(),t._v("\n                  ")]})],2)])]):t._e()]:t._e()],2)])]):t._e()]})],2)])},m=[],v=(n("9594"),n("d4d5"),n("75a3"),n("4700")),g=n("6bf2"),b=n.n(g),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"tag thread-tag",class:"thread-tag--"+t.threadState.toLowerCase(),attrs:{title:t.threadState}})},_=[],C={props:{threadState:{type:String,required:!0}}},w=C,x=(n("9c36"),n("6691")),O=Object(x["a"])(w,y,_,!1,null,null,null),j=O.exports,k=15,P={props:{threadTimelines:{type:Object,required:!0}},data:function(){return{showDetails:{},lastEndPosition:0}},components:{threadTag:j},watch:{threadTimelines:{deep:!0,handler:"drawTimelines",immediate:!0}},methods:{getTimeExtent:function(t){return Object.entries(t).map(function(t){var e=Object(i["a"])(t,2),n=e[1];return n.timeline}).map(function(t){return{start:t[0].start,end:t[t.length-1].end}}).reduce(function(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}},{start:Number.MAX_SAFE_INTEGER,end:Number.MIN_SAFE_INTEGER})},drawTimelines:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,a,r,s,c,o,l,u;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=12;break}return n=this.isInView(this.lastEndPosition),t.next=4,this.$nextTick();case 4:a=this.getTimeExtent(e),r=a.start,s=a.end,c=this.$el.querySelector(".threads__timeline").getBoundingClientRect().width,o=Math.floor(c/k),l=v["a"].scaleTime().range([0,c]).domain([r,Math.max(r+1e3*(o+1),s)]),v["a"].select(".threads__scale").attr("width",c).call(v["a"].axisBottom(l).ticks(Math.max(2,Math.floor(c/50))).tickFormat(function(t){return b()(t).format("HH:mm:ss")})),Object.entries(e).forEach(function(t){var e=Object(i["a"])(t,2),n=e[0],a=e[1],r=v["a"].select("#thread-".concat(n)).attr("width",c),s=r.selectAll("rect").data(a.timeline);s.enter().append("rect").merge(s).attr("class",function(t){return"thread--".concat(t.threadState.toLowerCase())}).attr("height","2em").attr("x",function(t){return l(t.start)}).transition(150).attr("width",function(t){return Math.max(l(t.end)-l(t.start),l(t.start+500)-l(t.start))})}),this.lastEndPosition=l(s),n&&!this.isInView(this.lastEndPosition)&&(u=this.$el,u.scroll(this.lastEndPosition,u.scrollHeight));case 12:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),isInView:function(t){var e=this.$el;return e&&t>=e.scrollLeft&&t<=e.scrollLeft+e.clientWidth}}},S=P,E=(n("b7452"),Object(x["a"])(S,h,m,!1,null,null,null)),L=E.exports,R={props:{instance:{type:o["a"],required:!0}},mixins:[c["a"]],components:{threadsList:L},data:function(){return{hasLoaded:!1,error:null,threads:null}},computed:{},methods:{updateTimelines:function(t){var e=this,n=f()().valueOf();e.threads=e.threads||{};var a=Object.entries(e.threads).filter(function(t){var e=Object(i["a"])(t,2),n=e[1];return"TERMINATED"!==n.threadState}).map(function(t){var e=Object(i["a"])(t,1),n=e[0];return parseInt(n)});t.forEach(function(t){if(e.threads[t.threadId]){var r=e.threads[t.threadId];r.details=t,r.threadState!==t.threadState?(r.threadState=t.threadState,r.timeline.push({start:r.timeline[r.timeline.length-1].end,end:n,threadState:t.threadState})):r.timeline[r.timeline.length-1].end=n}else e.$set(e.threads,t.threadId,{threadId:t.threadId,threadState:t.threadState,threadName:t.threadName,details:t,timeline:[{start:n,end:n,threadState:t.threadState}]});d()(a,function(e){return e===t.threadId})}),a.forEach(function(t){var a=e.threads[t];a.threadState="TERMINATED",a.details=null,a.timeline[a.timeline.length-1].end=n})},fetchThreaddump:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.instance.fetchThreaddump();case 2:return e=t.sent,t.abrupt("return",e.data.threads);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),createSubscription:function(){var t=this;return t.error=null,Object(l["u"])(0,1e3).pipe(Object(l["g"])(t.fetchThreaddump)).subscribe({next:function(e){t.hasLoaded=!0,t.updateTimelines(e)},error:function(e){t.hasLoaded=!0,console.warn("Fetching threaddump failed:",e),t.error=e}})}},install:function(t){var e=t.viewRegistry;e.addView({name:"instances/threaddump",parent:"instances",path:"threaddump",component:this,label:"Threads",group:"JVM",order:400,isEnabled:function(t){var e=t.instance;return e.hasEndpoint("threaddump")}})}},A=R,T=Object(x["a"])(A,a,r,!1,null,null,null);e["default"]=T.exports},"71a8":function(t,e,n){"use strict";var a=n("e096"),r=n.n(a);r.a},7213:function(t,e,n){"use strict";var a=n("352a"),r=n.n(a);r.a},"76c1":function(t,e,n){"use strict";n("7364");var a=!1,r=function(){"Notification"in window&&(a="granted"===window.Notification.permission,a||"denied"===window.Notification.permission||window.Notification.requestPermission(function(t){return a="granted"===t}))},s=function(t,e){if(a){var n=new window.Notification(t,e);null!==e.url&&(n.onclick=function(){window.focus(),window.open(e.url,"_self")}),e.timeout>0&&(n.onshow=function(){return setTimeout(function(){return n.close()},e.timeout)})}};e["a"]={install:function(t){var e=t.applicationStore;r(),e.addEventListener("updated",function(t,e){t.status!==e.status&&s("".concat(t.name," is now ").concat(t.status),{tag:"".concat(t.name,"-").concat(t.status),lang:"en",body:"was ".concat(e.status,"."),icon:"UP"===t.status?"assets/img/favicon.png":"assets/img/favicon-danger.png",renotify:!0,timeout:1e4})})}}},"76dc":function(t,e,n){"use strict";var a=n("01bb"),r=n.n(a);r.a},7705:function(t,e,n){"use strict";(function(t){n("7364");var a=n("873c"),r=(n("b745"),n("7c56"),n("3c6b"),n("d50b")),s=function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null};e["a"]={data:function(){return{showMenu:!1,brand:'<img src="assets/img/icon-spring-boot-admin.svg"><span>PigX 服务状态监控</span>',userName:null,csrfToken:null,csrfParameterName:null}},props:{views:{type:Array,default:function(){return[]}},applications:{type:Array,default:function(){return[]}},error:{type:Error,default:null}},computed:{enabledViews:function(){return Object(a["a"])(this.views).filter(function(t){return t.handle&&("undefined"===typeof t.isEnabled||t.isEnabled())}).sort(Object(r["a"])(function(t){return t.order}))}},created:function(){t.SBA&&(t.SBA.uiSettings&&(this.brand=t.SBA.uiSettings.brand||this.brand),t.SBA.user&&(this.userName=t.SBA.user.name)),this.csrfToken=s("XSRF-TOKEN"),this.csrfParameterName=t.SBA&&t.SBA.csrf&&t.SBA.csrf.parameterName||"_csrf"},mounted:function(){document.documentElement.classList.add("has-navbar-fixed-top")},beforeDestroy:function(){document.documentElement.classList.remove("has-navbar-fixed-top")}}}).call(this,n("66fa"))},7723:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("sba-navbar",{attrs:{views:t.mainViews,applications:t.applications,error:t.error}}),n("router-view",{attrs:{views:t.childViews,applications:t.applications,error:t.error}})],1)},r=[],s=(n("7364"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar is-fixed-top",attrs:{id:"navigation"}},[n("div",{staticClass:"container"},[n("div",{staticClass:"navbar-brand"},[n("router-link",{staticClass:"navbar-item logo",attrs:{to:"/"},domProps:{innerHTML:t._s(t.brand)}}),n("div",{staticClass:"navbar-burger burger",on:{click:function(e){e.stopPropagation(),t.showMenu=!t.showMenu}}},[n("span"),n("span"),n("span")])],1),n("div",{staticClass:"navbar-menu",class:{"is-active":t.showMenu}},[n("div",{staticClass:"navbar-end"},[t._l(t.enabledViews,function(e){return n("router-link",{key:e.name,staticClass:"navbar-item",attrs:{to:{name:e.name}}},[n(e.handle,{tag:"component",attrs:{applications:t.applications,error:t.error}})],1)}),t.userName?n("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[n("a",{staticClass:"navbar-link"},[n("font-awesome-icon",{attrs:{icon:"user-circle",size:"lg"}}),t._v(" "),n("span",{domProps:{textContent:t._s(t.userName)}})],1),n("div",{staticClass:"navbar-dropdown"},[n("a",{staticClass:"navbar-item"},[n("form",{attrs:{action:"logout",method:"post"}},[t.csrfToken?n("input",{attrs:{type:"hidden",name:t.csrfParameterName},domProps:{value:t.csrfToken}}):t._e(),n("button",{staticClass:"button is-icon",attrs:{type:"submit",value:"logout"}},[n("font-awesome-icon",{attrs:{icon:"sign-out-alt"}}),t._v(" Log out\n                ")],1)])])])]):t._e()],2)])])])}),i=[],c=n("7705"),o=c["a"],l=(n("8a74"),n("6691")),u=Object(l["a"])(o,s,i,!1,null,null,null),d=u.exports,p={props:{views:{type:Array,default:function(){return[]}},applications:{type:Array,default:function(){return[]}},error:{type:Error,default:null}},components:{sbaNavbar:d},computed:{mainViews:function(){return this.views.filter(function(t){return!t.parent})},activeMainViewName:function(){var t=this.$route.meta.view;return t&&(t.parent||t.name)},childViews:function(){var t=this;return this.views.filter(function(e){return e.parent===t.activeMainViewName})}}},f=p,h=Object(l["a"])(f,a,r,!1,null,null,null);e["a"]=h.exports},7726:function(t,e,n){"use strict";var a=n("c4e0"),r=n.n(a);r.a},"77d2":function(t,e,n){var a={"./af":"fbac","./af.js":"fbac","./ar":"f96f","./ar-dz":"e63c","./ar-dz.js":"e63c","./ar-kw":"b7bd","./ar-kw.js":"b7bd","./ar-ly":"968f","./ar-ly.js":"968f","./ar-ma":"9f9d","./ar-ma.js":"9f9d","./ar-sa":"aea5","./ar-sa.js":"aea5","./ar-tn":"d44b","./ar-tn.js":"d44b","./ar.js":"f96f","./az":"c7ed","./az.js":"c7ed","./be":"5a28","./be.js":"5a28","./bg":"1251","./bg.js":"1251","./bm":"2809","./bm.js":"2809","./bn":"b4fc","./bn.js":"b4fc","./bo":"5484","./bo.js":"5484","./br":"5adc","./br.js":"5adc","./bs":"ac10","./bs.js":"ac10","./ca":"e381","./ca.js":"e381","./cs":"aef2","./cs.js":"aef2","./cv":"6566","./cv.js":"6566","./cy":"1390","./cy.js":"1390","./da":"1ece","./da.js":"1ece","./de":"5f10","./de-at":"09c4","./de-at.js":"09c4","./de-ch":"89a2","./de-ch.js":"89a2","./de.js":"5f10","./dv":"e662","./dv.js":"e662","./el":"196b","./el.js":"196b","./en-SG":"0a32","./en-SG.js":"0a32","./en-au":"94ed","./en-au.js":"94ed","./en-ca":"2806","./en-ca.js":"2806","./en-gb":"b0dd","./en-gb.js":"b0dd","./en-ie":"7a6e","./en-ie.js":"7a6e","./en-il":"1f0f","./en-il.js":"1f0f","./en-nz":"1606","./en-nz.js":"1606","./eo":"f214","./eo.js":"f214","./es":"7d58","./es-do":"737b","./es-do.js":"737b","./es-us":"a894","./es-us.js":"a894","./es.js":"7d58","./et":"a888","./et.js":"a888","./eu":"1357","./eu.js":"1357","./fa":"0a48","./fa.js":"0a48","./fi":"c2b1","./fi.js":"c2b1","./fo":"52c4","./fo.js":"52c4","./fr":"04e6","./fr-ca":"6ad1","./fr-ca.js":"6ad1","./fr-ch":"b12f","./fr-ch.js":"b12f","./fr.js":"04e6","./fy":"ad13","./fy.js":"ad13","./ga":"369e","./ga.js":"369e","./gd":"22de","./gd.js":"22de","./gl":"f808","./gl.js":"f808","./gom-latn":"50d5","./gom-latn.js":"50d5","./gu":"e67a","./gu.js":"e67a","./he":"037c","./he.js":"037c","./hi":"3d53","./hi.js":"3d53","./hr":"678b","./hr.js":"678b","./hu":"1783","./hu.js":"1783","./hy-am":"2873","./hy-am.js":"2873","./id":"de99","./id.js":"de99","./is":"6aa2","./is.js":"6aa2","./it":"1f93","./it-ch":"2db9","./it-ch.js":"2db9","./it.js":"1f93","./ja":"6bf8","./ja.js":"6bf8","./jv":"6e55","./jv.js":"6e55","./ka":"e65f","./ka.js":"e65f","./kk":"7167","./kk.js":"7167","./km":"4668","./km.js":"4668","./kn":"e3d2","./kn.js":"e3d2","./ko":"b058","./ko.js":"b058","./ku":"017e","./ku.js":"017e","./ky":"b2bd","./ky.js":"b2bd","./lb":"e50c","./lb.js":"e50c","./lo":"ca14","./lo.js":"ca14","./lt":"3e84","./lt.js":"3e84","./lv":"ce1d","./lv.js":"ce1d","./me":"9d38","./me.js":"9d38","./mi":"3e2e","./mi.js":"3e2e","./mk":"d532","./mk.js":"d532","./ml":"db61","./ml.js":"db61","./mn":"7493","./mn.js":"7493","./mr":"52d8","./mr.js":"52d8","./ms":"b559","./ms-my":"7462","./ms-my.js":"7462","./ms.js":"b559","./mt":"c055","./mt.js":"c055","./my":"49e0","./my.js":"49e0","./nb":"eb1c","./nb.js":"eb1c","./ne":"0acb","./ne.js":"0acb","./nl":"7497","./nl-be":"3114","./nl-be.js":"3114","./nl.js":"7497","./nn":"9a9c","./nn.js":"9a9c","./pa-in":"c595","./pa-in.js":"c595","./pl":"801c","./pl.js":"801c","./pt":"5b08","./pt-br":"155f","./pt-br.js":"155f","./pt.js":"5b08","./ro":"05fc","./ro.js":"05fc","./ru":"90b3","./ru.js":"90b3","./sd":"99bf","./sd.js":"99bf","./se":"20d6","./se.js":"20d6","./si":"7c0b","./si.js":"7c0b","./sk":"90fc","./sk.js":"90fc","./sl":"871b","./sl.js":"871b","./sq":"b045","./sq.js":"b045","./sr":"ac81","./sr-cyrl":"a2d0","./sr-cyrl.js":"a2d0","./sr.js":"ac81","./ss":"b093","./ss.js":"b093","./sv":"12e5","./sv.js":"12e5","./sw":"38a0","./sw.js":"38a0","./ta":"a462","./ta.js":"a462","./te":"18cb","./te.js":"18cb","./tet":"0c11","./tet.js":"0c11","./tg":"d707","./tg.js":"d707","./th":"883f","./th.js":"883f","./tl-ph":"6cc0","./tl-ph.js":"6cc0","./tlh":"ab53","./tlh.js":"ab53","./tr":"e523","./tr.js":"e523","./tzl":"b192","./tzl.js":"b192","./tzm":"5604","./tzm-latn":"9f95","./tzm-latn.js":"9f95","./tzm.js":"5604","./ug-cn":"9f4f","./ug-cn.js":"9f4f","./uk":"8bd6","./uk.js":"8bd6","./ur":"9a78","./ur.js":"9a78","./uz":"4d4c","./uz-latn":"da73","./uz-latn.js":"da73","./uz.js":"4d4c","./vi":"b766","./vi.js":"b766","./x-pseudo":"2a69","./x-pseudo.js":"2a69","./yo":"fd2e","./yo.js":"fd2e","./zh-cn":"35d0","./zh-cn.js":"35d0","./zh-hk":"7b45","./zh-hk.js":"7b45","./zh-tw":"fa66","./zh-tw.js":"fa66"};function r(t){var e=s(t);return n(e)}function s(t){var e=a[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}r.keys=function(){return Object.keys(a)},r.resolve=s,t.exports=r,r.id="77d2"},"7d9b":function(t,e,n){},"7e47":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section"},[n("div",{staticClass:"details-header"},[t.instance?n("h1",{staticClass:"title",domProps:{textContent:t._s(t.instance.registration.name)}}):t._e(),t.instance?n("h2",{staticClass:"subtitle is-5"},[t._v("Id: "),n("span",{domProps:{textContent:t._s(t.instance.id)}})]):t._e(),t.instance?n("sba-tags",{attrs:{tags:t.instance.tags}}):t._e(),n("div",{staticClass:"details-header__urls"},[n("a",{staticClass:"button is-small ",attrs:{href:t.instance.registration.serviceUrl}},[n("font-awesome-icon",{attrs:{icon:"home"}}),t._v(" \n        "),n("span",{domProps:{textContent:t._s(t.instance.registration.serviceUrl)}})],1),n("a",{staticClass:"button is-small ",attrs:{href:t.instance.registration.managementUrl}},[n("font-awesome-icon",{attrs:{icon:"wrench"}}),t._v(" \n        "),n("span",{domProps:{textContent:t._s(t.instance.registration.managementUrl)}})],1),n("a",{staticClass:"button is-small ",attrs:{href:t.instance.registration.healthUrl}},[n("font-awesome-icon",{attrs:{icon:"heartbeat"}}),t._v(" \n        "),n("span",{domProps:{textContent:t._s(t.instance.registration.healthUrl)}})],1)])],1),n("hr"),t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n        Fetching metrics index failed.\n      ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),n("div",{staticClass:"columns is-desktop"},[n("div",{staticClass:"column is-half-desktop"},[t.hasInfo?n("details-info",{attrs:{instance:t.instance}}):t._e(),t.hasMetadata?n("details-metadata",{attrs:{instance:t.instance}}):t._e()],1),n("div",{staticClass:"column is-half-desktop"},[n("details-health",{attrs:{instance:t.instance}})],1)]),n("div",{staticClass:"columns is-desktop"},[n("div",{staticClass:"column is-half-desktop"},[t.hasProcess?n("details-process",{attrs:{instance:t.instance}}):t._e(),t.hasGc?n("details-gc",{attrs:{instance:t.instance}}):t._e()],1),n("div",{staticClass:"column is-half-desktop"},[t.hasThreads?n("details-threads",{attrs:{instance:t.instance}}):t._e()],1)]),n("div",{staticClass:"columns is-desktop"},[n("div",{staticClass:"column is-half-desktop"},[t.hasMemory?n("details-memory",{attrs:{instance:t.instance,type:"heap"}}):t._e()],1),n("div",{staticClass:"column is-half-desktop"},[t.hasMemory?n("details-memory",{attrs:{instance:t.instance,type:"nonheap"}}):t._e()],1)]),n("div",{staticClass:"columns is-desktop"},[n("div",{staticClass:"column is-half-desktop"},[t.hasDatasources?n("details-datasources",{attrs:{instance:t.instance}}):t._e()],1),n("div",{staticClass:"column is-half-desktop"},[t.hasCaches?n("details-caches",{attrs:{instance:t.instance}}):t._e()],1)])])},r=[],s=(n("63ff"),n("e71e")),i=(n("f301"),n("df99"),n("df0d")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.caches,function(e){return n("details-cache",{key:e,attrs:{instance:t.instance,"cache-name":e}})}),1)},o=[],l=(n("f763"),n("d76e")),u=n("8be7"),d=n("0520"),p=n.n(d),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasLoaded?n("sba-panel",{attrs:{title:"Cache: "+t.cacheName}},[n("div",[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Fetching cache metrics failed.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),t.current?n("div",{staticClass:"level cache-current"},[n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading has-bullet has-bullet-info"},[t._v("Hits")]),n("p",{domProps:{textContent:t._s(t.current.hit)}})])]),n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading has-bullet has-bullet-warning"},[t._v("Misses")]),n("p",{domProps:{textContent:t._s(t.current.miss)}})])]),n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("Hit ratio")]),n("p",{domProps:{textContent:t._s(t.ratio)}})])]),t.current.size?n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("Size")]),n("p",{domProps:{textContent:t._s(t.current.size)}})])]):t._e()]):t._e(),t.chartData.length>0?n("cache-chart",{attrs:{data:t.chartData}}):t._e()],1)]):t._e()},h=[],m=(n("2338"),n("fb37"),n("a506")),v=n("6bf2"),g=n.n(v),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cache-chart"},[n("svg",{staticClass:"cache-chart__svg"})])},y=[],_=n("4700");function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(n,!0).forEach(function(e){Object(m["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var x={props:{data:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{drawChart:function(t){var e=this,n=1===t.length?t.concat([w({},t[0],{timestamp:t[0].timestamp+1})]):t,a=_["a"].extent(n,function(t){return t.timestamp}),r=_["a"].scaleTime().range([0,e.width]).domain(a),s=_["a"].scaleLinear().range([e.height,0]).domain([0,1.05*_["a"].max(n,function(t){return t.total})]),i=e.areas.selectAll(".cache-chart__area--miss").data([n]);i.enter().append("path").merge(i).attr("class","cache-chart__area--miss").attr("d",_["a"].area().x(function(t){return r(t.timestamp)}).y0(function(t){return s(t.hit)}).y1(function(t){return s(t.total)})),i.exit().remove();var c=e.areas.selectAll(".cache-chart__area--hit").data([n]);c.enter().append("path").merge(c).attr("class","cache-chart__area--hit").attr("d",_["a"].area().x(function(t){return r(t.timestamp)}).y0(s(0)).y1(function(t){return s(t.hit)})),c.exit().remove(),e.xAxis.call(_["a"].axisBottom(r).ticks(5).tickFormat(function(t){return g()(t).format("HH:mm:ss")})),e.yAxis.call(_["a"].axisLeft(s).ticks(5).tickFormat(function(t){return t<=1e3?t:(t/1e3).toFixed(1)+"K"}))}},mounted:function(){var t={top:5,right:5,bottom:30,left:50};this.width=this.$el.getBoundingClientRect().width-t.left-t.right,this.height=this.$el.getBoundingClientRect().height-t.top-t.bottom,this.chartLayer=_["a"].select(this.$el.querySelector(".cache-chart__svg")).append("g").attr("transform","translate(".concat(t.left,",").concat(t.top,")")),this.xAxis=this.chartLayer.append("g").attr("class","cache-chart__axis-x").attr("transform","translate(0,".concat(this.height,")")),this.yAxis=this.chartLayer.append("g").attr("class","cache-chart__axis-y").attr("stroke",null),this.areas=this.chartLayer.append("g"),this.drawChart(this.data)},watch:{data:"drawChart"}},O=x,j=(n("be22"),n("6691")),k=Object(j["a"])(O,b,y,!1,null,null,null),P=k.exports;function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(n,!0).forEach(function(e){Object(m["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var L={props:{instance:{type:i["a"],required:!0},cacheName:{type:String,required:!0}},mixins:[l["a"]],components:{cacheChart:P},data:function(){return{hasLoaded:!1,error:null,current:null,disableSize:!1,chartData:[]}},computed:{ratio:function(){return this.current.total>0?(this.current.hit/this.current.total*100).toFixed(2)+"%":"-"}},methods:{fetchMetrics:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,a,r,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.instance.fetchMetric("cache.gets",{name:this.cacheName,result:"hit"}),n=this.instance.fetchMetric("cache.gets",{name:this.cacheName,result:"miss"}),a=void 0,this.disableSize){t.next=15;break}return r=this.instance.fetchMetric("cache.size",{name:this.cacheName}),t.prev=5,t.next=8,r;case 8:a=t.sent.data.measurements[0].value,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](5),this.disableSize=!0,console.warn("Fetching cache size failed - error is ignored",t.t0);case 15:return t.next=17,e;case 17:return s=t.sent.data.measurements[0].value,t.next=20,n;case 20:return i=t.sent.data.measurements[0].value,t.abrupt("return",{hit:s,miss:i,total:s+i,size:a});case 22:case"end":return t.stop()}},t,this,[[5,11]])}));function e(){return t.apply(this,arguments)}return e}(),createSubscription:function(){var t=this;return Object(u["u"])(0,2500).pipe(Object(u["g"])(t.fetchMetrics)).subscribe({next:function(e){t.hasLoaded=!0,t.current=e,t.chartData.push(E({},e,{timestamp:g()().valueOf()}))},error:function(e){t.hasLoaded=!0,console.warn("Fetching cache ".concat(t.cacheName," metrics failed:"),e),t.error=e}})}}},R=L,A=(n("4f18"),Object(j["a"])(R,f,h,!1,null,null,null)),T=A.exports,D={props:{instance:{type:i["a"],required:!0}},mixins:[l["a"]],components:{detailsCache:T},data:function(){return{caches:[]}},methods:{fetchCaches:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.instance.fetchMetric("cache.gets");case 2:return e=t.sent,t.abrupt("return",p()(e.data.availableTags.filter(function(t){return"name"===t.tag})[0].values));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),createSubscription:function(){var t=this;return Object(u["u"])(0,2500).pipe(Object(u["g"])(this.fetchCaches)).subscribe({next:function(e){t.caches=e},error:function(t){console.warn("Fetching caches failed:",t)}})}}},M=D,F=Object(j["a"])(M,c,o,!1,null,null,null),N=F.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.dataSources,function(e){return n("details-datasource",{key:e,attrs:{instance:t.instance,"data-source":e}})}),1)},I=[],B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasLoaded?n("sba-panel",{attrs:{title:"Datasource: "+t.dataSource}},[n("div",[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Fetching datasource metrics failed.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),t.current?n("div",{staticClass:"level datasource-current"},[n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading has-bullet has-bullet-info"},[t._v("Active connections")]),n("p",{domProps:{textContent:t._s(t.current.active)}})])]),n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("Min connections")]),n("p",{domProps:{textContent:t._s(t.current.min)}})])]),n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("Max connections")]),t.current.max>=0?n("p",{domProps:{textContent:t._s(t.current.max)}}):n("p",[t._v("unlimited")])])])]):t._e(),t.chartData.length>0?n("datasource-chart",{attrs:{data:t.chartData}}):t._e()],1)]):t._e()},q=[],U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"datasource-chart"},[n("svg",{staticClass:"datasource-chart__svg"})])},H=[];function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(n,!0).forEach(function(e){Object(m["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var G={props:{data:{type:Array,default:function(){return[]}}},methods:{drawChart:function(t){var e=this,n=1===t.length?t.concat([z({},t[0],{timestamp:t[0].timestamp+1})]):t,a=_["a"].extent(n,function(t){return t.timestamp}),r=_["a"].scaleTime().range([0,e.width]).domain(a),s=_["a"].scaleLinear().range([e.height,0]).domain([0,1.05*_["a"].max(n,function(t){return t.active})]),i=e.areas.selectAll(".datasource-chart__line--max").data([n]);i.enter().append("path").merge(i).attr("class","datasource-chart__line--max").attr("d",_["a"].line().x(function(t){return r(t.timestamp)}).y(function(t){return s(t.max)})),i.exit().remove();var c=e.areas.selectAll(".datasource-chart__area--active").data([n]);c.enter().append("path").merge(c).attr("class","datasource-chart__area--active").attr("d",_["a"].area().x(function(t){return r(t.timestamp)}).y0(s(0)).y1(function(t){return s(t.active)})),c.exit().remove(),e.xAxis.call(_["a"].axisBottom(r).ticks(5).tickFormat(function(t){return g()(t).format("HH:mm:ss")})),e.yAxis.call(_["a"].axisLeft(s).ticks(5))}},mounted:function(){var t={top:5,right:5,bottom:30,left:50};this.width=this.$el.getBoundingClientRect().width-t.left-t.right,this.height=this.$el.getBoundingClientRect().height-t.top-t.bottom,this.chartLayer=_["a"].select(this.$el.querySelector(".datasource-chart__svg")).append("g").attr("transform","translate(".concat(t.left,",").concat(t.top,")")),this.xAxis=this.chartLayer.append("g").attr("class","datasource-chart__axis-x").attr("transform","translate(0,".concat(this.height,")")),this.yAxis=this.chartLayer.append("g").attr("class","datasource-chart__axis-y").attr("stroke",null),this.areas=this.chartLayer.append("g"),this.drawChart(this.data)},watch:{data:"drawChart"}},W=G,J=(n("b58b"),Object(j["a"])(W,U,H,!1,null,null,null)),X=J.exports;function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(n,!0).forEach(function(e){Object(m["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Z={props:{instance:{type:i["a"],required:!0},dataSource:{type:String,required:!0}},mixins:[l["a"]],components:{datasourceChart:X},data:function(){return{hasLoaded:!1,error:null,current:null,chartData:[]}},methods:{fetchMetrics:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.instance.fetchMetric("data.source.active.connections",{name:this.dataSource}),n=this.instance.fetchMetric("data.source.min.connections",{name:this.dataSource}),a=this.instance.fetchMetric("data.source.max.connections",{name:this.dataSource}),t.next=5,e;case 5:return t.t0=t.sent.data.measurements[0].value,t.next=8,n;case 8:return t.t1=t.sent.data.measurements[0].value,t.next=11,a;case 11:return t.t2=t.sent.data.measurements[0].value,t.abrupt("return",{active:t.t0,min:t.t1,max:t.t2});case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),createSubscription:function(){var t=this;return Object(u["u"])(0,2500).pipe(Object(u["g"])(t.fetchMetrics)).subscribe({next:function(e){t.hasLoaded=!0,t.current=e,t.chartData.push(Y({},e,{timestamp:g()().valueOf()}))},error:function(e){t.hasLoaded=!0,console.warn("Fetching datasource ".concat(t.dataSource," metrics failed:"),e),t.error=e}})}}},Q=Z,tt=(n("7213"),Object(j["a"])(Q,B,q,!1,null,null,null)),et=tt.exports,nt={props:{instance:{type:i["a"],required:!0}},mixins:[l["a"]],components:{detailsDatasource:et},data:function(){return{dataSources:[]}},methods:{fetchDataSources:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.instance.fetchMetric("data.source.active.connections");case 2:return e=t.sent,t.abrupt("return",e.data.availableTags.filter(function(t){return"name"===t.tag})[0].values);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),createSubscription:function(){var t=this;return Object(u["u"])(0,2500).pipe(Object(u["g"])(this.fetchDataSources)).subscribe({next:function(e){t.dataSources=e},error:function(t){console.warn("Fetching datasources failed:",t)}})}}},at=nt,rt=Object(j["a"])(at,$,I,!1,null,null,null),st=rt.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasLoaded?n("sba-panel",{attrs:{title:"Garbage Collection Pauses"}},[n("div",[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Fetching GC metrics failed.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),t.current?n("div",{staticClass:"level"},[n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("Count")]),n("p",{domProps:{textContent:t._s(t.current.count)}})])]),n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("Total time spent")]),n("p",{domProps:{textContent:t._s(t.current.total_time.asSeconds().toFixed(4)+"s")}})])]),n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("Max time spent")]),n("p",{domProps:{textContent:t._s(t.current.max.asSeconds().toFixed(4)+"s")}})])])]):t._e()])]):t._e()},ct=[],ot=n("2353");function lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lt(n,!0).forEach(function(e){Object(m["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var dt={props:{instance:{type:i["a"],required:!0}},mixins:[l["a"]],data:function(){return{hasLoaded:!1,error:null,current:null}},methods:{fetchMetrics:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.instance.fetchMetric("jvm.gc.pause");case 2:return e=t.sent,n=e.data.measurements.reduce(function(t,e){return ut({},t,Object(m["a"])({},e.statistic.toLowerCase(),e.value))},{}),t.abrupt("return",ut({},n,{total_time:g.a.duration(Object(ot["b"])(n.total_time,e.baseUnit)),max:g.a.duration(Object(ot["b"])(n.max,e.baseUnit))}));case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),createSubscription:function(){var t=this;return Object(u["u"])(0,2500).pipe(Object(u["g"])(this.fetchMetrics)).subscribe({next:function(e){t.hasLoaded=!0,t.current=e},error:function(e){t.hasLoaded=!0,console.warn("Fetching GC metrics failed:",e),t.error=e}})}}},pt=dt,ft=Object(j["a"])(pt,it,ct,!1,null,null,null),ht=ft.exports,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sba-panel",{attrs:{title:"Health"}},[n("div",[t.error?n("div",{staticClass:"message is-warning"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-warning",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Fetching live health status failed. This is the last known information.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),n("health-details",{attrs:{name:"Instance",health:t.health}})],1)])},vt=[],gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"health-details table is-fullwidth"},[n("tr",[n("th",{attrs:{colspan:"2"}},[n("span",{domProps:{textContent:t._s(t.name)}}),n("span",{staticClass:"health-details__status",class:"health-details__status--"+t.health.status,domProps:{textContent:t._s(t.health.status)}})])]),t.details&&t.details.length>0?n("tr",[n("td",{staticClass:"health-details__nested",attrs:{colspan:"2"}},[n("table",{staticClass:"health-details table is-fullwidth"},t._l(t.details,function(e){return n("tr",{key:e.name,staticClass:"health-details__detail"},[n("td",{domProps:{textContent:t._s(e.name)}}),"diskSpace"===t.name?n("td",{domProps:{textContent:t._s(t.prettyBytes(e.value))}}):n("td",{staticClass:"is-breakable",domProps:{textContent:t._s(e.value)}})])}),0)])]):t._e(),t._l(t.childHealth,function(t){return n("tr",{key:t.name},[n("td",{staticClass:"health-details__nested",attrs:{colspan:"2"}},[n("health-details",{attrs:{name:t.name,health:t.value}})],1)])})],2)},bt=[],yt=n("c887"),_t=(n("21de"),n("9090")),Ct=n("d5db"),wt=n.n(Ct),xt=function(t){return null!==t&&"object"===Object(_t["a"])(t)&&t.hasOwnProperty("status")},Ot={name:"HealthDetails",props:{name:{type:String,required:!0},health:{type:Object,required:!0}},methods:{prettyBytes:wt.a},computed:{details:function(){return this.health.details?Object.entries(this.health.details).filter(function(t){var e=Object(yt["a"])(t,2),n=e[1];return!xt(n)}).map(function(t){var e=Object(yt["a"])(t,2),n=e[0],a=e[1];return{name:n,value:a}}):[]},childHealth:function(){return this.health.details?Object.entries(this.health.details).filter(function(t){var e=Object(yt["a"])(t,2),n=e[1];return xt(n)}).map(function(t){var e=Object(yt["a"])(t,2),n=e[0],a=e[1];return{name:n,value:a}}):[]}}},jt=Ot,kt=(n("2fb9"),Object(j["a"])(jt,gt,bt,!1,null,null,null)),Pt=kt.exports,St={props:{instance:{type:i["a"],required:!0}},components:{healthDetails:Pt},data:function(){return{error:null,liveHealth:null}},created:function(){this.fetchHealth()},computed:{health:function(){return this.liveHealth||this.instance.statusInfo}},methods:{fetchHealth:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.error=null,t.prev=1,t.next=4,this.instance.fetchHealth();case 4:e=t.sent,this.liveHealth=e.data,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),console.warn("Fetching live health failed:",t.t0),this.error=t.t0;case 12:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}()}},Et=St,Lt=Object(j["a"])(Et,mt,vt,!1,null,null,null),Rt=Lt.exports,At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sba-panel",{attrs:{title:"Info"}},[n("div",[t.error?n("div",{staticClass:"message is-warning"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-warning",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Fetching live info failed. This is the last known information.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),n("div",{staticClass:"content info"},[t.isEmptyInfo?n("p",{staticClass:"is-muted"},[t._v("No info provided.")]):n("table",{staticClass:"table"},t._l(t.info,function(e,a){return n("tr",{key:a},[n("td",{staticClass:"info__key",domProps:{textContent:t._s(a)}}),n("td",[n("sba-formatted-obj",{attrs:{value:e}})],1)])}),0)])])])},Tt=[],Dt={props:{instance:{type:i["a"],required:!0}},data:function(){return{error:null,liveInfo:null}},computed:{info:function(){return this.liveInfo||this.instance.info},isEmptyInfo:function(){return Object.keys(this.info).length<=0}},created:function(){this.fetchInfo()},methods:{fetchInfo:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.instance.hasEndpoint("info")){t.next=13;break}return t.prev=1,this.error=null,t.next=5,this.instance.fetchInfo();case 5:e=t.sent,this.liveInfo=e.data,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),this.error=t.t0,console.warn("Fetching info failed:",t.t0);case 13:case"end":return t.stop()}},t,this,[[1,9]])}));function e(){return t.apply(this,arguments)}return e}()}},Mt=Dt,Ft=(n("5643"),Object(j["a"])(Mt,At,Tt,!1,null,null,null)),Nt=Ft.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasLoaded?n("sba-panel",{attrs:{title:"Memory: "+t.name}},[n("div",[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Fetching memory metrics failed.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),t.current?n("div",{staticClass:"level memory-current"},[t.current.metaspace?n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading has-bullet has-bullet-primary"},[t._v("Metaspace")]),n("p",{domProps:{textContent:t._s(t.prettyBytes(t.current.metaspace))}})])]):t._e(),n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading has-bullet has-bullet-info"},[t._v("Used")]),n("p",{domProps:{textContent:t._s(t.prettyBytes(t.current.used))}})])]),n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading has-bullet has-bullet-warning"},[t._v("Size")]),n("p",{domProps:{textContent:t._s(t.prettyBytes(t.current.committed))}})])]),t.current.max>=0?n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("Max")]),n("p",{domProps:{textContent:t._s(t.prettyBytes(t.current.max))}})])]):t._e()]):t._e(),t.chartData.length>0?n("mem-chart",{attrs:{data:t.chartData}}):t._e()],1)]):t._e()},It=[],Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mem-chart"},[n("svg",{staticClass:"mem-chart__svg"})])},qt=[];function Ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ut(n,!0).forEach(function(e){Object(m["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ut(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Vt={props:{data:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{drawChart:function(t){var e=this,n=1===t.length?t.concat([Ht({},t[0],{timestamp:t[0].timestamp+1})]):t,a=_["a"].extent(n,function(t){return t.timestamp}),r=_["a"].scaleTime().range([0,e.width]).domain(a),s=_["a"].scaleLinear().range([e.height,0]).domain([0,1.05*_["a"].max(n,function(t){return t.committed})]),i=e.areas.selectAll(".mem-chart__line--max").data([n]);i.enter().append("path").merge(i).attr("class","mem-chart__line--max").attr("d",_["a"].line().x(function(t){return r(t.timestamp)}).y(function(t){return s(t.max)})),i.exit().remove();var c=e.areas.selectAll(".mem-chart__area--committed").data([n]);c.enter().append("path").merge(c).attr("class","mem-chart__area--committed").attr("d",_["a"].area().x(function(t){return r(t.timestamp)}).y0(function(t){return s(t.used)}).y1(function(t){return s(t.committed)})),c.exit().remove();var o=e.areas.selectAll(".mem-chart__area--used").data([n]);o.enter().append("path").merge(o).attr("class","mem-chart__area--used").attr("d",_["a"].area().x(function(t){return r(t.timestamp)}).y0(function(t){return s(t.metaspace||0)}).y1(function(t){return s(t.used)})),o.exit().remove();var l=e.areas.selectAll(".mem-chart__area--metaspace").data([n]);l.enter().append("path").merge(l).attr("class","mem-chart__area--metaspace").attr("d",_["a"].area().x(function(t){return r(t.timestamp)}).y0(s(0)).y1(function(t){return s(t.metaspace)})),l.exit().remove(),e.xAxis.call(_["a"].axisBottom(r).ticks(5).tickFormat(function(t){return g()(t).format("HH:mm:ss")})),e.yAxis.call(_["a"].axisLeft(s).ticks(5).tickFormat(wt.a))}},mounted:function(){var t={top:5,right:5,bottom:30,left:50};this.width=this.$el.getBoundingClientRect().width-t.left-t.right,this.height=this.$el.getBoundingClientRect().height-t.top-t.bottom,this.chartLayer=_["a"].select(this.$el.querySelector(".mem-chart__svg")).append("g").attr("transform","translate(".concat(t.left,",").concat(t.top,")")),this.xAxis=this.chartLayer.append("g").attr("class","mem-chart__axis-x").attr("transform","translate(0,".concat(this.height,")")),this.yAxis=this.chartLayer.append("g").attr("class","mem-chart__axis-y").attr("stroke",null),this.areas=this.chartLayer.append("g"),this.drawChart(this.data)},watch:{data:"drawChart"}},zt=Vt,Gt=(n("837e"),Object(j["a"])(zt,Bt,qt,!1,null,null,null)),Wt=Gt.exports;function Jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jt(n,!0).forEach(function(e){Object(m["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Kt={props:{instance:{type:i["a"],required:!0},type:{type:String,required:!0}},mixins:[l["a"]],components:{memChart:Wt},data:function(){return{hasLoaded:!1,error:null,current:null,chartData:[]}},computed:{name:function(){switch(this.type){case"heap":return"Heap";case"nonheap":return"Non heap";default:return this.type}}},methods:{prettyBytes:wt.a,fetchMetrics:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.instance.fetchMetric("jvm.memory.max",{area:this.type}),n=this.instance.fetchMetric("jvm.memory.used",{area:this.type}),a="nonheap"===this.type?this.instance.fetchMetric("jvm.memory.used",{area:this.type,id:"Metaspace"}):null,r=this.instance.fetchMetric("jvm.memory.committed",{area:this.type}),t.next=6,e;case 6:return t.t0=t.sent.data.measurements[0].value,t.next=9,n;case 9:if(t.t1=t.sent.data.measurements[0].value,!a){t.next=16;break}return t.next=13,a;case 13:t.t2=t.sent.data.measurements[0].value,t.next=17;break;case 16:t.t2=null;case 17:return t.t3=t.t2,t.next=20,r;case 20:return t.t4=t.sent.data.measurements[0].value,t.abrupt("return",{max:t.t0,used:t.t1,metaspace:t.t3,committed:t.t4});case 22:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),createSubscription:function(){var t=this;return Object(u["u"])(0,2500).pipe(Object(u["g"])(this.fetchMetrics)).subscribe({next:function(e){t.hasLoaded=!0,t.current=e,t.chartData.push(Xt({},e,{timestamp:g()().valueOf()}))},error:function(e){t.hasLoaded=!0,console.warn("Fetching memory metrics failed:",e),t.error=e}})}}},Yt=Kt,Zt=(n("2dfc"),Object(j["a"])(Yt,$t,It,!1,null,null,null)),Qt=Zt.exports,te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sba-panel",{attrs:{title:"Metadata"}},[t.metadata?n("div",{staticClass:"content metadata"},[t.isEmptyMetadata?n("p",{staticClass:"is-muted"},[t._v("No metadata provided.")]):n("table",{staticClass:"table"},t._l(t.metadata,function(e,a){return n("tr",{key:a},[n("td",{staticClass:"metadata__key",domProps:{textContent:t._s(a)}}),n("td",[n("sba-formatted-obj",{attrs:{value:e}})],1)])}),0)]):t._e()])},ee=[],ne={props:{instance:{type:i["a"],required:!0}},computed:{metadata:function(){return this.instance.registration.metadata},isEmptyMetadata:function(){return Object.keys(this.metadata).length<=0}}},ae=ne,re=(n("34ce"),Object(j["a"])(ae,te,ee,!1,null,null,null)),se=re.exports,ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasLoaded?n("sba-panel",{attrs:{title:"Process"}},[n("div",[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Fetching process metrics failed.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),n("div",{staticClass:"level"},[t.pid?n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("PID")]),n("p",{domProps:{textContent:t._s(t.pid)}})])]):t._e(),t.uptime?n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("Uptime")]),n("p",[n("process-uptime",{attrs:{value:t.toMillis(t.uptime.value,t.uptime.baseUnit)}})],1)])]):t._e(),t.processCpuLoad?n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("Process CPU Usage")]),n("p",{domProps:{textContent:t._s(t.processCpuLoad.toFixed(2))}})])]):t._e(),t.systemCpuLoad?n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("System CPU Usage")]),n("p",{domProps:{textContent:t._s(t.systemCpuLoad.toFixed(2))}})])]):t._e(),t.systemCpuCount?n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("CPUs")]),n("p",{domProps:{textContent:t._s(t.systemCpuCount)}})])]):t._e()])])]):t._e()},ce=[],oe={props:["value"],mixins:[l["a"]],data:function(){return{startTs:null,offset:null}},render:function(){return this._v(this.clock)},computed:{clock:function(){if(!this.value)return null;var t=g.a.duration(this.value+this.offset);return"".concat(Math.floor(t.asDays()),"d ").concat(t.hours(),"h ").concat(t.minutes(),"m ").concat(t.seconds(),"s")}},watch:{value:"subscribe"},methods:{createSubscription:function(){if(this.value){var t=this;return t.startTs=g()(),t.offset=0,Object(u["u"])(0,1e3).subscribe({next:function(){t.offset=g()().valueOf()-t.startTs.valueOf()}})}}}},le={props:{instance:{type:i["a"],required:!0}},mixins:[l["a"]],components:{processUptime:oe},data:function(){return{hasLoaded:!1,error:null,pid:null,uptime:{value:null,baseUnit:null},systemCpuLoad:null,processCpuLoad:null,systemCpuCount:null}},created:function(){this.fetchPid(),this.fetchUptime(),this.fetchCpuCount()},methods:{toMillis:ot["b"],fetchUptime:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.fetchMetric("process.uptime");case 3:e=t.sent,this.uptime={value:e.measurements[0].value,baseUnit:e.baseUnit},t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),this.error=t.t0,console.warn("Fetching Uptime failed:",t.t0);case 11:this.hasLoaded=!0;case 12:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),fetchPid:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.instance.hasEndpoint("env")){t.next=12;break}return t.prev=1,t.next=4,this.instance.fetchEnv("PID");case 4:e=t.sent,this.pid=e.data.property.value,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.warn("Fetching PID failed:",t.t0);case 11:this.hasLoaded=!0;case 12:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}(),fetchCpuCount:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.fetchMetric("system.cpu.count");case 3:this.systemCpuCount=t.sent.measurements[0].value,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.warn("Fetching Cpu Count failed:",t.t0);case 9:this.hasLoaded=!0;case 10:case"end":return t.stop()}},t,this,[[0,6]])}));function e(){return t.apply(this,arguments)}return e}(),createSubscription:function(){var t=this;return Object(u["u"])(0,2500).pipe(Object(u["g"])(this.fetchCpuLoadMetrics)).subscribe({next:function(e){t.processCpuLoad=e.processCpuLoad,t.systemCpuLoad=e.systemCpuLoad},error:function(e){t.hasLoaded=!0,console.warn("Fetching CPU Usage metrics failed:",e),t.error=e}})},fetchCpuLoadMetrics:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.fetchMetric("process.cpu.usage"),n=this.fetchMetric("system.cpu.usage"),t.prev=2,t.next=5,e;case 5:a=t.sent.measurements[0].value,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),console.warn("Fetching Process CPU Load failed:",t.t0);case 11:return t.prev=11,t.next=14,n;case 14:r=t.sent.measurements[0].value,t.next=20;break;case 17:t.prev=17,t.t1=t["catch"](11),console.warn("Fetching Sytem CPU Load failed:",t.t1);case 20:return t.abrupt("return",{processCpuLoad:a,systemCpuLoad:r});case 21:case"end":return t.stop()}},t,this,[[2,8],[11,17]])}));function e(){return t.apply(this,arguments)}return e}(),fetchMetric:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.instance.fetchMetric(e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}},ue=le,de=Object(j["a"])(ue,ie,ce,!1,null,null,null),pe=de.exports,fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasLoaded?n("sba-panel",{attrs:{title:"Threads"}},[n("div",[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Fetching threads metrics failed.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),t.current?n("div",{staticClass:"level threads-current"},[n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading has-bullet has-bullet-warning"},[t._v("Live")]),n("p",{domProps:{textContent:t._s(t.current.live)}})])]),n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading  has-bullet has-bullet-info"},[t._v("Daemon")]),n("p",{domProps:{textContent:t._s(t.current.daemon)}})])]),n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("Peak Live")]),n("p",{domProps:{textContent:t._s(t.current.peak)}})])])]):t._e(),t.chartData.length>0?n("threads-chart",{attrs:{data:t.chartData}}):t._e()],1)]):t._e()},he=[],me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"threads-chart"},[n("svg",{staticClass:"threads-chart__svg"})])},ve=[];function ge(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ge(n,!0).forEach(function(e){Object(m["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ge(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var ye={props:{data:{type:Array,default:function(){return[]}}},methods:{drawChart:function(t){var e=this,n=1===t.length?t.concat([be({},t[0],{timestamp:t[0].timestamp+1})]):t,a=_["a"].extent(n,function(t){return t.timestamp}),r=_["a"].scaleTime().range([0,e.width]).domain(a),s=_["a"].scaleLinear().range([e.height,0]).domain([0,1.05*_["a"].max(n,function(t){return t.live})]),i=e.areas.selectAll(".threads-chart__area--live").data([n]);i.enter().append("path").merge(i).attr("class","threads-chart__area--live").attr("d",_["a"].area().x(function(t){return r(t.timestamp)}).y0(function(t){return s(t.daemon)}).y1(function(t){return s(t.live)})),i.exit().remove();var c=e.areas.selectAll(".threads-chart__area--daemon").data([n]);c.enter().append("path").merge(c).attr("class","threads-chart__area--daemon").attr("d",_["a"].area().x(function(t){return r(t.timestamp)}).y0(s(0)).y1(function(t){return s(t.daemon)})),c.exit().remove(),e.xAxis.call(_["a"].axisBottom(r).ticks(5).tickFormat(function(t){return g()(t).format("HH:mm:ss")})),e.yAxis.call(_["a"].axisLeft(s).ticks(5))}},mounted:function(){var t={top:5,right:5,bottom:30,left:50};this.width=this.$el.getBoundingClientRect().width-t.left-t.right,this.height=this.$el.getBoundingClientRect().height-t.top-t.bottom,this.chartLayer=_["a"].select(this.$el.querySelector(".threads-chart__svg")).append("g").attr("transform","translate(".concat(t.left,",").concat(t.top,")")),this.xAxis=this.chartLayer.append("g").attr("class","threads-chart__axis-x").attr("transform","translate(0,".concat(this.height,")")),this.yAxis=this.chartLayer.append("g").attr("class","threads-chart__axis-y").attr("stroke",null),this.areas=this.chartLayer.append("g"),this.drawChart(this.data)},watch:{data:"drawChart"}},_e=ye,Ce=(n("5fc5"),Object(j["a"])(_e,me,ve,!1,null,null,null)),we=Ce.exports;function xe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function Oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xe(n,!0).forEach(function(e){Object(m["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xe(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var je={props:{instance:{type:i["a"],required:!0}},mixins:[l["a"]],components:{threadsChart:we},data:function(){return{hasLoaded:!1,error:null,current:null,chartData:[]}},methods:{fetchMetrics:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.instance.fetchMetric("jvm.threads.live"),n=this.instance.fetchMetric("jvm.threads.peak"),a=this.instance.fetchMetric("jvm.threads.daemon"),t.next=5,e;case 5:return t.t0=t.sent.data.measurements[0].value,t.next=8,n;case 8:return t.t1=t.sent.data.measurements[0].value,t.next=11,a;case 11:return t.t2=t.sent.data.measurements[0].value,t.abrupt("return",{live:t.t0,peak:t.t1,daemon:t.t2});case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),createSubscription:function(){var t=this;return Object(u["u"])(0,2500).pipe(Object(u["g"])(this.fetchMetrics)).subscribe({next:function(e){t.hasLoaded=!0,t.current=e,t.chartData.push(Oe({},e,{timestamp:g()().valueOf()}))},error:function(e){t.hasLoaded=!0,console.warn("Fetching threads metrics failed:",e),t.error=e}})}}},ke=je,Pe=(n("579f"),Object(j["a"])(ke,fe,he,!1,null,null,null)),Se=Pe.exports,Ee={components:{detailsHealth:Rt,detailsInfo:Nt,detailsProcess:pe,detailsThreads:Se,detailsDatasources:st,detailsMemory:Qt,detailsGc:ht,detailsCaches:N,detailsMetadata:se},props:{instance:{type:i["a"],required:!0}},data:function(){return{hasLoaded:!1,error:null,metrics:[]}},computed:{hasCaches:function(){return this.hasMetric("cache.gets")},hasDatasources:function(){return this.hasMetric("data.source.active.connections")},hasGc:function(){return this.hasMetric("jvm.gc.pause")},hasInfo:function(){return this.instance.hasEndpoint("info")},hasMemory:function(){return this.hasMetric("jvm.memory.max")},hasProcess:function(){return this.hasMetric("process.uptime")},hasThreads:function(){return this.hasMetric("jvm.threads.live")},hasMetadata:function(){return this.instance.registration&&this.instance.registration.metadata}},created:function(){this.fetchMetricIndex()},methods:{hasMetric:function(t){return this.metrics&&this.metrics.includes(t)},fetchMetricIndex:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.instance.hasEndpoint("metrics")){t.next=14;break}return this.error=null,t.prev=2,t.next=5,this.instance.fetchMetrics();case 5:e=t.sent,this.metrics=e.data.names,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](2),console.warn("Fetching metric index failed:",t.t0),this.error=t.t0;case 13:this.hasLoaded=!0;case 14:case"end":return t.stop()}},t,this,[[2,9]])}));function e(){return t.apply(this,arguments)}return e}()},install:function(t){var e=t.viewRegistry;e.addView({name:"instances/details",parent:"instances",path:"details",component:this,label:"Details",group:"Insights",order:0})}},Le=Ee,Re=(n("c5ec"),Object(j["a"])(Le,a,r,!1,null,null,null));e["default"]=Re.exports},8208:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section",class:{"is-loading":!t.hasLoaded}},[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n        Fetching configuration properties failed.\n      ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),t.configprops?n("div",{staticClass:"field has-addons"},[n("p",{staticClass:"control is-expanded"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"input",attrs:{type:"search",placeholder:"name / value filter"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}})])]):t._e(),t._l(t.configurationPropertiesBeans,function(e){return n("sba-panel",{key:e.name,attrs:{"header-sticks-below":["#navigation"],title:e.name}},[Object.keys(e.properties).length>0?n("table",{staticClass:"table is-fullwidth"},t._l(e.properties,function(a,r){return n("tr",{key:e.name+"-"+r},[n("td",{domProps:{textContent:t._s(r)}}),n("td",{staticClass:"is-breakable",domProps:{textContent:t._s(a)}})])}),0):n("p",{staticClass:"is-muted"},[t._v("No properties set")])])})],2)},r=[],s=(n("2338"),n("63ff"),n("e71e")),i=(n("fb37"),n("c887")),c=(n("f763"),n("21de"),n("a506")),o=(n("0857"),n("f301"),n("df99"),n("df0d")),l=n("91f9"),u=n.n(l),d=n("1837"),p=n.n(d),f=n("6050"),h=n.n(f);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(n,!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var g=function(t){return function(e,n){return n.toString().toLowerCase().includes(t)||e.toString().toLowerCase().includes(t)}},b=function(t,e){return h()(e,g(t))},y=function(t){return function(e){return e&&e.properties?v({},e,{properties:b(t,e.properties)}):null}};function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(t)!==t?Object(c["a"])({},e,t):Array.isArray(t)?0===t.length?Object(c["a"])({},e,[]):t.map(function(t,n){return _(t,"".concat(e,"[").concat(n,"]"))}).reduce(function(t,e){return v({},t,{},e)},{}):u()(t)?Object(c["a"])({},e,{}):Object.entries(t).map(function(t){var n=Object(i["a"])(t,2),a=n[0],r=n[1];return _(r,e?"".concat(e,".").concat(a):a)}).reduce(function(t,e){return v({},t,{},e)},{})}var C=function(t){for(var e=[],n=Object.keys(t.contexts),a=0,r=n;a<r.length;a++)for(var s=r[a],i=t.contexts[s],c=Object.keys(i.beans),o=function(){var t=u[l],a=i.beans[t],r=p()(_(a.properties),function(t,e){return"".concat(a.prefix,".").concat(e)});e.push({name:n.length>1?"".concat(s,": ").concat(t):t,properties:r})},l=0,u=c;l<u.length;l++)o();return e},w={props:{instance:{type:o["a"],required:!0}},data:function(){return{hasLoaded:!1,error:null,configprops:null,filter:null}},computed:{configurationPropertiesBeans:function(){if(!this.configprops)return[];var t=C(this.configprops);return this.filter?t.map(y(this.filter.toLowerCase())).filter(function(t){return t&&Object.keys(t.properties).length>0}):t}},created:function(){this.fetchConfigprops()},methods:{fetchConfigprops:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.error=null,t.prev=1,t.next=4,this.instance.fetchConfigprops();case 4:e=t.sent,this.configprops=e.data,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),console.warn("Fetching configuration properties failed:",t.t0),this.error=t.t0;case 12:this.hasLoaded=!0;case 13:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}()},install:function(t){var e=t.viewRegistry;e.addView({name:"instances/configprops",parent:"instances",path:"configprops",component:this,label:"Configuration Properties",group:"Insights",order:110,isEnabled:function(t){var e=t.instance;return e.hasEndpoint("configprops")}})}},x=w,O=n("6691"),j=Object(O["a"])(x,a,r,!1,null,null,null);e["default"]=j.exports},"82fb":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"instances"},[n("div",{staticClass:"instances__body"},[n("div",{staticClass:"instances__sidebar"},[n("instance-sidebar",{attrs:{views:t.views,instance:t.instance,application:t.application}})],1),n("div",{staticClass:"instances__view"},[t.instance?n("router-view",{attrs:{instance:t.instance,application:t.application}}):t._e()],1)])])},r=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"sidebar"},[t.instance?n("div",{directives:[{name:"sticks-below",rawName:"v-sticks-below",value:["#navigation"],expression:"['#navigation']"}]},[n("router-link",{staticClass:"instance-summary",class:"instance-summary--"+t.instance.statusInfo.status,attrs:{to:{name:"instances/details",params:{instanceId:t.instance.id}}}},[n("div",{staticClass:"instance-summary__name",domProps:{textContent:t._s(t.instance.registration.name)}}),n("div",{staticClass:"instance-summary__id",domProps:{textContent:t._s(t.instance.id)}})]),n("ul",t._l(t.enabledGroupedViews,function(e){return n("li",{key:e.name,staticClass:"sidebar-group",class:{"is-active":t.isActiveGroup(e)},on:{mouseenter:function(n){t.hasMultipleViews(e)&&!t.isActiveGroup(e)&&t.showFlyout(n)},mouseleave:function(n){t.hasMultipleViews(e)&&!t.isActiveGroup(e)&&t.hideFlyout(n)}}},[n("router-link",{class:{"is-active":t.isActiveGroup(e)},attrs:{to:{name:e.views[0].name,params:{instanceId:t.instance.id}},"active-class":"","exact-active-class":""},domProps:{textContent:t._s(t.hasMultipleViews(e)?e.name:e.views[0].label)}}),t.hasMultipleViews(e)?n("ul",{staticClass:"sidebar-group-items"},t._l(e.views,function(e){return n("li",{key:e.name},[n("router-link",{attrs:{to:{name:e.name,params:{instanceId:t.instance.id}}}},[n(e.handle,{tag:"component"})],1)],1)}),0):t._e()],1)}),0)],1):t._e()])},i=[],c=(n("2338"),n("fb37"),n("f301"),n("df99"),n("9fa4"),n("a506")),o=(n("d4d5"),n("75a3"),n("f763"),n("3b54"),n("df36"),n("873c")),l=(n("b745"),n("cc40")),u=n("aac3"),d=n("df0d"),p=n("d50b");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(n,!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var m={props:{views:{type:Array,default:function(){return[]}},instance:{type:d["a"],default:null},application:{type:u["a"],default:null}},directives:{sticksBelow:l["a"]},data:function(){return{isStuck:!1}},computed:{enabledViews:function(){var t=this;return this.instance?Object(o["a"])(this.views).filter(function(e){return"undefined"===typeof e.isEnabled||e.isEnabled({instance:t.instance})}).sort(Object(p["a"])(function(t){return t.order})):[]},enabledGroupedViews:function(){var t=new Map;return this.enabledViews.forEach(function(e){var n=e.group||e.label,a=t.get(n)||{name:n,order:Number.MAX_SAFE_INTEGER,views:[]};t.set(n,h({},a,{order:Math.min(a.order,e.order),views:[].concat(Object(o["a"])(a.views),[e])}))}),Array.from(t.values())}},methods:{isActiveGroup:function(t){return t.views.includes(this.$route.meta.view)},hasMultipleViews:function(t){return t.views.length>1},onScroll:function(){this.isStuck=this.$el.getBoundingClientRect().top<=52},showFlyout:function(t){var e=t.target;e.classList.add("is-showing-flyout");var n=e.getBoundingClientRect(),a=t.target.querySelector(".sidebar-group-items");a.style.top="".concat(n.top,"px"),a.style.left="".concat(n.right+1,"px")},hideFlyout:function(t){var e=t.target;e.classList.remove("is-showing-flyout");var n=t.target.querySelector(".sidebar-group-items");n.style=void 0}},mounted:function(){window.addEventListener("scroll",this.onScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)}},v=m,g=(n("f5cb"),n("6691")),b=Object(g["a"])(v,s,i,!1,null,null,null),y=b.exports,_={components:{InstanceSidebar:y},props:{instanceId:{type:String,required:!0},views:{type:Array,default:function(){return[]}},applications:{type:Array,default:function(){return[]}},error:{type:Error,default:null}},computed:{instance:function(){return this.applications.findInstance(this.instanceId)},application:function(){return this.applications.findApplicationForInstance(this.instanceId)}},install:function(t){var e=t.viewRegistry;e.addView({name:"instances",path:"/instances/:instanceId",component:this,props:!0})}},C=_,w=(n("b38f"),Object(g["a"])(C,a,r,!1,null,null,null));e["default"]=w.exports},"837e":function(t,e,n){"use strict";var a=n("cab3"),r=n.n(a);r.a},8600:function(t,e,n){"use strict";var a=n("b92c"),r=n.n(a);r.a},8673:function(t,e,n){},"879f":function(t,e,n){"use strict";var a=n("1426"),r=n.n(a);r.a},"8a74":function(t,e,n){"use strict";var a=n("8bd3"),r=n.n(a);r.a},"8bd3":function(t,e,n){},"8be7":function(t,e,n){"use strict";n.d(e,"k",function(){return x}),n.d(e,"o",function(){return O});var a=n("4384"),r=n("06e5"),s=n("2cb4");n.d(e,"r",function(){return s["of"]}),n.d(e,"i",function(){return a["defer"]});var i=n("6c63");n.d(e,"e",function(){return i["concat"]});var c=n("afdc");n.d(e,"a",function(){return c["EMPTY"]});var o=n("05eb");n.d(e,"m",function(){return o["from"]});var l=n("f8ee");n.d(e,"u",function(){return l["timer"]});var u=n("6339");n.d(e,"b",function(){return u["Observable"]});var d=n("9f11");n.d(e,"c",function(){return d["Subject"]});var p=n("2b3c");n.d(e,"d",function(){return p["animationFrame"]});var f=n("83b5");n.d(e,"g",function(){return f["concatMap"]});var h=n("aa47");n.d(e,"j",function(){return h["delay"]});var m=n("4495");n.d(e,"h",function(){return m["debounceTime"]});var v=n("0fe2");n.d(e,"q",function(){return v["merge"]});var g=n("9be6");n.d(e,"p",function(){return g["map"]});var b=n("5997");n.d(e,"s",function(){return b["retryWhen"]}),n.d(e,"t",function(){return r["tap"]});var y=n("9f51");n.d(e,"l",function(){return y["filter"]});var _=n("4ef3");n.d(e,"f",function(){return _["concatAll"]});var C=n("3482");n.d(e,"n",function(){return C["ignoreElements"]});var w=function(t){return function(e){return Object(a["defer"])(function(){return t(),e})}},x=function(t){return function(e){var n;return Object(a["defer"])(function(){return n=!1,e}).pipe(Object(r["tap"])(function(e){n||(n=!0,t(e))}))}},O=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;return function(n){var a=null;return n.pipe(w(function(){return a=setTimeout(function(){return t("executing")},e)}),Object(r["tap"])({complete:function(){a&&clearTimeout(a),t("completed")},error:function(e){console.warn("Operation failed:",e),a&&clearTimeout(a),t("failed")}}))}}},"8cdb":function(t,e,n){"use strict";var a=n("f04d"),r=n.n(a);r.a},"8fbb":function(t,e,n){"use strict";var a=n("6bda"),r=n.n(a);r.a},"8ff3":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section"},[n("div",{staticClass:"container"},[n("div",{staticStyle:{width:"800px",margin:"0 auto"}},[n("center",[n("img",{attrs:{width:"264",height:"233",src:"hystrix/images/hystrix-logo.png"}}),n("br"),n("br"),n("h2",[t._v("PigX Hystrix Dashboard")]),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"目标流"}},[n("el-input",{model:{value:t.form.stream,callback:function(e){t.$set(t.form,"stream",e)},expression:"form.stream"}})],1),n("el-form-item",{attrs:{label:"延迟"}},[n("el-input",{attrs:{type:"number"},model:{value:t.form.delay,callback:function(e){t.$set(t.form,"delay",e)},expression:"form.delay"}})],1),n("el-form-item",{attrs:{label:"标题"}},[n("el-input",{attrs:{t:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.sendToMonitor}},[t._v("开始监控")])],1)],1)],1)],1)])])},r=[],s={data:function(){return{version:"",form:{stream:"http://localhost:5001/turbine.stream",delay:"",title:""}}},methods:{sendToMonitor:function(){if(this.form.stream){var t="hystrix/monitor?stream="+encodeURIComponent(this.form.stream);this.form.delay&&(t+="&delay="+this.form.delay),this.form.title&&(t+="&title="+encodeURIComponent(this.form.title)),location.href=t}else this.$message({message:"The 'stream' value is required.",type:"warning"})}},install:function(t){var e=t.viewRegistry;e.addView({path:"/turbine",name:"turbine",label:"实时监控",order:200,component:this})}},i=s,c=(n("0db0"),n("6691")),o=Object(c["a"])(i,a,r,!1,null,null,null);e["default"]=o.exports},"92af":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section"},[n("div",{staticClass:"container"},[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Fetching caches failed.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field has-addons"},[n("p",{staticClass:"control is-expanded"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"input",attrs:{type:"search",placeholder:"name filter"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}})]),n("p",{staticClass:"control"},[n("span",{staticClass:"button is-static"},[n("span",{domProps:{textContent:t._s(t.filteredCaches.length)}}),t._v("\n            /\n            "),n("span",{domProps:{textContent:t._s(t.caches.length)}})])])])]),n("caches-list",{attrs:{instance:t.instance,caches:t.filteredCaches,"is-loading":t.isLoading}})],1)])},r=[],s=(n("7364"),n("f301"),n("df99"),n("63ff"),n("e71e")),i=(n("b745"),n("fb37"),n("c887")),c=(n("f763"),n("21de"),n("df0d")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"caches table is-fullwidth"},[n("thead",[n("tr",[n("th",[t._v("Name")]),n("th",[t._v("Cache Manager")]),n("th",{staticClass:"is-narrow"},[n("sba-confirm-button",{staticClass:"button",class:{"is-loading":"executing"===t.clearingAll,"is-info":"completed"===t.clearingAll,"is-danger":"failed"===t.clearingAll},attrs:{disabled:null!==t.clearingAll},on:{click:t.clearCaches}},["completed"===t.clearingAll?n("span",[t._v("Cleared")]):"failed"===t.clearingAll?n("span",[t._v("Failed")]):n("span",[n("font-awesome-icon",{attrs:{icon:"trash"}}),t._v(" Clear")],1)])],1)])]),n("tbody",[t._l(t.caches,function(e){return n("tr",{key:e.key},[n("td",[n("span",{staticClass:"is-breakable",domProps:{textContent:t._s(e.name)}})]),n("td",[n("span",{staticClass:"is-breakable",domProps:{textContent:t._s(e.cacheManager)}})]),n("td",{staticClass:"is-narrow"},[n("button",{staticClass:"button",class:{"is-loading":"executing"===t.clearing[e.name],"is-info":"completed"===t.clearing[e.name],"is-danger":"failed"===t.clearing[e.name]},attrs:{disabled:e.name in t.clearing},on:{click:function(n){return t.clearCache(e.name)}}},["completed"===t.clearing[e.name]?n("span",[t._v("Cleared")]):"failed"===t.clearing[e.name]?n("span",[t._v("Failed")]):n("span",[n("font-awesome-icon",{attrs:{icon:"trash"}}),t._v(" Clear")],1)])])])}),0===t.caches.length?n("tr",[n("td",{staticClass:"is-muted",attrs:{colspan:"3 "}},[t.isLoading?n("p",{staticClass:"is-loading"},[t._v("Loading Caches...")]):n("p",[t._v("No caches found.")])])]):t._e()],2)])},l=[],u=n("8be7"),d={name:"CachesList",props:{caches:{type:Array,default:function(){return[]}},instance:{type:c["a"],required:!0},isLoading:{type:Boolean,default:!1}},data:function(){return{clearing:{},clearingAll:null}},methods:{clearCaches:function(){var t=this;Object(u["m"])(t.instance.clearCaches()).pipe(Object(u["o"])(function(e){return t.clearingAll=e})).subscribe({complete:function(){return setTimeout(function(){return t.clearingAll=null},2500),t.$emit("cleared","*")}})},clearCache:function(t){var e=this;e._clearCache(t).pipe(Object(u["o"])(function(n){return e.$set(e.clearing,t,n)})).subscribe({complete:function(){return setTimeout(function(){return e.$delete(e.clearing,t)},2500),e.$emit("cleared",t)}})},_clearCache:function(t){var e=this;return Object(u["r"])(t).pipe(Object(u["g"])(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.instance.clearCache(n);case 2:return t.abrupt("return",n);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),Object(u["t"])({error:function(e){console.warn("Clearing cache ".concat(t," failed:"),e)}}))}}},p=d,f=(n("17b8"),n("6691")),h=Object(f["a"])(p,o,l,!1,null,null,null),m=h.exports,v=n("91f9"),g=n.n(v),b=function(t){if(g()(t.cacheManagers))return[];var e=Object.entries(t.cacheManagers).flatMap(function(t){var e=Object(i["a"])(t,2),n=e[0],a=e[1];return Object.keys(a.caches).map(function(t){return{cacheManager:n,name:t,key:"".concat(n,":").concat(t)}})});return e.sort(function(t,e){return t.key.localeCompare(e.key)})},y={components:{CachesList:m},props:{instance:{type:c["a"],required:!0}},data:function(){return{isLoading:!1,error:null,caches:[],filter:""}},computed:{filteredCaches:function(){var t=this.getFilterFn();return t?this.caches.filter(t):this.caches}},methods:{fetchCaches:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.error=null,this.isLoading=!0,t.prev=2,t.next=5,this.instance.fetchCaches();case 5:e=t.sent,this.caches=b(e.data),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](2),console.warn("Fetching caches failed:",t.t0),this.error=t.t0;case 13:this.isLoading=!1;case 14:case"end":return t.stop()}},t,this,[[2,9]])}));function e(){return t.apply(this,arguments)}return e}(),getFilterFn:function(){var t=null;if(this.filter){var e=this.filter.toLowerCase();t=function(t){return t.name.toLowerCase().includes(e)}}return t}},created:function(){this.fetchCaches()},install:function(t){var e=t.viewRegistry;e.addView({name:"instances/caches",parent:"instances",path:"caches",group:"Data",component:this,label:"Caches",order:970,isEnabled:function(t){var e=t.instance;return e.hasEndpoint("caches")}})}},_=y,C=Object(f["a"])(_,a,r,!1,null,null,null);e["default"]=C.exports},"931b":function(t,e,n){"use strict";var a=n("41c3"),r=n.n(a);r.a},"9bd0":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section",class:{"is-loading":!t.hasLoaded}},[t.hasLoaded?[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Fetching Flyway reports failed.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),t._l(t.contexts,function(e,a){return[n("h3",{key:a,staticClass:"title",domProps:{textContent:t._s(a)}}),t._l(e.flywayBeans,function(e,r){return n("sba-panel",{key:a+"-"+r,staticClass:"migration",attrs:{title:r,"header-sticks-below":["#navigation"]}},[n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[t._v("Type")]),n("th",[t._v("Checksum")]),n("th",[t._v("Version")]),n("th",[t._v("Description")]),n("th",[t._v("Script")]),n("th",[t._v("State")]),n("th",[t._v("Installed by")]),n("th",[t._v("Installed on")]),n("th",[t._v("Installed rank")]),n("th",[t._v("Execution Time")])])]),n("tbody",t._l(e.migrations,function(e){return n("tr",{key:e.checksum},[n("td",{domProps:{textContent:t._s(e.type)}}),n("td",{domProps:{textContent:t._s(e.checksum)}}),n("td",{domProps:{textContent:t._s(e.version)}}),n("td",{domProps:{textContent:t._s(e.description)}}),n("td",{domProps:{textContent:t._s(e.script)}}),n("td",[n("span",{staticClass:"tag",class:t.stateClass(e.state),domProps:{textContent:t._s(e.state)}})]),n("td",{domProps:{textContent:t._s(e.installedBy)}}),n("td",{domProps:{textContent:t._s(e.installedOn)}}),n("td",{domProps:{textContent:t._s(e.installedRank)}}),n("td",{domProps:{textContent:t._s(e.executionTime+"ms")}})])}),0)])])})]})]:t._e()],2)},r=[],s=(n("63ff"),n("e71e")),i=n("df0d"),c={props:{instance:{type:i["a"],required:!0}},data:function(){return{hasLoaded:!1,error:null,contexts:null}},computed:{},created:function(){this.fetchFlyway()},methods:{fetchFlyway:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.error=null,t.prev=1,t.next=4,this.instance.fetchFlyway();case 4:e=t.sent,this.contexts=e.data.contexts,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),console.warn("Fetching flyway reports failed:",t.t0),this.error=t.t0;case 12:this.hasLoaded=!0;case 13:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}(),stateClass:function(t){switch(t){case"BASELINE":case"MISSING_SUCCESS":case"SUCCESS":case"OUT_OF_ORDER":case"FUTURE_SUCCESS":return"is-success";case"PENDING":case"ABOVE_TARGET":case"PREINIT":case"BELOW_BASELINE":case"IGNORED":return"is-warning";case"MISSING_FAILED":case"FAILED":case"FUTURE_FAILED":return"is-danger";default:return"is-light"}}},install:function(t){var e=t.viewRegistry;e.addView({name:"instances/flyway",parent:"instances",path:"flyway",component:this,label:"Flyway",group:"Data",order:900,isEnabled:function(t){var e=t.instance;return e.hasEndpoint("flyway")}})}},o=c,l=n("6691"),u=Object(l["a"])(o,a,r,!1,null,null,null);e["default"]=u.exports},"9c36":function(t,e,n){"use strict";var a=n("c44d"),r=n.n(a);r.a},"9dbd":function(t,e,n){},"9e78":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section"},[n("div",{staticClass:"field has-addons"},[n("div",{staticClass:"control"},[n("span",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.type,expression:"filter.type"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filter,"type",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"username"}},[t._v("Username")]),n("option",{attrs:{value:"sessionId"}},[t._v("SessionId")])])])]),n("div",{staticClass:"control is-expanded"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.value,expression:"filter.value"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.filter.value},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetchSessionsByUsername()},paste:t.handlePaste,input:function(e){e.target.composing||t.$set(t.filter,"value",e.target.value)}}})])]),t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n        Fetching sessions failed.\n      ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),n("sba-sessions-list",{attrs:{instance:t.instance,sessions:t.sessions,"is-loading":t.isLoading},on:{deleted:t.fetch}})],1)},r=[],s=(n("34a3"),n("a506")),i=n("c887"),c=(n("f763"),n("21de"),n("3c6b"),n("63ff"),n("e71e")),o=n("cbb3"),l=n("98d4"),u=n("df0d"),d=n("12b1"),p=n.n(d),f=n("09ec"),h=n.n(f),m=n("6bf2"),v=n.n(m),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"sessions table is-fullwidth"},[n("thead",[n("tr",[n("th",[t._v("Session Id")]),n("th",[t._v("Created at")]),n("th",[t._v("Last accessed at")]),n("th",[t._v("Expiry")]),t._m(0),n("th",[t._v("Attributes")]),n("th",[t.sessions.length>1?n("sba-confirm-button",{staticClass:"button",class:{"is-loading":"executing"===t.deletingAll,"is-info":"completed"===t.deletingAll,"is-danger":"failed"===t.deletingAll},attrs:{disabled:null!==t.deletingAll},on:{click:function(e){return t.deleteAllSessions()}}},["completed"===t.deletingAll?n("span",[t._v("Deleted")]):"failed"===t.deletingAll?n("span",[t._v("Failed")]):n("span",[n("font-awesome-icon",{attrs:{icon:"trash"}}),t._v(" Delete")],1)]):t._e()],1)])]),t._l(t.sessions,function(e){return n("tr",{key:e.id},[n("td",[n("router-link",{attrs:{to:{name:"instances/sessions",params:{instanceId:t.instance.id},query:{sessionId:e.id}}},domProps:{textContent:t._s(e.id)}})],1),n("td",{domProps:{textContent:t._s(e.creationTime.format("L HH:mm:ss.SSS"))}}),n("td",{domProps:{textContent:t._s(e.lastAccessedTime.format("L HH:mm:ss.SSS"))}}),n("td",[e.expired?n("span",{staticClass:"tag is-info"},[t._v("Expired")]):t._e()]),n("td",[e.maxInactiveInterval>=0?n("span",{domProps:{textContent:t._s(e.maxInactiveInterval+"s")}}):n("span",[t._v("unlimited")])]),n("td",t._l(e.attributeNames,function(a){return n("span",{key:e.id+"-"+a,staticClass:"tag",domProps:{textContent:t._s(a)}})}),0),n("td",[n("button",{staticClass:"button",class:{"is-loading":"executing"===t.deleting[e.id],"is-info":"completed"===t.deleting[e.id],"is-danger":"failed"===t.deleting[e.id]},attrs:{disabled:e.id in t.deleting},on:{click:function(n){return t.deleteSession(e.id)}}},["completed"===t.deleting[e.id]?n("span",[t._v("Deleted")]):"failed"===t.deleting[e.id]?n("span",[t._v("Failed")]):n("span",[n("font-awesome-icon",{attrs:{icon:"trash"}}),t._v(" Delete")],1)])])])}),0===t.sessions.length?n("tr",[n("td",{staticClass:"is-muted",attrs:{colspan:"7 "}},[t.isLoading?n("p",{staticClass:"is-loading"},[t._v("Loading Sessions...")]):n("p",[t._v("No Sessions found.")])])]):t._e()],2)},b=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",[t._v("Max. inactive"),n("br"),t._v("interval")])}],y=n("8be7"),_=n("d5db"),C=n.n(_),w={props:{sessions:{type:Array,default:function(){return[]}},instance:{type:u["a"],required:!0},isLoading:{type:Boolean,default:!1}},data:function(){return{deletingAll:null,deleting:{}}},methods:{prettyBytes:C.a,deleteAllSessions:function(){var t=this;t.subscription=Object(y["m"])(t.sessions).pipe(Object(y["p"])(function(t){return t.id}),Object(y["g"])(t._deleteSession),Object(y["o"])(function(e){return t.deletingAll=e})).subscribe({complete:function(){t.$emit("deleted","*")}})},deleteSession:function(t){var e=this;e._deleteSession(t).pipe(Object(y["o"])(function(n){return e.$set(e.deleting,t,n)})).subscribe({complete:function(){return e.$emit("deleted",t)}})},_deleteSession:function(t){var e=this;return Object(y["r"])(t).pipe(Object(y["g"])(function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.instance.deleteSession(n);case 2:return t.abrupt("return",n);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),Object(y["t"])({error:function(e){console.warn("Deleting session ".concat(t," failed:"),e)}}))}}},x=w,O=(n("09a2"),n("6691")),j=Object(O["a"])(x,g,b,!1,null,null,null),k=j.exports,P=/[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}/,S=function t(e){var n=e.creationTime,a=e.lastAccessedTime,r=Object(o["a"])(e,["creationTime","lastAccessedTime"]);Object(l["a"])(this,t),Object.assign(this,r),this.creationTime=v()(n),this.lastAccessedTime=v()(a)},E={props:{instance:{type:u["a"],required:!0}},components:{sbaSessionsList:k},data:function(){return{error:null,filter:{value:"",type:null},sessions:[],isLoading:!1}},methods:{fetch:p()(Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.error=null,this.filter.value){t.next=4;break}return this.sessions=[],t.abrupt("return");case 4:if(this.isLoading=!0,t.prev=5,"sessionId"!==this.filter.type){t.next=12;break}return t.next=9,this.fetchSession();case 9:this.sessions=t.sent,t.next=15;break;case 12:return t.next=14,this.fetchSessionsByUsername();case 14:this.sessions=t.sent;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](5),console.warn("Fetching sessions failed:",t.t0),this.error=t.t0;case 21:this.isLoading=!1;case 22:case"end":return t.stop()}},t,this,[[5,17]])})),250),fetchSession:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.instance.fetchSession(this.filter.value);case 3:return e=t.sent,t.abrupt("return",[new S(e.data)]);case 7:if(t.prev=7,t.t0=t["catch"](0),404!==t.t0.response.status){t.next=13;break}return t.abrupt("return",[]);case 13:throw t.t0;case 14:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),fetchSessionsByUsername:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.instance.fetchSessionsByUsername(this.filter.value);case 2:return e=t.sent,t.abrupt("return",e.data.sessions.map(function(t){return new S(t)}));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handlePaste:function(t){var e=t.clipboardData.getData("text").match(P);e&&(this.filter.type="sessionId")}},watch:{"$route.query":{immediate:!0,handler:function(){this.filter=Object.entries(this.$route.query).reduce(function(t,e){var n=Object(i["a"])(e,2),a=n[0],r=n[1];return t.type=a,t.value=r,t},{type:"username",value:""})}},filter:{deep:!0,immediate:!0,handler:function(){var t=Object(s["a"])({},this.filter.type,this.filter.value);h()(t,!this.$route.query)||this.$router.replace({name:"instances/sessions",query:t}),this.fetch()}}},install:function(t){var e=t.viewRegistry;e.addView({name:"instances/sessions",parent:"instances",path:"sessions",component:this,label:"Sessions",group:"Security",order:700,isEnabled:function(t){var e=t.instance;return e.hasEndpoint("sessions")}})}},L=E,R=Object(O["a"])(L,a,r,!1,null,null,null);e["default"]=R.exports},"9fb3":function(t,e,n){},a2c4:function(t,e,n){"use strict";(function(t){n.d(e,"b",function(){return s});var a=n("f753"),r=n.n(a);r.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",t.SBA&&t.SBA.csrf&&t.SBA.csrf.headerName&&(r.a.defaults.xsrfHeaderName=t.SBA.csrf.headerName);var s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0};return function(e){return e.response&&401===e.response.status&&t(e)&&window.location.assign("login?redirectTo=".concat(encodeURIComponent(window.location.href))),Promise.reject(e)}},i=r.a.create();i.interceptors.response.use(function(t){return t},s()),i.create=r.a.create,e["a"]=i}).call(this,n("66fa"))},a7e0:function(t,e,n){},aa77:function(t,e,n){"use strict";var a=n("5c12"),r=n.n(a);r.a},aac3:function(t,e,n){"use strict";n("2338"),n("f763"),n("fb37");var a=n("a506"),r=(n("cde0"),n("63ff"),n("e71e")),s=(n("608b"),n("7364"),n("7f22")),i=n("98d4"),c=n("ab1f"),o=n("a2c4"),l=n("55fe"),u=n("8be7"),d=n("2d8a"),p=n("e617"),f=n.n(p),h=n("df0d");function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(n,!0).forEach(function(e){Object(a["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function g(){var t=Object(s["a"])(["applications/","/"]);return g=function(){return t},t}var b=function(){function t(e){Object(i["a"])(this,t),this.name=e,this.axios=o["a"].create({baseURL:Object(d["a"])(g(),this.name)}),this.axios.interceptors.response.use(function(t){return t},Object(o["b"])())}return Object(c["a"])(t,[{key:"findInstance",value:function(t){return this.instances.find(function(e){return e.id===t})}},{key:"unregister",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.delete(""));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"isUnregisterable",get:function(){return this.instances.findIndex(function(t){return t.isUnregisterable})>=0}}],[{key:"list",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].get("applications",{transformResponse:t._transformResponse});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function n(){return e.apply(this,arguments)}return n}()},{key:"getStream",value:function(){return Object(u["e"])(Object(u["m"])(Object(l["a"])()).pipe(Object(u["n"])()),u["b"].create(function(e){var n=new EventSource("applications");return n.onmessage=function(n){return e.next(v({},n,{data:t._transformResponse(n.data)}))},n.onerror=function(t){return e.error(t)},function(){n.close()}}))}},{key:"_transformResponse",value:function(e){if(!e)return e;var n=JSON.parse(e);if(n instanceof Array){var a=n.map(t._toApplication);return f()(a,[function(t){return t.name}])}return t._toApplication(n)}},{key:"_toApplication",value:function(e){var n=e.instances.map(function(t){return Object.assign(new h["a"](t.id),t)});return Object.assign(new t(e.name),v({},e,{instances:f()(n,[function(t){return t.registration.healthUrl}])}))}}]),t}();e["a"]=b},aca8:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"application-status"},[n("font-awesome-icon",{staticClass:"application-status__icon",class:"application-status__icon--"+t.status,attrs:{icon:t.icon}}),t.date?n("small",[n("sba-time-ago",{attrs:{date:t.date}})],1):t._e()],1)},r=[],s=(n("d4d5"),n("6bf2")),i=n.n(s),c=n("6155"),o={UP:"check",RESTRICTED:"exclamation",OUT_OF_SERVICE:"ban",DOWN:"times-circle",OFFLINE:"minus-circle",UNKNOWN:"question-circle"},l={components:{sbaTimeAgo:c["default"]},props:{status:{type:String,default:"UNKNOWN"},date:{type:[String,Date,Number,i.a],default:null}},computed:{icon:function(){return o[this.status]}}},u=l,d=(n("0475"),n("6691")),p=Object(d["a"])(u,a,r,!1,null,null,null);e["default"]=p.exports},b38f:function(t,e,n){"use strict";var a=n("52fc"),r=n.n(a);r.a},b58b:function(t,e,n){"use strict";var a=n("ce48"),r=n.n(a);r.a},b7452:function(t,e,n){"use strict";var a=n("8673"),r=n.n(a);r.a},b92c:function(t,e,n){},bcf5:function(t,e,n){"use strict";n.r(e);var a=n("e1a6"),r=n("83be"),s=n("2014"),i=n("e0f0"),c=n("cf86"),o=n("9446"),l=n("ad6d"),u=n("ef97"),d=n("7ffb"),p=n("91f0"),f=n("5736"),h=n("4b82"),m=n("1893"),v=n("3da1"),g=n("4442"),b=n("6f0f"),y=n("d810"),_=n("8dbf"),C=n("1b50"),w=n("fdb6"),x=n("d985"),O=n("63cd"),j=n("1ead"),k=n("49fe"),P=n("7672"),S=n("2f02");a["c"].add(j["faTrash"],f["faDownload"],x["faStepForward"],w["faStepBackward"],p["faCheck"],_["faQuestionCircle"],o["faBan"],O["faTimesCircle"],b["faMinusCircle"],h["faExclamation"],d["faBook"],C["faSignOutAlt"],m["faExclamationTriangle"],y["faPencilAlt"],l["faBell"],u["faBellSlash"],k["faUserCircle"],v["faHeartbeat"],g["faHome"],P["faWrench"],c["faTimesCircle"],r["faGithub"],i["faStackOverflow"],s["faGitter"]),e["default"]=S["a"]},be22:function(t,e,n){"use strict";var a=n("4e0f"),r=n.n(a);r.a},c39c:function(t,e,n){"use strict";var a=n("5b5a"),r=n.n(a);r.a},c43b:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section",class:{isLoading:t.isLoading}},[n("div",{staticClass:"container"},[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Fetching beans failed.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),n("div",{staticClass:"field"},[n("p",{staticClass:"control is-expanded"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"input",attrs:{type:"search",placeholder:"filter"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}})])]),t._l(t.filteredContexts,function(e){return[n("h3",{key:e.name,staticClass:"title",domProps:{textContent:t._s(e.name)}}),n("beans-list",{key:e.name+"-beans",attrs:{beans:e.beans}})]})],2)])},r=[],s=(n("2338"),n("63ff"),n("e71e")),i=(n("3c6b"),n("7c56"),n("b745"),n("a506")),c=(n("f763"),n("fb37"),n("7364"),n("98d4")),o=n("df0d"),l=n("d50b"),u=(n("7bc1"),function(t,e){if(!t||t.length<e)return t;var n=t.split("."),a=n.pop();while(n.length>0){var r=n.pop();a=r.length+1+a.length<e?r+"."+a:r[0]+"."+a}return a}),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"beans table is-fullwidth is-hoverable"},[n("tbody",[t._l(t.beans,function(e){return[n("tr",{key:e.name,staticClass:"is-selectable",on:{click:function(n){t.showDetails[e.name]?t.$delete(t.showDetails,e.name):t.$set(t.showDetails,e.name,!0)}}},[n("td",{staticClass:"is-breakable"},[n("span",{attrs:{title:e.name},domProps:{textContent:t._s(e.shortName)}}),n("br"),n("small",{staticClass:"is-muted",attrs:{title:e.type},domProps:{textContent:t._s(e.shortType)}})]),n("td",[n("span",{staticClass:"tag",domProps:{textContent:t._s(e.scope)}})])]),t.showDetails[e.name]?n("tr",{key:e.name+"-detail"},[n("td",{staticClass:"has-background-white-ter",attrs:{colspan:"2"}},[n("table",{staticClass:"table is-narrow is-fullwidth beans__bean-detail"},[n("tbody",[e.name!==e.shortName?n("tr",[t._m(0,!0),n("td",{staticClass:"is-breakable",domProps:{textContent:t._s(e.name)}})]):t._e(),t._l(e.aliases,function(a,r){return n("tr",{key:a},[0===r?n("th",{attrs:{rowspan:e.aliases.length}},[n("small",[t._v("Aliases")])]):t._e(),n("td",{staticClass:"is-breakable",domProps:{textContent:t._s(a)}})])}),e.type!==e.shortType?n("tr",[t._m(1,!0),n("td",{staticClass:"is-breakable",domProps:{textContent:t._s(e.type)}})]):t._e(),e.resource?n("tr",[t._m(2,!0),n("td",{staticClass:"is-breakable",domProps:{textContent:t._s(e.resource)}})]):t._e(),t._l(e.dependencies,function(a,r){return n("tr",{key:a},[0===r?n("th",{attrs:{rowspan:e.dependencies.length}},[n("small",[t._v("Dependencies")])]):t._e(),n("td",{staticClass:"is-breakable",domProps:{textContent:t._s(a)}})])})],2)])])]):t._e()]})],2)])},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",[n("small",[t._v("Name")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",[n("small",[t._v("Type")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",[n("small",[t._v("Resource")])])}],f={props:{beans:{type:Array,default:function(){return[]}}},data:function(){return{showDetails:{}}}},h=f,m=(n("71a8"),n("6691")),v=Object(m["a"])(h,d,p,!1,null,null,null),g=v.exports,b=n("91f9"),y=n.n(b);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var w=function t(e,n){Object(c["a"])(this,t),Object.assign(this,n),this.name=e,this.shortName=u(this.name,80),this.shortType=u(this.type,80)},x=function(t){return Object.keys(t).map(function(e){return new w(e,t[e])})},O=function(t){return y()(t.contexts)?[]:Object.keys(t.contexts).map(function(e){return{beans:x(t.contexts[e].beans),name:e,parent:t.contexts[e].parentId}})},j={components:{BeansList:g},props:{instance:{type:o["a"],required:!0}},data:function(){return{isLoading:!1,error:null,contexts:[],filter:""}},computed:{filteredContexts:function(){var t=this.getFilterFn();return this.contexts.map(function(e){return C({},e,{beans:e.beans.filter(t).sort(Object(l["a"])(function(t){return t.name}))})})}},methods:{getFilterFn:function(){if(!this.filter||""===this.filter)return function(){return!0};var t=new RegExp(this.filter,"i");return function(e){return e.name.match(t)||e.aliases.some(function(e){return e.match(t)})}},fetchBeans:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.error=null,this.isLoading=!0,t.prev=2,t.next=5,this.instance.fetchBeans();case 5:e=t.sent,this.contexts=O(e.data),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](2),console.warn("Fetching beans failed:",t.t0),this.error=t.t0;case 13:this.isLoading=!1;case 14:case"end":return t.stop()}},t,this,[[2,9]])}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.fetchBeans()},install:function(t){var e=t.viewRegistry;e.addView({name:"instances/beans",parent:"instances",path:"beans",group:"Insights",component:this,label:"Beans",order:110,isEnabled:function(t){var e=t.instance;return e.hasEndpoint("beans")}})}},k=j,P=Object(m["a"])(k,a,r,!1,null,null,null);e["default"]=P.exports},c44d:function(t,e,n){},c4e0:function(t,e,n){},c5ec:function(t,e,n){"use strict";var a=n("3842"),r=n.n(a);r.a},cab3:function(t,e,n){},cc2a:function(t,e,n){},cc40:function(t,e,n){"use strict";var a=function(t,e){if(e.value){var n=e.value.map(function(t){return document.querySelector(t)}).filter(function(t){return Boolean(t)}).map(function(t){return t.getBoundingClientRect().height}).reduce(function(t,e){return t+e},0);t.style.top="".concat(n,"px"),t.style.position="sticky"}};e["a"]={bind:a,update:function(t,e){e.value!==e.oldValue&&a(t,e)}}},cda4:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section",class:{"is-loading":!t.hasLoaded}},[t.hasLoaded?[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Fetching Liquibase migrations failed.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),t._l(t.contexts,function(e,a){return[n("h3",{key:a,staticClass:"title",domProps:{textContent:t._s(a)}}),t._l(e.liquibaseBeans,function(e,r){return[n("sba-panel",{key:a+"-"+r,staticClass:"change-set",attrs:{title:"name","header-sticks-below":["#navigation"]}},[n("table",{staticClass:"table is-hoverable is-fullwidth"},[n("thead",[n("tr",[n("th",[t._v("Id")]),n("th",[t._v("Execution")]),n("th",[t._v("Description")]),n("th",[t._v("Tag")]),n("th",[t._v("Contexts")]),n("th",[t._v("Labels")])])]),n("tbody",[t._l(e.changeSets,function(e){return[n("tr",{key:a+"-"+r+"-"+e.id,staticClass:"is-selectable",on:{click:function(n){t.showDetails[e.checksum]?t.$delete(t.showDetails,e.checksum):t.$set(t.showDetails,e.checksum,!0)}}},[n("td",{domProps:{textContent:t._s(e.id)}}),n("td",[n("span",{staticClass:"tag",class:t.execClass(t.execType),domProps:{textContent:t._s(e.execType)}})]),n("td",{domProps:{textContent:t._s(e.description)}}),n("td",{domProps:{textContent:t._s(e.tag)}}),n("td",{domProps:{textContent:t._s(e.contexts.join(", "))}}),n("td",t._l(e.labels,function(s){return n("span",{key:a+"-"+r+"-"+e.id+"-"+s,staticClass:"tag is-info",domProps:{textContent:t._s(s)}})}),0)]),t.showDetails[e.checksum]?n("tr",{key:a+"-"+r+"-"+e.id+"-details"},[n("td",{attrs:{colspan:"6"}},[n("table",{staticClass:"table is-fullwidth"},[n("tr",[n("th",[t._v("Changelog")]),n("td",{attrs:{colspan:"3"},domProps:{textContent:t._s(e.changeLog)}}),n("th",[t._v("Author")]),n("td",{domProps:{textContent:t._s(e.author)}})]),n("tr",[n("th",[t._v("Checksum")]),n("td",{domProps:{textContent:t._s(e.checksum)}}),n("th",[t._v("Comments")]),n("td",{attrs:{colspan:"3"},domProps:{textContent:t._s(e.comments)}})]),n("tr",[n("th",[t._v("Execution Order")]),n("td",{domProps:{textContent:t._s(e.orderExecuted)}}),n("th",[t._v("ExecutionDate")]),n("td",{domProps:{textContent:t._s(e.dateExecuted)}}),n("th",[t._v("DeploymentId")]),n("td",{domProps:{textContent:t._s(e.deploymentId)}})])])])]):t._e()]})],2)])])]})]})]:t._e()],2)},r=[],s=(n("63ff"),n("e71e")),i=n("df0d"),c={props:{instance:{type:i["a"],required:!0}},data:function(){return{hasLoaded:!1,error:null,contexts:null,showDetails:{}}},computed:{},created:function(){this.fetchLiquibase()},methods:{fetchLiquibase:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.error=null,t.prev=1,t.next=4,this.instance.fetchLiquibase();case 4:e=t.sent,this.contexts=e.data.contexts,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),console.warn("Fetching Liquibase changeSets failed:",t.t0),this.error=t.t0;case 12:this.hasLoaded=!0;case 13:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}(),execClass:function(t){switch(t){case"EXECUTED":return"is-success";case"FAILED":return"is-danger";case"SKIPPED":return"is-light";case"RERAN":case"MARK_RAN":return"is-warning";default:return"is-info"}}},install:function(t){var e=t.viewRegistry;e.addView({name:"instances/liquibase",parent:"instances",path:"liquibase",component:this,label:"Liquibase",group:"Data",order:900,isEnabled:function(t){var e=t.instance;return e.hasEndpoint("liquibase")}})}},o=c,l=n("6691"),u=Object(l["a"])(o,a,r,!1,null,null,null);e["default"]=u.exports},ce48:function(t,e,n){},d50b:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var a=function(t){return function(e,n){var a=t(e),r=t(n);return a>r?1:a<r?-1:0}}},d76e:function(t,e,n){"use strict";n("63ff");var a=n("e71e");e["a"]={created:function(){this.subscribe()},beforeDestroy:function(){this.unsubscribe()},methods:{subscribe:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.subscription){t.next=4;break}return t.next=3,this.createSubscription();case 3:this.subscription=t.sent;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),unsubscribe:function(){if(this.subscription)try{!this.subscription.closed&&this.subscription.unsubscribe()}finally{this.subscription=null}}}}},dbf5:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"formatted",domProps:{innerHTML:t._s(t.formatted)}})},r=[],s=n("297c"),i=n("c887"),c=(n("f763"),n("21de"),n("91f9")),o=n.n(c),l=n("dbbd"),u=n.n(l),d=function(t){return(Array.isArray(t)||u()(t))&&!o()(t)},p=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Array.isArray(e)?o()(e)?n+"[]":e.map(function(e){return d(e)?"".concat(n,"-\n").concat(t(e,n+"  ")):"".concat(n,"- ").concat(t(e,""))}).join("\n"):u()(e)?o()(e)?n+"{}":Object.entries(e).map(function(e){var a=Object(i["a"])(e,2),r=a[0],s=a[1];return d(s)?"".concat(n).concat(r,":\n").concat(t(s,n+"  ")):"".concat(n).concat(r,": ").concat(t(s,""))}).join("\n"):null===e?n+"null":"undefined"===typeof e||""===e?"":n+e},f=p,h=new s["a"]({truncate:{length:50,location:"smart"}}),m={props:{value:{type:null,required:!0}},computed:{formatted:function(){return h(f(this.value))}}},v=m,g=(n("5e79"),n("6691")),b=Object(g["a"])(v,a,r,!1,null,null,null);e["default"]=b.exports},dc6e:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section"},[n("div",{staticClass:"container"},[t.error?n("div",{staticClass:"message is-warning"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-warning",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Server connection failed.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),n("div",{staticClass:"level applications-stats"},[n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("应用")]),n("p",{staticClass:"title",domProps:{textContent:t._s(t.applicationsCount)}},[t._v("1")])])]),n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[t._v("实例")]),n("p",{staticClass:"title",domProps:{textContent:t._s(t.instancesCount)}},[t._v("1")])])]),n("div",{staticClass:"level-item has-text-centered"},[0===t.downCount?n("div",[n("p",{staticClass:"heading"},[t._v("状态")]),n("p",{staticClass:"title has-text-success"},[t._v("all up")])]):n("div",[n("p",{staticClass:"heading"},[t._v("下线")]),n("p",{staticClass:"title has-text-danger",domProps:{textContent:t._s(t.downCount)}})])])]),t._l(t.statusGroups,function(e){return n("div",{key:e.status,staticClass:"application-group"},[n("p",{staticClass:"heading",domProps:{textContent:t._s(e.status)}}),n("applications-list",{attrs:{applications:e.applications,selected:t.selected}})],1)}),0===t.statusGroups.length?n("div",[n("p",{staticClass:"is-muted"},[t._v("No applications registered.")])]):t._e()],2)])},r=[],s=(n("7364"),n("8937")),i=n.n(s),c=n("e617"),o=n.n(c),l=n("d005"),u=n.n(l),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"applications-list"},[t._l(t.applications,function(e){return n("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:function(n){return t.deselect(n,e.name)},expression:"(event) => deselect(event, application.name)"}],key:e.name,staticClass:"application-list__item card",class:{"is-active":t.selected===e.name},attrs:{id:e.name}},[n("header",{staticClass:"hero application-list__item__header",class:t.getHeaderClass(e),on:{click:function(n){return n.stopPropagation(),t.select(e.name)}}},[t.selected!==e.name?[n("sba-status",{staticClass:"application-list__item__header__status",attrs:{status:e.status,date:e.statusTimestamp}}),n("p",{staticClass:"application-list__item__header__name"},[n("span",{domProps:{textContent:t._s(e.name)}}),n("br"),n("span",{staticClass:"is-muted"},[1===e.instances.length?n("a",{attrs:{href:e.instances[0].registration.serviceUrl||e.instances[0].registration.healthUrl},domProps:{textContent:t._s(e.instances[0].registration.serviceUrl||e.instances[0].registration.healthUrl)}}):n("span",{domProps:{textContent:t._s(e.instances.length+" instances")}})])]),n("p",{staticClass:"application-list__item__header__version",domProps:{textContent:t._s(e.buildVersion)}})]:[n("h1",{staticClass:"title is-size-5 application-list__item__header__name",domProps:{textContent:t._s(e.name)}})],n("div",{staticClass:"application-list__item__header__actions"},[t.hasNotificationFiltersSupport?n("sba-icon-button",{attrs:{id:"nf-settings-"+e.name,icon:t.hasActiveFilter(e)?"bell-slash":"bell"},on:{click:function(n){return n.stopPropagation(),t.toggleNotificationFilterSettingsFor(e)}}}):t._e(),t._v(" \n        "),e.isUnregisterable?n("sba-icon-button",{attrs:{icon:"trash"},on:{click:function(n){return n.stopPropagation(),t.unregister(e)}}}):t._e()],1)],2),t.selected===e.name?n("div",{staticClass:"card-content"},[n("table",{staticClass:"table is-hoverable is-selectable is-fullwidth application__instances"},[n("tbody",t._l(e.instances,function(e){return n("tr",{key:e.id,on:{click:function(n){return n.stopPropagation(),t.showDetails(e)}}},[n("td",{staticClass:"instance__status"},[n("sba-status",{attrs:{status:e.statusInfo.status,date:e.statusTimestamp}})],1),n("td",{staticClass:"is-narrow"},[n("a",{attrs:{href:e.registration.serviceUrl||e.registration.healthUrl},domProps:{textContent:t._s(e.registration.serviceUrl||e.registration.healthUrl)},on:{click:function(t){t.stopPropagation()}}}),n("br"),n("span",{staticClass:"is-muted",domProps:{textContent:t._s(e.id)}})]),n("td",[n("sba-tags",{attrs:{tags:e.tags}})],1),n("td",[n("span",{domProps:{textContent:t._s(e.buildVersion)}})]),n("td",{staticClass:"instance__actions"},[t.hasNotificationFiltersSupport?n("sba-icon-button",{attrs:{id:"nf-settings-"+e.id,icon:t.hasActiveFilter(e)?"bell-slash":"bell"},on:{click:function(n){return n.stopPropagation(),t.toggleNotificationFilterSettingsFor(e)}}}):t._e(),e.isUnregisterable?n("sba-icon-button",{attrs:{icon:"trash"},on:{click:function(n){return n.stopPropagation(),t.unregister(e)}}}):t._e()],1)])}),0)])]):t._e()])}),t.showNotificationFilterSettingsObject?n("notification-filter-settings",{directives:[{name:"popper",rawName:"v-popper",value:"nf-settings-"+(t.showNotificationFilterSettingsObject.id||t.showNotificationFilterSettingsObject.name),expression:"`nf-settings-${showNotificationFilterSettingsObject.id || showNotificationFilterSettingsObject.name}`"}],attrs:{"notification-filters":t.notificationFilters,object:t.showNotificationFilterSettingsObject},on:{"filter-added":t.handleFilterChange,"filter-deleted":t.handleFilterChange}}):t._e()],2)},p=[],f=(n("cde0"),n("63ff"),n("e71e")),h=(n("34a3"),n("f763"),n("3b54"),n("2db6"),n("5c8e")),m=new WeakMap,v=function(t,e){var n="string"===typeof e.value?document.getElementById(e.value):e.value;if(n){var a=new h["a"](n,t);m.set(t,a)}},g=function(t){var e=m.get(t);e&&e.destroy(t)},b={bind:v,update:function(t,e){e.value!==e.oldValue&&v(t,e)},unbind:g},y=n("d76e"),_=(n("f301"),n("df99"),n("7f22")),C=n("cbb3"),w=n("98d4"),x=n("ab1f"),O=n("a2c4"),j=n("2d8a"),k=n("6bf2"),P=n.n(k);function S(){var t=Object(_["a"])(["notifications/filters/",""]);return S=function(){return t},t}var E=function(){function t(e){var n=e.expiry,a=Object(C["a"])(e,["expiry"]);Object(w["a"])(this,t),Object.assign(this,a),this.expiry=n?P()(n):null}return Object(x["a"])(t,[{key:"affects",value:function(t){return!!t&&(this.isApplicationFilter?this.applicationName===t.name:!!this.isInstanceFilter&&this.instanceId===t.id)}},{key:"delete",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",O["a"].delete(Object(j["a"])(S(),this.id)));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"isApplicationFilter",get:function(){return this.hasOwnProperty("applicationName")}},{key:"isInstanceFilter",get:function(){return this.hasOwnProperty("instanceId")}}],[{key:"isSupported",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O["a"].options("notifications/filters");case 3:return e=t.sent,t.abrupt("return",e.headers["allow"]&&e.headers["allow"].includes("POST"));case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",!1);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}()},{key:"getFilters",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",O["a"].get("notifications/filters",{transformResponse:t._transformResponse}));case 1:case"end":return e.stop()}},e)}));function n(){return e.apply(this,arguments)}return n}()},{key:"addFilter",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(n,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r={ttl:a},n.hasOwnProperty("name")?r.applicationName=n.name:n.hasOwnProperty("id")&&(r.instanceId=n.id),e.abrupt("return",O["a"].post("notifications/filters",null,{params:r,transformResponse:t._transformResponse}));case 3:case"end":return e.stop()}},e)}));function n(t,n){return e.apply(this,arguments)}return n}()},{key:"_transformResponse",value:function(e){if(!e)return e;var n=JSON.parse(e);return n instanceof Array?n.map(t._toNotificationFilters).filter(function(t){return!t.expired}):t._toNotificationFilters(n)}},{key:"_toNotificationFilters",value:function(e){return new t(e)}}]),t}(),L=E,R=n("8be7"),A=n("e338"),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[t.activeFilter?[n("div",{staticClass:"field"},[n("p",{staticClass:"control has-inline-text"},[t._v("\n        Notifications on "),n("code",{domProps:{textContent:t._s(t.object.id||t.object.name)}}),t._v(" are suppressed for\n        "),n("strong",{domProps:{textContent:t._s(t.activeFilter.expiry?t.activeFilter.expiry.locale("en").fromNow(!0):"ever")}}),t._v(".\n      ")])]),n("div",{staticClass:"field is-grouped is-grouped-right"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button",class:{"is-loading":"executing"===t.actionState},on:{click:function(e){return e.stopPropagation(),t.deleteActiveFilter(e)}}},[n("font-awesome-icon",{attrs:{icon:"bell"}}),t._v(" Unsuppress\n        ")],1)])])]:[n("div",{staticClass:"field"},[n("p",{staticClass:"control has-inline-text"},[t._v("\n        Suppress notifications on "),n("code",{domProps:{textContent:t._s(t.object.id||t.object.name)}}),t._v(" for\n        "),n("span",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.ttl,expression:"ttl"}],on:{click:function(t){t.stopPropagation()},change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.ttl=e.target.multiple?n:n[0]}}},t._l(t.ttlOptions,function(e){return n("option",{key:"ttl-instance-"+e.value,domProps:{value:e.value,textContent:t._s(e.label)}})}),0)])])]),n("div",{staticClass:"field is-grouped is-grouped-right"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button is-warning",class:{"is-loading":"executing"===t.actionState},on:{click:function(e){return e.stopPropagation(),t.addFilter(e)}}},[n("font-awesome-icon",{attrs:{icon:"bell-slash"}}),t._v(" Suppress\n        ")],1)])])]],2)},D=[],M=(n("608b"),{props:{object:{type:Object,required:!0},notificationFilters:{type:Array,required:!0}},data:function(){return{ttl:3e5,ttlOptions:[{label:"5 minutes",value:3e5},{label:"15 minutes",value:9e5},{label:"30 minutes",value:18e5},{label:"1 hour",value:36e5},{label:"3 hours",value:108e5},{label:"8 hours",value:288e5},{label:"24 hours",value:864e5},{label:"ever",value:-1}],actionState:null}},computed:{activeFilter:function(){var t=this;return this.notificationFilters.find(function(e){return e.affects(t.object)})}},methods:{addFilter:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.actionState="executing",t.prev=1,t.next=4,L.addFilter(this.object,this.ttl);case 4:e=t.sent,this.actionState="completed",this.$emit("filter-added",e.data),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.warn("Adding notification filter failed:",t.t0);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(){return t.apply(this,arguments)}return e}(),deleteActiveFilter:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.actionState="executing",t.prev=1,t.next=4,this.activeFilter.delete();case 4:this.actionState="completed",this.$emit("filter-deleted",this.activeFilter.id),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),this.actionState="failed",console.warn("Deleting notification filter failed:",t.t0);case 12:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}()}}),F=M,N=(n("76dc"),n("6691")),$=Object(N["a"])(F,T,D,!1,null,null,null),I=$.exports,B={props:{applications:{type:Array,default:function(){return[]}},selected:{type:String,default:null}},directives:{onClickaway:A["directive"],Popper:b},mixins:[y["a"]],components:{NotificationFilterSettings:I},data:function(){return{errors:[],hasNotificationFiltersSupport:!1,notificationFilters:[],showNotificationFilterSettingsObject:null}},computed:{},methods:{select:function(t){this.$router.replace({name:"applications",params:{selected:t}})},deselect:function(t,e){this.toggleNotificationFilterSettingsFor(null),t&&t.target instanceof HTMLAnchorElement||this.selected!==e&&e||this.$router.replace({name:"applications"})},showDetails:function(t){this.$router.push({name:"instances/details",params:{instanceId:t.id}})},scrollIntoView:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(e,n){var a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return t.next=3,this.$nextTick();case 3:a=document.getElementById(e),a&&(r=a.getBoundingClientRect().top+window.scrollY-100,window.scroll({top:r,left:window.scrollX,behavior:n||"smooth"}));case 5:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}(),getHeaderClass:function(t){return this.selected!==t.name?"is-selectable":"UP"===t.status?"is-primary":"RESTRICTED"===t.status?"is-warning":"DOWN"===t.status?"is-danger":"OUT_OF_SERVICE"===t.status?"is-danger":(t.status,"is-light")},unregister:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:try{e.unregister()}catch(n){this.errors.push(n)}case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),createSubscription:function(){var t=this;return t.notificationFilterSubject=new R["c"],Object(R["u"])(0,6e4).pipe(Object(R["q"])(t.notificationFilterSubject),Object(R["g"])(this.fetchNotificationFilters)).subscribe({next:function(e){t.notificationFilters=e},error:function(e){console.warn("Fetching notification filters failed:",e),t.errors.push(e)}})},fetchNotificationFilters:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.hasNotificationFiltersSupport){t.next=5;break}return t.next=3,L.getFilters();case 3:return e=t.sent,t.abrupt("return",e.data);case 5:return t.abrupt("return",[]);case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleFilterChange:function(t){this.toggleNotificationFilterSettingsFor(null),this.notificationFilterSubject.next(t)},toggleNotificationFilterSettingsFor:function(t){this.showNotificationFilterSettingsObject=t||null},hasActiveFilter:function(t){return this.notificationFilters.findIndex(function(e){return e.affects(t)})>=0}},mounted:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.scrollIntoView(this.selected,"instant"),t.next=3,L.isSupported();case 3:this.hasNotificationFiltersSupport=t.sent,this.fetchNotificationFilters();case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),watch:{selected:function(t){this.scrollIntoView(t)}}},q=B,U=(n("8600"),Object(N["a"])(q,d,p,!1,null,null,null)),H=U.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t.error?n("span",{staticClass:"has-text-warning"},[n("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}})],1):t._e(),n("span",{class:{"badge is-badge-danger":t.downCount>0},attrs:{"data-badge":t.downCount}},[t._v("\n    应用\n  ")])])},z=[],G={props:{applications:{type:Array,default:function(){return[]}},error:{type:Error,default:null}},computed:{downCount:function(){return this.applications.reduce(function(t,e){return t+e.instances.filter(function(t){return"UP"!==t.statusInfo.status}).length},0)}},watch:{downCount:function(t,e){0===t!==(0===e)&&this.updateFavicon(0===t)}},methods:{updateFavicon:function(t){document.querySelector('link[rel*="icon"]').href=t?"assets/img/favicon.png":"assets/img/favicon-danger.png"}}},W=G,J=Object(N["a"])(W,V,z,!1,null,null,null),X=J.exports,K={props:{applications:{type:Array,default:function(){return[]}},error:{type:Error,default:null},selected:{type:String,default:null}},components:{applicationsList:H},computed:{statusGroups:function(){var t=i()(this.applications,function(t){return t.status}),e=u()(t,function(t,e,n){t.push({status:n,applications:o()(e,[function(t){return t.name}])})},[]);return o()(e,[function(t){return t.status}])},applicationsCount:function(){return this.applications.length},instancesCount:function(){return this.applications.reduce(function(t,e){return t+e.instances.length},0)},downCount:function(){return this.applications.reduce(function(t,e){return t+e.instances.filter(function(t){return"UP"!==t.statusInfo.status}).length},0)}},install:function(t){var e=t.viewRegistry;e.addView({path:"/applications/:selected?",props:!0,name:"applications",label:"应用",handle:X,order:0,component:this}),e.addRedirect("/","applications")}},Y=K,Z=(n("2014e"),Object(N["a"])(Y,a,r,!1,null,null,null));e["default"]=Z.exports},dc74:function(t,e,n){"use strict";var a=n("64bc"),r=n.n(a);r.a},df0d:function(t,e,n){"use strict";n("2338"),n("fb37");var a=n("a506"),r=(n("f301"),n("df99"),n("c887")),s=(n("f763"),n("21de"),n("63ff"),n("e71e")),i=(n("cde0"),n("7f22")),c=n("98d4"),o=n("ab1f"),l=(n("3c6b"),n("a2c4")),u=n("55fe"),d=(n("7bc1"),n("8be7")),p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:307200,a="bytes=-".concat(n),r=0;return Object(d["u"])(0,e).pipe(Object(d["g"])(function(){return t({headers:{range:a,Accept:"text/plain, */*"}})}),Object(d["g"])(function(t){var e=0===r,n=t.data.length;if(200===t.status){if(!e)throw"Expected 206 - Partial Content on subsequent requests.";r=n}else{if(206!==t.status)throw"Unexpected response status: "+t.status;r=parseInt(t.headers["content-range"].split("/")[1])}a="bytes=".concat(r-1,"-");var s=null,i=0;return e?n>=r?s=t.data:(s=t.data.substring(t.data.indexOf("\n")+1),i=r-s.length):t.data.length>1&&(s=t.data.substring(1)),s?Object(d["r"])({totalBytes:r,skipped:i,addendum:s}):d["a"]}))},f=n("2d8a"),h=n("d005"),m=n.n(h);function v(){var t=Object(i["a"])(["instances/",""]);return v=function(){return t},t}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(n,!0).forEach(function(e){Object(a["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function y(){var t=Object(i["a"])(["actuator/mappings"]);return y=function(){return t},t}function _(){var t=Object(i["a"])(["actuator/jolokia"]);return _=function(){return t},t}function C(){var t=Object(i["a"])(["actuator/jolokia"]);return C=function(){return t},t}function w(){var t=Object(i["a"])(["actuator/jolokia"]);return w=function(){return t},t}function x(){var t=Object(i["a"])(["actuator/jolokia/list"]);return x=function(){return t},t}function O(){var t=Object(i["a"])(["actuator/logfile"]);return O=function(){return t},t}function j(){var t=Object(i["a"])(["actuator/sessions/",""]);return j=function(){return t},t}function k(){var t=Object(i["a"])(["actuator/sessions/",""]);return k=function(){return t},t}function P(){var t=Object(i["a"])(["actuator/sessions"]);return P=function(){return t},t}function S(){var t=Object(i["a"])(["actuator/auditevents"]);return S=function(){return t},t}function E(){var t=Object(i["a"])(["actuator/threaddump"]);return E=function(){return t},t}function L(){var t=Object(i["a"])(["actuator/beans"]);return L=function(){return t},t}function R(){var t=Object(i["a"])(["actuator/httptrace"]);return R=function(){return t},t}function A(){var t=Object(i["a"])(["actuator/loggers/",""]);return A=function(){return t},t}function T(){var t=Object(i["a"])(["actuator/loggers"]);return T=function(){return t},t}function D(){var t=Object(i["a"])(["actuator/flyway"]);return D=function(){return t},t}function M(){var t=Object(i["a"])(["actuator/caches/",""]);return M=function(){return t},t}function F(){var t=Object(i["a"])(["actuator/caches"]);return F=function(){return t},t}function N(){var t=Object(i["a"])(["actuator/caches"]);return N=function(){return t},t}function $(){var t=Object(i["a"])(["actuator/scheduledtasks"]);return $=function(){return t},t}function I(){var t=Object(i["a"])(["actuator/liquibase"]);return I=function(){return t},t}function B(){var t=Object(i["a"])(["actuator/refresh"]);return B=function(){return t},t}function q(){var t=Object(i["a"])(["actuator/env"]);return q=function(){return t},t}function U(){var t=Object(i["a"])(["actuator/env"]);return U=function(){return t},t}function H(){var t=Object(i["a"])(["actuator/env"]);return H=function(){return t},t}function V(){var t=Object(i["a"])(["actuator/configprops"]);return V=function(){return t},t}function z(){var t=Object(i["a"])(["actuator/env/",""]);return z=function(){return t},t}function G(){var t=Object(i["a"])(["actuator/health"]);return G=function(){return t},t}function W(){var t=Object(i["a"])(["actuator/metrics/",""]);return W=function(){return t},t}function J(){var t=Object(i["a"])(["actuator/metrics"]);return J=function(){return t},t}function X(){var t=Object(i["a"])(["actuator/info"]);return X=function(){return t},t}function K(){var t=Object(i["a"])(["instances/","/"]);return K=function(){return t},t}var Y=["application/vnd.spring-boot.actuator.v2+json","application/vnd.spring-boot.actuator.v1+json","application/json"],Z=function(t){return t.match(/^instances[\/][^\/]+[\/]actuator([\/].*)?$/)},Q=function(){function t(e){Object(c["a"])(this,t),this.id=e,this.axios=l["a"].create({baseURL:Object(f["a"])(K(),this.id)}),this.axios.interceptors.response.use(function(t){return t},Object(l["b"])(function(t){return!Z(t.config.url)}))}return Object(o["a"])(t,[{key:"hasEndpoint",value:function(t){return this.endpoints.findIndex(function(e){return e.id===t})>=0}},{key:"unregister",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.delete(""));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"fetchInfo",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.get(Object(f["a"])(X()),{headers:{Accept:Y}}));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"fetchMetrics",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.get(Object(f["a"])(J()),{headers:{Accept:Y}}));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"fetchMetric",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=n?{tag:Object.entries(n).filter(function(t){var e=Object(r["a"])(t,2),n=e[1];return"undefined"!==typeof n&&null!==n}).map(function(t){var e=Object(r["a"])(t,2),n=e[0],a=e[1];return"".concat(n,":").concat(a)}).join(",")}:{},t.abrupt("return",this.axios.get(Object(f["a"])(W(),e),{headers:{Accept:Y},params:a}));case 2:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"fetchHealth",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.get(Object(f["a"])(G()),{headers:{Accept:Y}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"fetchEnv",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.get(Object(f["a"])(z(),e||""),{headers:{Accept:Y}}));case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"fetchConfigprops",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.get(Object(f["a"])(V()),{headers:{Accept:Y}}));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"hasEnvManagerSupport",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.options(Object(f["a"])(H()));case 2:return e=t.sent,t.abrupt("return",e.headers["allow"]&&e.headers["allow"].includes("POST"));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"resetEnv",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.delete(Object(f["a"])(U())));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"setEnv",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.post(Object(f["a"])(q()),{name:e,value:n},{headers:{"Content-Type":"application/json"}}));case 1:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"refreshContext",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.post(Object(f["a"])(B())));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"fetchLiquibase",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.get(Object(f["a"])(I()),{headers:{Accept:Y}}));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"fetchScheduledTasks",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.get(Object(f["a"])($()),{headers:{Accept:Y}}));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"fetchCaches",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.get(Object(f["a"])(N()),{headers:{Accept:Y}}));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"clearCaches",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.delete(Object(f["a"])(F()),{headers:{Accept:Y}}));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"clearCache",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.delete(Object(f["a"])(M(),e),{params:{cacheManager:n},headers:{Accept:Y}}));case 1:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"fetchFlyway",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.get(Object(f["a"])(D()),{headers:{Accept:Y}}));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"fetchLoggers",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.axios.get(Object(f["a"])(T()),{headers:{Accept:Y},transformResponse:t._toLoggers}));case 1:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"configureLogger",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.post(Object(f["a"])(A(),e),{configuredLevel:n},{headers:{"Content-Type":"application/json"}}));case 1:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"fetchHttptrace",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.get(Object(f["a"])(R()),{headers:{Accept:Y}}));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"fetchBeans",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.get(Object(f["a"])(L()),{headers:{Accept:Y}}));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"fetchThreaddump",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.get(Object(f["a"])(E()),{headers:{Accept:Y}}));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"fetchAuditevents",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.after,a=e.type,r=e.principal,t.abrupt("return",this.axios.get(Object(f["a"])(S()),{headers:{Accept:Y},params:{after:n.toISOString(),type:a||void 0,principal:r||void 0}}));case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"fetchSessionsByUsername",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.get(Object(f["a"])(P()),{headers:{Accept:Y},params:{username:e||void 0}}));case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"fetchSession",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.get(Object(f["a"])(k(),e),{headers:{Accept:Y}}));case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"deleteSession",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.delete(Object(f["a"])(j(),e),{headers:{Accept:Y}}));case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"streamLogfile",value:function(t){var e=this;return p(function(t){return e.axios.get(Object(f["a"])(O()),t)},t)}},{key:"listMBeans",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.axios.get(Object(f["a"])(x()),{headers:{Accept:"application/json"},params:{canonicalNaming:!1},transformResponse:t._toMBeans}));case 1:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"readMBeanAttributes",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a={type:"read",mbean:"".concat(e,":").concat(n),config:{ignoreErrors:!0}},t.abrupt("return",this.axios.post(Object(f["a"])(w()),a,{headers:{Accept:"application/json","Content-Type":"application/json"}}));case 2:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"writeMBeanAttribute",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n,a,r){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s={type:"write",mbean:"".concat(e,":").concat(n),attribute:a,value:r},t.abrupt("return",this.axios.post(Object(f["a"])(C()),s,{headers:{Accept:"application/json","Content-Type":"application/json"}}));case 2:case"end":return t.stop()}},t,this)}));function e(e,n,a,r){return t.apply(this,arguments)}return e}()},{key:"invokeMBeanOperation",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,n,a,r){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s={type:"exec",mbean:"".concat(e,":").concat(n),operation:a,arguments:r},t.abrupt("return",this.axios.post(Object(f["a"])(_()),s,{headers:{Accept:"application/json","Content-Type":"application/json"}}));case 2:case"end":return t.stop()}},t,this)}));function e(e,n,a,r){return t.apply(this,arguments)}return e}()},{key:"fetchMappings",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.axios.get(Object(f["a"])(y()),{headers:{Accept:Y}}));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"isUnregisterable",get:function(){return"http-api"===this.registration.source}}],[{key:"fetchEvents",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",l["a"].get("instances/events"));case 1:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getEventStream",value:function(){return Object(d["e"])(Object(d["m"])(Object(u["a"])()).pipe(Object(d["n"])()),d["b"].create(function(t){var e=new EventSource("instances/events");return e.onmessage=function(e){return t.next(b({},e,{data:JSON.parse(e.data)}))},e.onerror=function(e){return t.error(e)},function(){e.close()}}))}},{key:"get",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",l["a"].get(Object(f["a"])(v(),n),{transformResponse:t._toInstance}));case 1:case"end":return e.stop()}},e)}));function n(t){return e.apply(this,arguments)}return n}()},{key:"_toInstance",value:function(e){if(!e)return e;var n=JSON.parse(e);return Object.assign(new t(n.id),n)}},{key:"_toLoggers",value:function(t){if(!t)return t;var e=JSON.parse(t),n=m()(e.loggers,function(t,e,n){return t.push(b({name:n},e))},[]);return{levels:e.levels,loggers:n}}},{key:"_toMBeans",value:function(t){if(!t)return t;var e=JSON.parse(t);return Object.entries(e.value).map(function(t){var e=Object(r["a"])(t,2),n=e[0],a=e[1];return{domain:n,mBeans:Object.entries(a).map(function(t){var e=Object(r["a"])(t,2),n=e[0],a=e[1];return b({descriptor:n},a)})}})}}]),t}();e["a"]=Q},e096:function(t,e,n){},e325:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section",class:{"is-loading":!t.hasLoaded}},[t.hasLoaded?[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Fetching mappings failed.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),t.isOldMetrics?n("div",{staticClass:"message is-warning"},[n("div",{staticClass:"message-body"},[t._v("\n        Mappings are not supported for Spring Boot 1.x applications.\n      ")])]):t._e(),t._l(t.contexts,function(e,a){return[n("h3",{key:a,staticClass:"title",domProps:{textContent:t._s(a)}}),t.isEmpty(e.mappings.dispatcherServlets)?t._e():n("DispatcherMappings",{key:a+"_dispatcherServlets",attrs:{dispatchers:e.mappings.dispatcherServlets}}),t.isEmpty(e.mappings.dispatcherHandlers)?t._e():n("DispatcherMappings",{key:a+"_dispatcherHandlers",attrs:{dispatchers:e.mappings.dispatcherHandlers}}),n("ServletMappings",{key:a+"_servlets",attrs:{servlets:e.mappings.servlets}}),n("ServletFilterMappings",{key:a+"_servletFilters",attrs:{"servlet-filters":e.mappings.servletFilters}})]})]:t._e()],2)},r=[],s=(n("f301"),n("df99"),n("63ff"),n("e71e")),i=n("df0d"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table-container"},[n("table",{staticClass:"table is-fullwidth"},[t._l(this.dispatchers,function(e,a){return[n("thead",{key:""+a},[n("tr",[n("th",{attrs:{colspan:"99"},domProps:{textContent:t._s(a)}})])]),n("tbody",{key:a+"_mappings"},[t._l(e,function(e,r){return[e.details?[n("tr",{key:a+"_"+r+"_pattern"},[n("td",{attrs:{rowspan:2+t.countNonEmptyArrays(e.details.requestMappingConditions,"methods","consumes","produces","params","headers")}},t._l(e.details.requestMappingConditions.patterns,function(e){return n("div",{key:a+"_"+r+"_"+e},[n("code",{domProps:{textContent:t._s(e)}})])}),0)]),e.details.requestMappingConditions.methods.length?n("tr",{key:a+"_"+r+"_methods"},[t._m(0,!0),n("td",{staticClass:"monospaced is-breakable",domProps:{textContent:t._s(e.details.requestMappingConditions.methods.join(", "))}})]):t._e(),e.details.requestMappingConditions.consumes.length?n("tr",{key:a+"_"+r+"_consumes"},[t._m(1,!0),n("td",{staticClass:"monospaced is-breakable",domProps:{textContent:t._s(t.mediaTypePredicates(e.details.requestMappingConditions.consumes))}})]):t._e(),e.details.requestMappingConditions.produces.length?n("tr",{key:a+"_"+r+"_produces"},[t._m(2,!0),n("td",{staticClass:"monospaced is-breakable",domProps:{textContent:t._s(t.mediaTypePredicates(e.details.requestMappingConditions.produces))}})]):t._e(),e.details.requestMappingConditions.params.length?n("tr",{key:a+"_"+r+"_params"},[t._m(3,!0),n("td",{staticClass:"monospaced is-breakable",domProps:{textContent:t._s(t.paramPredicates(e.details.requestMappingConditions.params))}})]):t._e(),e.details.requestMappingConditions.headers.length?n("tr",{key:a+"_"+r+"_headers"},[t._m(4,!0),n("td",{staticClass:"monospaced is-breakable",domProps:{textContent:t._s(t.paramPredicates(e.details.requestMappingConditions.headers))}})]):t._e(),n("tr",{key:a+"_"+r+"_handler"},[t._m(5,!0),n("td",{staticClass:"is-breakable",domProps:{textContent:t._s(e.handler)}})])]:n("tr",{key:a+"_"+r},[n("td",[n("code",{domProps:{textContent:t._s(e.predicate)}})]),t._m(6,!0),n("td",{attrs:{colspan:"4"},domProps:{textContent:t._s(e.handler)}})])]})],2)]})],2)])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",{staticClass:"is-narrow"},[n("small",[t._v("Methods")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",{staticClass:"is-narrow"},[n("small",[t._v("Consumes")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",{staticClass:"is-narrow"},[n("small",[t._v("Produces")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",{staticClass:"is-narrow"},[n("small",[t._v("Parameters")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",{staticClass:"is-narrow"},[n("small",[t._v("Headers")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",{staticClass:"is-narrow"},[n("small",[t._v("Handler")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",{staticClass:"is-narrow is-breakable"},[n("small",[t._v("Handler")])])}],l=(n("7364"),{props:{dispatchers:{type:Object,default:function(){return[]}}},methods:{countNonEmptyArrays:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];return n.map(function(e){return t[e]}).filter(function(t){return t&&t.length}).length},mediaTypePredicates:function(t){return t.map(function(t){return"".concat(t.negate?"!":"").concat(t.mediaType)}).join(", ")},paramPredicates:function(t){return t.map(function(t){return"".concat(t.name,": ").concat(t.negate?"!":"").concat(t.value)}).join(", ")}}}),u=l,d=n("6691"),p=Object(d["a"])(u,c,o,!1,null,null,null),f=p.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table-container"},[t.servletFilters.length?n("table",{staticClass:"table is-fullwidth"},[t._m(0),n("tbody",[t._l(t.servletFilters,function(e){return[n("tr",{key:""+e.name},[n("td",t._l(e.urlPatternMappings,function(a){return n("div",{key:e.name+"_"+a},[n("code",{domProps:{textContent:t._s(a)}})])}),0),n("td",t._l(e.servletNameMappings,function(a){return n("div",{key:e.name+"_"+a,staticClass:"is-breakable",domProps:{textContent:t._s(a)}})}),0),n("td",{staticClass:"is-breakable",domProps:{textContent:t._s(e.name)}}),n("td",{staticClass:"is-breakable",domProps:{textContent:t._s(e.className)}})])]})],2)]):t._e()])},m=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Url Pattern")]),n("th",[t._v("Servlet Name")]),n("th",[t._v("Filter Name")]),n("th",[t._v("Class")])])])}],v={props:{servletFilters:{type:Array,default:function(){return[]}}}},g=v,b=Object(d["a"])(g,h,m,!1,null,null,null),y=b.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table-container"},[t.servlets.length?n("table",{staticClass:"table is-fullwidth"},[t._m(0),n("tbody",[t._l(t.servlets,function(e){return[n("tr",{key:""+e.name},[n("td",t._l(e.mappings,function(a){return n("div",{key:e.name+"_"+a},[n("code",{domProps:{textContent:t._s(a)}})])}),0),n("td",{staticClass:"is-breakable",domProps:{textContent:t._s(e.name)}}),n("td",{staticClass:"is-breakable",domProps:{textContent:t._s(e.className)}})])]})],2)]):t._e()])},C=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Url Pattern")]),n("th",[t._v("Servlet Name")]),n("th",[t._v("Class")])])])}],w={props:{servlets:{type:Array,default:function(){return[]}}}},x=w,O=Object(d["a"])(x,_,C,!1,null,null,null),j=O.exports,k=n("91f9"),P=n.n(k),S={components:{DispatcherMappings:f,ServletMappings:j,ServletFilterMappings:y},props:{instance:{type:i["a"],required:!0}},data:function(){return{hasLoaded:!1,error:null,contexts:null,isOldMetrics:!1}},created:function(){this.fetchMappings()},computed:{},methods:{isEmpty:P.a,fetchMappings:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.error=null,t.prev=1,t.next=4,this.instance.fetchMappings();case 4:e=t.sent,e.headers["content-type"].includes("application/vnd.spring-boot.actuator.v2")?this.contexts=e.data.contexts:this.isOldMetrics=!0,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),console.warn("Fetching mappings failed:",t.t0),this.error=t.t0;case 12:this.hasLoaded=!0;case 13:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}()},install:function(t){var e=t.viewRegistry;e.addView({name:"instances/mappings",parent:"instances",path:"mappings",group:"Web",component:this,label:"Mappings",order:450,isEnabled:function(t){var e=t.instance;return e.hasEndpoint("mappings")}})}},E=S,L=Object(d["a"])(E,a,r,!1,null,null,null);e["default"]=L.exports},e39b:function(t,e,n){},e3af:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section"},[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n        Fetching metrics failed.\n      ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),t.isOldMetrics?n("div",{staticClass:"message is-warning"},[n("div",{staticClass:"message-body"},[t._v("\n      Metrics are not supported for Spring Boot 1.x applications.\n    ")])]):t.availableMetrics.length>0?n("form",{staticClass:"field",on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedMetric,expression:"selectedMetric"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedMetric=e.target.multiple?n:n[0]}}},t._l(t.availableMetrics,function(e){return n("option",{key:e,domProps:{textContent:t._s(e)}})}),0)])])]),n("div",["executing"===t.stateFetchingTags?n("p",{staticClass:"is-loading"},[t._v("Fetching available tags")]):t._e(),t.availableTags?n("div",{staticClass:"box"},[t._l(t.availableTags,function(e){return n("div",{key:e.tag,staticClass:"field is-horizontal"},[n("div",{staticClass:"field-label"},[n("label",{staticClass:"label",domProps:{textContent:t._s(e.tag)}})]),n("div",{staticClass:"field-body"},[n("div",{staticClass:"control"},[n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedTags[e.tag],expression:"selectedTags[tag.tag]"}],on:{change:function(n){var a=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.selectedTags,e.tag,n.target.multiple?a:a[0])}}},[n("option",{domProps:{value:void 0}},[t._v("-")]),t._l(e.values,function(e){return n("option",{key:e,domProps:{value:e,textContent:t._s(e)}})})],2)])])])])}),t.availableTags&&0===t.availableTags.length?n("p",[t._v("\n          No tags available.\n        ")]):t._e(),t._m(0)],2):t._e()])]):t._e(),t._l(t.metrics,function(e){return n("metric",{key:e.name,attrs:{"metric-name":e.name,"tag-selections":e.tagSelections,"statistic-types":e.types,instance:t.instance},on:{remove:t.removeMetric,"type-select":t.handleTypeSelect}})})],2)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field is-grouped is-grouped-right"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button is-primary",attrs:{type:"submit"}},[t._v("Add Metric")])])])}],s=(n("2338"),n("fb37"),n("f763"),n("b745"),n("f301"),n("df99"),n("63ff"),n("e71e")),i=n("873c"),c=(n("cde0"),n("a506")),o=(n("7364"),n("608b"),n("df0d")),l=n("e617"),u=n.n(l),d=n("2353");function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(n,!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var h={components:{Metric:d["a"]},props:{instance:{type:o["a"],required:!0}},data:function(){return{metrics:[],error:null,availableMetrics:[],selectedMetric:null,stateFetchingTags:null,availableTags:null,selectedTags:null,isOldMetrics:!1}},created:function(){this.fetchMetricIndex(),this.metrics=this.loadMetrics()},watch:{selectedMetric:"fetchAvailableTags",metrics:{deep:!0,handler:function(t){this.persistMetrics(t)}}},methods:{handleSubmit:function(){this.addMetric(this.selectedMetric,this.selectedTags)},handleTypeSelect:function(t,e,n){var a=this.metrics.find(function(e){return e.name===t});a&&(a.types=f({},a.types,Object(c["a"])({},e,n)))},removeMetric:function(t,e){var n=this.metrics.findIndex(function(e){return e.name===t});if(n>=0){var a=this.metrics[n];e<a.tagSelections.length&&a.tagSelections.splice(e,1),0===a.tagSelections.length&&this.metrics.splice(n,1)}},addMetric:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){var n=this.metrics.find(function(e){return e.name===t});n?n.tagSelections=[].concat(Object(i["a"])(n.tagSelections),[f({},e)]):this.metrics=u()([].concat(Object(i["a"])(this.metrics),[{name:t,tagSelections:[f({},e)],types:{}}]),[function(t){return t.name}])}},loadMetrics:function(){if(window.localStorage){var t=localStorage.getItem("applications/".concat(this.instance.registration.name,"/metrics"));if(t)return JSON.parse(t)}return[]},persistMetrics:function(t){window.localStorage&&localStorage.setItem("applications/".concat(this.instance.registration.name,"/metrics"),JSON.stringify(t))},fetchMetricIndex:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.error=null,t.prev=1,t.next=4,this.instance.fetchMetrics();case 4:e=t.sent,e.headers["content-type"].includes("application/vnd.spring-boot.actuator.v2")?(this.availableMetrics=e.data.names,this.availableMetrics.sort(),this.selectedMetric=this.availableMetrics[0]):this.isOldMetrics=!0,t.next=13;break;case 8:t.prev=8,t.t0=t["catch"](1),console.warn("Fetching metric index failed:",t.t0),this.hasLoaded=!0,this.error=t.t0;case 13:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}(),fetchAvailableTags:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.availableTags=null,this.stateFetchingTags="executing",t.prev=2,t.next=5,this.instance.fetchMetric(e);case 5:n=t.sent,this.availableTags=n.data.availableTags,this.stateFetchingTags="completed",this.selectedTags={},this.availableTags.forEach(function(t){return a.selectedTags[t.tag]=void 0}),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](2),console.warn("Fetching metric tags failed:",t.t0),this.stateFetchingTags="failed";case 16:case"end":return t.stop()}},t,this,[[2,12]])}));function e(e){return t.apply(this,arguments)}return e}()},install:function(t){var e=t.viewRegistry;e.addView({name:"instances/metrics",parent:"instances",path:"metrics",component:this,label:"Metrics",group:"Insights",order:50,isEnabled:function(t){var e=t.instance;return e.hasEndpoint("metrics")}})}},m=h,v=n("6691"),g=Object(v["a"])(m,a,r,!1,null,null,null);e["default"]=g.exports},e4a1:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section"},[n("div",{staticClass:"container"},[t.error?n("div",{staticClass:"message is-warning"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-warning",attrs:{icon:"exclamation-triangle"}}),t._v("\n          Server connection failed.\n        ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),n("table",{staticClass:"table is-fullwidth"},[t._m(0),n("tbody",[t._l(t.events,function(e){return[n("tr",{key:e.key,staticClass:"is-selectable",on:{click:function(n){t.showPayload[e.key]?t.$delete(t.showPayload,e.key):t.$set(t.showPayload,e.key,!0)}}},[n("td",{domProps:{textContent:t._s(t.instanceNames[e.instance]||"?")}}),n("td",{domProps:{textContent:t._s(e.instance)}}),n("td",{domProps:{textContent:t._s(e.timestamp.format("L HH:mm:ss.SSS"))}}),n("td",["DEREGISTERED"===e.type?n("el-tag",{attrs:{type:"warning"}},[t._v("取消注册")]):t._e(),"REGISTERED"===e.type?n("el-tag",[t._v("服务注册")]):t._e(),"REGISTRATION_UPDATED"===e.type?n("el-tag",[t._v("注册更新")]):t._e(),"ENDPOINTS_DETECTED"===e.type?n("el-tag",{attrs:{type:"info"}},[t._v("端点检查")]):t._e(),"STATUS_CHANGED"===e.type&&"UP"===e.payload.statusInfo.status?n("el-tag",{attrs:{type:"success"}},[t._v("服务上线")]):t._e(),"STATUS_CHANGED"===e.type&&"DOWN"===e.payload.statusInfo.status?n("el-tag",{attrs:{type:"warning"}},[t._v("服务下线")]):t._e(),"STATUS_CHANGED"===e.type&&"OFFLINE"===e.payload.statusInfo.status?n("el-tag",{attrs:{type:"danger"}},[t._v("服务注销")]):t._e()],1)]),t.showPayload[e.key]?n("tr",{key:e.key+"-detail"},[n("td",{attrs:{colspan:"4"}},[n("pre",{staticClass:"is-breakable",domProps:{textContent:t._s(t.toJson(e.payload))}})])]):t._e()]})],2)])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("应用")]),n("th",[t._v("实例")]),n("th",[t._v("时间")]),n("th",[t._v("事件")])])])}],s=(n("2338"),n("f763"),n("fb37"),n("b745"),n("63ff"),n("e71e")),i=(n("7364"),n("a506")),c=n("98d4"),o=n("ab1f"),l=n("d76e"),u=n("df0d"),d=n("d50b"),p=n("9f7a"),f=n.n(p),h=n("6bf2"),m=n.n(h);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var b=function(){function t(e){Object(c["a"])(this,t),this.instance=e.instance,this.version=e.version,this.type=e.type,this.timestamp=m()(e.timestamp),this.payload=f()(e,["instance","version","timestamp","type"])}return Object(o["a"])(t,[{key:"key",get:function(){return"".concat(this.instance,"-").concat(this.version)}}]),t}(),y={mixins:[l["a"]],data:function(){return{events:[],showPayload:{},instanceNames:{},error:null}},methods:{toJson:function(t){return JSON.stringify(t,null,4)},addEvents:function(t){var e=t.map(function(t){return new b(t)});e.reverse(),this.events=e.concat(this.events);var n=e.filter(function(t){return"REGISTERED"===t.type}).reduce(function(t,e){return g({},t,Object(i["a"])({},e.instance,e.payload.registration.name))},{});Object.assign(this.instanceNames,n)},createSubscription:function(){var t=this;return u["a"].getEventStream().subscribe({next:function(e){t.error=null,t.addEvents([e.data])},error:function(e){console.warn("Listening for events failed:",e),t.error=e}})}},created:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].fetchEvents();case 3:e=t.sent,this.addEvents(e.data.sort(Object(d["a"])(function(t){return t.timestamp}))),this.error=null,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.warn("Fetching events failed:",t.t0),this.error=t.t0;case 12:case"end":return t.stop()}},t,this,[[0,8]])}));function e(){return t.apply(this,arguments)}return e}(),install:function(t){var e=t.viewRegistry;e.addView({path:"/journal",name:"journal",label:"事件",order:100,component:this})}},_=y,C=n("6691"),w=Object(C["a"])(_,a,r,!1,null,null,null);e["default"]=w.exports},e819:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section",class:{"is-loading":!t.hasLoaded}},[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n        Fetching JMX Beans failed.\n      ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),n("div",{staticClass:"columns"},[t.selectedDomain?n("div",{staticClass:"column"},[n("h1",{staticClass:"heading"},[t._v("MBeans")]),t._l(t.selectedDomain.mBeans,function(e){return n("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:function(){return e===t.selectedMBean&&t.select(t.selectedDomain)},expression:"() => mBean === selectedMBean && select(selectedDomain)"}],key:e.descriptor.raw,staticClass:"m-bean card",class:{"is-active":e===t.selectedMBean},attrs:{id:e.descriptor.raw}},[n("header",{staticClass:"m-bean--header hero",class:{"is-primary":e===t.selectedMBean,"is-selectable":e!==t.selectedMBean},on:{click:function(n){return t.select(t.selectedDomain,e)}}},[n("div",{staticClass:"level is-clipped"},[n("div",{staticClass:"level-left"},t._l(e.descriptor.attributes,function(e){return n("div",{key:"mBean-desc-"+e.name,staticClass:"level-item is-narrow"},[n("div",{staticClass:"is-clipped",attrs:{title:e.name+" "+e.value}},[n("p",{staticClass:"heading",domProps:{textContent:t._s(e.name)}}),n("p",{staticClass:"title is-size-6",domProps:{textContent:t._s(e.value)}})])])}),0)]),e===t.selectedMBean?n("sba-icon-button",{staticClass:"m-bean--header--close has-text-white",attrs:{icon:["far","times-circle"]},on:{click:function(e){return e.stopPropagation(),t.select(t.selectedDomain)}}}):t._e(),e===t.selectedMBean?n("div",{staticClass:"hero-foot tabs is-boxed"},[n("ul",[e.attr?n("li",{class:{"is-active":"attributes"===t.selected.view}},[n("a",{on:{click:function(e){return e.stopPropagation(),t.select(t.selectedDomain,t.selectedMBean,"attributes")}}},[t._v("Attributes")])]):t._e(),e.op?n("li",{class:{"is-active":"operations"===t.selected.view}},[n("a",{on:{click:function(e){return e.stopPropagation(),t.select(t.selectedDomain,t.selectedMBean,"operations")}}},[t._v("Operations")])]):t._e()])]):t._e()],1),e===t.selectedMBean?n("div",{staticClass:"card-content"},["attributes"===t.selected.view?n("m-bean-attributes",{attrs:{instance:t.instance,domain:t.selectedDomain.domain,"m-bean":e}}):t._e(),"operations"===t.selected.view?n("m-bean-operations",{attrs:{instance:t.instance,domain:t.selectedDomain.domain,"m-bean":e}}):t._e()],1):t._e()])})],2):t._e(),n("div",{staticClass:"column is-narrow"},[n("nav",{directives:[{name:"sticks-below",rawName:"v-sticks-below",value:["#navigation"],expression:"['#navigation']"}],staticClass:"menu"},[n("p",{staticClass:"menu-label"},[t._v("domains")]),n("ul",{staticClass:"menu-list"},[n("li",t._l(t.domains,function(e){return n("a",{key:e.domain,class:{"is-active":e===t.selectedDomain},domProps:{textContent:t._s(e.domain)},on:{click:function(n){return t.select(e)}}})}),0)])])])])])},r=[],s=(n("2338"),n("fb37"),n("a506")),i=(n("63ff"),n("e71e")),c=(n("34a3"),n("608b"),n("f763"),n("21de"),n("cbb3")),o=n("c887"),l=(n("7bc1"),n("98d4")),u=n("ab1f"),d=n("cc40"),p=n("df0d"),f=n("9de7"),h=n.n(f),m=n("91f9"),v=n.n(m),g=n("09ec"),b=n.n(g),y=n("e617"),_=n.n(y),C=n("e338"),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n        Fetching attributes failed.\n      ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]):t._e(),t._l(t.mBean.attr,function(e,a){return n("m-bean-attribute",{key:"attr-"+a,attrs:{name:a,descriptor:e,value:t.attributeValues&&t.attributeValues[a],"on-save-value":function(e){return t.writeAttribute(a,e)}}})})],2)},x=[],O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[n("span",{domProps:{textContent:t._s(t.name)}}),n("small",{staticClass:"is-muted has-text-weight-normal",domProps:{textContent:t._s(t.descriptor.type)}})]),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field is-expanded"},[n("div",{staticClass:"field has-addons"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button",attrs:{disabled:!t.descriptor.rw},on:{click:t.edit}},[n("font-awesome-icon",{attrs:{icon:"pencil-alt"}})],1)]),n("div",{staticClass:"control is-expanded has-icons-right"},[t.editing?[t.hasComplexValue?t._e():n("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],ref:"input",staticClass:"input",attrs:{type:"text"},domProps:{value:t.input},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.save(e)}],input:function(e){e.target.composing||(t.input=e.target.value)}}})]:[t.hasComplexValue?n("textarea",{staticClass:"input m-bean-attribute--text",attrs:{readonly:""},domProps:{textContent:t._s(t.jsonValue)}}):n("input",{staticClass:"input",attrs:{type:"text",readonly:""},domProps:{value:t.value},on:{dblclick:t.edit}}),t.error?n("span",{staticClass:"icon is-right has-text-warning"},[n("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}})],1):t._e()]],2)]),n("div",{staticClass:"help",domProps:{textContent:t._s(t.descriptor.desc)}})])]),t.editing?n("div",{staticClass:"control"},[n("button",{staticClass:"button is-light is-small",on:{click:t.cancel}},[t._v("Cancel")]),n("button",{staticClass:"button is-primary is-small",class:{"is-loading":t.saving},attrs:{disabled:t.value===t.input},on:{click:t.save}},[t._v("Save\n    ")])]):t._e()])},j=[],k=(n("7364"),n("9090")),P={props:{name:{type:String,required:!0},descriptor:{type:Object,required:!0},value:{type:null,default:null},onSaveValue:{type:Function,required:!0}},data:function(){return{input:null,editing:!1,saving:!1,error:null}},computed:{hasComplexValue:function(){return null!==this.value&&"object"===Object(k["a"])(this.value)},jsonValue:function(){return JSON.stringify(this.value,null,4)}},methods:{edit:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.descriptor.rw||this.hasComplexValue){t.next=6;break}return this.input=this.value,this.editing=!0,t.next=5,this.$nextTick();case 5:this.$refs.input.focus();case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.editing=!1},save:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.saving=!0,t.prev=1,t.next=4,this.onSaveValue(this.input);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](1),console.warn("Error saving attribute ".concat(this.name),t.t0),this.error=t.t0;case 10:return t.prev=10,this.saving=!1,this.editing=!1,t.finish(10);case 14:case"end":return t.stop()}},t,this,[[1,6,10,14]])}));function e(){return t.apply(this,arguments)}return e}()}},S=P,E=(n("931b"),n("6691")),L=Object(E["a"])(S,O,j,!1,null,null,null),R=L.exports,A={props:{domain:{type:String,required:!0},mBean:{type:rt,required:!0},instance:{type:p["a"],required:!0}},components:{mBeanAttribute:R},data:function(){return{attributeValues:null,error:null}},computed:{},methods:{readAttributes:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.instance.readMBeanAttributes(this.domain,this.mBean.descriptor.raw);case 3:e=t.sent,this.attributeValues=e.data.value,t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.warn("Fetching MBean attributes failed:",t.t0),this.error=t.t0;case 11:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),writeAttribute:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.instance.writeMBeanAttribute(this.domain,this.mBean.descriptor.raw,e,n);case 3:return t.prev=3,t.next=6,this.readAttributes();case 6:return t.finish(3);case 7:case"end":return t.stop()}},t,this,[[0,,3,7]])}));function e(e,n){return t.apply(this,arguments)}return e}()},created:function(){this.readAttributes()}},T=A,D=Object(E["a"])(T,w,x,!1,null,null,null),M=D.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.mBean.op,function(e,a){return n("mBeanOperation",{key:"op-"+a,attrs:{name:a,descriptor:e},on:{click:function(n){return t.invoke(a,e)}}})}),t.invocation?n("m-bean-operation-invocation",{attrs:{name:t.invocation.name,descriptor:t.invocation.descriptor,"on-execute":t.execute,"on-close":t.closeInvocation}}):t._e()],2)},N=[],$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button is-light is-fullwidth",on:{click:function(e){return t.$emit("click",e)}}},[n("small",{staticClass:"is-light is-muted",domProps:{textContent:t._s(t.descriptor.ret)}}),t._v(" "),n("span",{domProps:{textContent:t._s(t.name)}})]),n("p",{staticClass:"help",domProps:{textContent:t._s(t.descriptor.desc)}})])])},I=[],B={props:{name:{type:String,required:!0},descriptor:{type:Object,required:!0}}},q=B,U=Object(E["a"])(q,$,I,!1,null,null,null),H=U.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal is-active"},[n("div",{staticClass:"modal-background",on:{click:t.abort}}),n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title",domProps:{textContent:t._s(t.name)}})]),"input-args"===t.state?[n("section",{staticClass:"modal-card-body",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.invoke(t.args):null}}},t._l(t.descriptor.args,function(e,a){return n("div",{key:e.name,staticClass:"field"},[n("label",{staticClass:"label"},[n("span",{domProps:{textContent:t._s(e.name)}}),n("small",{staticClass:"is-muted has-text-weight-normal",domProps:{textContent:t._s(e.type)}})]),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.args[a],expression:"args[idx]"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.args[a]},on:{input:function(e){e.target.composing||t.$set(t.args,a,e.target.value)}}})]),n("p",{staticClass:"help",domProps:{textContent:t._s(e.desc)}})])}),0),n("footer",{staticClass:"modal-card-foot"},[n("div",{staticClass:"field is-grouped is-grouped-right"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button is-primary",on:{click:function(e){return t.invoke(t.args)}}},[t._v("Execute")])])])])]:"executing"===t.state?[t._m(0)]:"completed"===t.state?[n("section",{staticClass:"modal-card-body"},[t._m(1),"void"!==t.descriptor.ret?n("pre",{domProps:{textContent:t._s(t.prettyPrintedResult)}}):t._e()]),n("footer",{staticClass:"modal-card-foot"},[n("div",{staticClass:"field is-grouped is-grouped-right"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button is-light",on:{click:t.abort}},[t._v(" Close")])])])])]:"failed"===t.state?[n("section",{staticClass:"modal-card-body"},[n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[n("strong",[n("font-awesome-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-triangle"}}),t._v("\n                Execution failed.\n              ")],1),n("p",{domProps:{textContent:t._s(t.error.message)}})])]),t.error.stacktrace?n("pre",{domProps:{textContent:t._s(t.error.stacktrace)}}):t._e(),t.error.response&&t.error.response.data?n("pre",{domProps:{textContent:t._s(t.error.response.data)}}):t._e()]),n("footer",{staticClass:"modal-card-foot"},[n("div",{staticClass:"field is-grouped is-grouped-right"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button is-light",on:{click:t.abort}},[t._v(" Close")])])])])]:t._e()],2)])])},z=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"modal-card-body"},[n("section",{staticClass:"section is-loading"},[n("p",[t._v("Executing...")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message is-success"},[n("div",{staticClass:"message-body"},[n("strong",[t._v("Execution successful.")])])])}],G={props:{name:{type:String,required:!0},descriptor:{type:Object,required:!0},value:{type:null,default:null},onClose:{type:Function,required:!0},onExecute:{type:Function,required:!0}},data:function(){return{state:null,error:null,args:null,result:null}},computed:{prettyPrintedResult:function(){if(this.result&&"string"===typeof this.result)try{var t=JSON.parse(this.result);return JSON.stringify(t,void 0,4)}catch(e){return this.result}else if("object"===("undefined"===typeof result?"undefined":Object(k["a"])(result)))return JSON.stringify(this.result,void 0,4);return this.result}},methods:{abort:function(){this.onClose()},invoke:function(t){this.state=t||0===this.descriptor.args.length?"prepared":"input-args",this.args=t||new Array(this.descriptor.args.length),this.error=null,this.result=null,"prepared"===this.state&&this.execute()},execute:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.state="executing",t.prev=1,t.next=4,this.onExecute(this.args);case 4:e=t.sent,e.data.status<400?(this.result=e.data.value,this.state="completed"):(n=new Error("Execution failed: ".concat(e.data.error)),n.stacktrace=e.data.stacktrace,this.state="failed",this.error=n,console.warn("Invocation failed",n)),t.next=13;break;case 8:t.prev=8,t.t0=t["catch"](1),this.state="failed",this.error=t.t0,console.warn("Invocation failed",t.t0);case 13:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}(),keyHandler:function(t){27===t.keyCode&&this.abort()}},created:function(){this.invoke()},mounted:function(){document.addEventListener("keyup",this.keyHandler)},beforeDestroy:function(){document.removeEventListener("keyup",this.keyHandler)}},W=G,J=Object(E["a"])(W,V,z,!1,null,null,null),X=J.exports,K={props:{domain:{type:String,required:!0},mBean:{type:rt,required:!0},instance:{type:p["a"],required:!0}},components:{mBeanOperation:H,mBeanOperationInvocation:X},data:function(){return{invocation:null}},computed:{},methods:{closeInvocation:function(){this.invocation=null},invoke:function(t,e){this.invocation={name:t,descriptor:e}},execute:function(t){return this.instance.invokeMBeanOperation(this.domain,this.mBean.descriptor.raw,this.invocation.name,t)}}},Y=K,Z=Object(E["a"])(Y,F,N,!1,null,null,null),Q=Z.exports;function tt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tt(n,!0).forEach(function(e){Object(s["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var nt=function(t,e){var n=e.args.map(function(t){return t.type}).join(",");return"".concat(t,"(").concat(n,")")},at=function(){function t(e){Object(l["a"])(this,t),Object.assign(this,t.parse(e)),this.raw=e}return Object(u["a"])(t,null,[{key:"parse",value:function(t){var e=t.split(",").map(function(t){return t.split("=")}).map(function(t){var e=Object(o["a"])(t,2),n=e[0],a=e[1];return{name:n,value:a}}),n=e.map(function(t){var e=t.value;return e}).join(" ").trim();return{attributes:e,displayName:n}}}]),t}(),rt=function t(e){var n=e.descriptor,a=e.op,r=Object(c["a"])(e,["descriptor","op"]);Object(l["a"])(this,t),Object.assign(this,r),this.descriptor=new at(n);var s=Object.entries(a||{}).flatMap(function(t){var e=Object(o["a"])(t,2),n=e[0],a=e[1];return Array.isArray(a)?a.map(function(t){return[n,t]}):[[n,a]]}).map(function(t){var e=Object(o["a"])(t,2),n=e[0],a=e[1];return[nt(n,a),a]});this.op=s.length>0?h()(s):null},st={props:{instance:{type:p["a"],required:!0}},components:{mBeanOperations:Q,mBeanAttributes:M},directives:{onClickaway:C["directive"],sticksBelow:d["a"]},data:function(){return{hasLoaded:!1,error:null,domains:[],selected:{domain:null,mBean:null,view:null}}},computed:{selectedDomain:function(){var t=this;return this.domains.find(function(e){return e.domain===t.selected.domain})},selectedMBean:function(){var t=this;return this.selectedDomain&&this.selectedDomain.mBeans.find(function(e){return e.descriptor.raw===t.selected.mBean})}},created:function(){this.fetchMBeans()},watch:{$route:{immediate:!0,handler:function(){v()(this.$route.query)?this.domains.length>0&&this.select(this.domains[0]):this.selected=this.$route.query}},selected:function(){b()(this.selected,this.$route.query)||this.$router.replace({name:"instances/jolokia",query:this.selected})},selectedMBean:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n,a,r,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return t.next=3,this.$nextTick();case 3:n=document.getElementById(e.descriptor.raw),n&&(a=document.scrollingElement,r=document.querySelector("#navigation"),s=(r?r.getBoundingClientRect().bottom:120)+10,i=a.scrollTop+n.getBoundingClientRect().top-s,a.scrollTo?a.scrollTo({top:i,behavior:"smooth"}):a.scrollTop=i);case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},methods:{fetchMBeans:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.error=null,t.prev=1,t.next=4,this.instance.listMBeans();case 4:e=t.sent,n=_()(e.data,[function(t){return t.domain}]),this.domains=n.map(function(t){return et({},t,{mBeans:_()(t.mBeans.map(function(t){return new rt(t)}),[function(t){return t.descriptor.displayName}])})}),!this.selectedDomain&&this.domains.length>0&&this.select(this.domains[0]),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),console.warn("Fetching MBeans failed:",t.t0),this.error=t.t0;case 14:this.hasLoaded=!0;case 15:case"end":return t.stop()}},t,this,[[1,10]])}));function e(){return t.apply(this,arguments)}return e}(),select:function(t,e,n){this.selected={domain:t&&t.domain,mBean:e&&e.descriptor.raw,view:n||(e?e.attr?"attributes":e.op?"operations":null:null)}}},install:function(t){var e=t.viewRegistry;e.addView({name:"instances/jolokia",parent:"instances",path:"jolokia",component:this,label:"JMX",group:"JVM",order:350,isEnabled:function(t){var e=t.instance;return e.hasEndpoint("jolokia")}})}},it=st;n("1e4c");n.d(e,"MBean",function(){return rt});var ct=Object(E["a"])(it,a,r,!1,null,null,null);e["default"]=ct.exports},e83f:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var a=n("873c"),r=(n("7364"),n("f763"),n("98d4")),s=n("ab1f"),i=function(t){return{render:function(){return this._v(t)}}},c=function(){function t(){Object(r["a"])(this,t),this._views=[],this._redirects=[]}return Object(s["a"])(t,[{key:"addView",value:function(){for(var t=this,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];n.forEach(function(e){return t._addView(e)})}},{key:"addRedirect",value:function(t,e){this._redirects.push({path:t,redirect:{name:e}})}},{key:"_addView",value:function(t){t.label&&!t.handle&&(t.handle=i(t.label)),this._views.push(t)}},{key:"_toRoutes",value:function(t,e){var n=this;return t.filter(e).map(function(e){var a=n._toRoutes(t,function(t){return t.parent===e.name});return{path:e.path,name:0===a.length?e.name:void 0,component:e.component,props:e.props,meta:{view:e},children:a}})}},{key:"views",get:function(){return this._views}},{key:"routes",get:function(){return[].concat(Object(a["a"])(this._toRoutes(this._views,function(t){return!t.parent})),Object(a["a"])(this._redirects))}}]),t}()},e906:function(t,e,n){"use strict";n.r(e),function(t){n("f763");var e=n("873c"),a=(n("dac5"),n("6e26"),n("9604"),n("df67"),n("6719"),n("6bf2")),r=n.n(a),s=n("6e6d"),i=n("3bc2"),c=n("686a"),o=n("76c1"),l=n("7723"),u=n("5e8b"),d=n("e83f"),p=n("3f91"),f=n.n(p),h=(n("0a2e"),n("28dc"));r.a.locale(window.navigator.language),s["default"].use(i["a"]),s["default"].use(c["default"]),s["default"].use(f.a);var m=new u["a"],v=new d["a"],g=[o["a"]].concat(Object(e["a"])(h["a"]),Object(e["a"])(t.SBA.extensions));g.forEach(function(t){return t.install({viewRegistry:v,applicationStore:m,vue:s["default"]})}),new s["default"]({router:new i["a"]({linkActiveClass:"is-active",routes:v.routes}),el:"#app",render:function(t){return t(l["a"],{props:{views:this.views,applications:this.applications,error:this.error}})},data:{views:v.views,applications:m.applications,error:null},methods:{onError:function(t){console.warn("Connection to server failed:",t),this.error=t},onConnected:function(){this.error=null}},created:function(){m.addEventListener("connected",this.onConnected),m.addEventListener("error",this.onError),m.start()},beforeDestroy:function(){m.stop(),m.removeEventListener("connected",this.onConnected),m.removeEventListener("error",this.onError)}})}.call(this,n("66fa"))},f04d:function(t,e,n){},f5cb:function(t,e,n){"use strict";var a=n("1cc8"),r=n.n(a);r.a},f704:function(t,e,n){},f99b:function(t,e,n){},f9bb:function(t,e,n){}});
//# sourceMappingURL=sba-core.85019cd7.js.map