{"version":3,"sources":["webpack:///./node_modules/_event-source-polyfill@1.0.7@event-source-polyfill/src/eventsource.js"],"names":["__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","global","setTimeout","clearTimeout","XMLHttpRequest","XDomainRequest","NativeEventSource","EventSource","document","Promise","fetch","Response","TextDecoder","TextEncoder","AbortController","undefined","Object","create","C","F","prototype","callback","this","then","result","resolve","error","originalFetch","url","options","originalFetch2","signal","headers","credentials","cache","response","reader","body","getReader","_reader","_aborted","cancel","status","statusText","abort","TextDecoderPolyfill","bitsNeeded","codePoint","decode","octets","valid","shift","octetsCount","Error","REPLACER","string","i","length","octet","String","fromCharCode","supportsStreamOption","encode","stream","console","log","k","XHRWrapper","xhr","withCredentials","responseType","readyState","responseText","onprogress","onreadystatechange","_contentType","_xhr","_sendTimeout","_abort","toLowerCase","name","replace","c","charCodeAt","HeadersPolyfill","all","map","array","split","line","parts","value","join","_map","XHRTransport","HeadersWrapper","_headers","FetchTransport","EventTarget","_listeners","throwError","e","Event","type","target","MessageEvent","call","data","lastEventId","ConnectionEvent","open","method","that","state","timeout","silent","onload","onerror","onabort","onStart","contentType","getResponseHeader","onProgress","onFinish","onReadyStateChange","onTimeout","indexOf","setRequestHeader","getAllResponseHeaders","send","error1","get","onStartCallback","onProgressCallback","onFinishCallback","offset","chunk","slice","hasOwnProperty","controller","textDecoder","reject","readNextChunk","read","done","dispatchEvent","event","typeListeners","listener","handleEvent","addEventListener","listeners","found","push","removeEventListener","filtered","WAITING","CONNECTING","OPEN","CLOSED","AFTER_CR","FIELD_START","FIELD","VALUE_START","VALUE","contentTypeRegExp","MINIMUM_DURATION","MAXIMUM_DURATION","parseDuration","def","n","parseInt","clampDuration","Math","min","max","fire","f","EventSourcePolyfill","onopen","onmessage","_close","start","getBestTransport","isFetchSupported","es","Boolean","initialRetry","heartbeatTimeout","retry","wasActivity","JSON","parse","stringify","CurrentTransport","Transport","transport","abortController","currentState","dataBuffer","lastEventIdBuffer","eventTypeBuffer","textBuffer","fieldStart","valueStart","test","message","close","textChunk","position","field","requestURL","encodeURIComponent","requestHeaders","Accept","factory","module","exports","v","apply","window","self"],"mappings":"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","file":"assets/js/event-source-polyfill.f86721a7.js","sourcesContent":["/** @license\r\n * eventsource.js\r\n * Available under MIT License (MIT)\r\n * https://github.com/Yaffle/EventSource/\r\n */\r\n\r\n/*jslint indent: 2, vars: true, plusplus: true */\r\n/*global setTimeout, clearTimeout */\r\n\r\n(function (global) {\r\n  \"use strict\";\r\n\r\n  var setTimeout = global.setTimeout;\r\n  var clearTimeout = global.clearTimeout;\r\n  var XMLHttpRequest = global.XMLHttpRequest;\r\n  var XDomainRequest = global.XDomainRequest;\r\n  var NativeEventSource = global.EventSource;\r\n  var document = global.document;\r\n  var Promise = global.Promise;\r\n  var fetch = global.fetch;\r\n  var Response = global.Response;\r\n  var TextDecoder = global.TextDecoder;\r\n  var TextEncoder = global.TextEncoder;\r\n  var AbortController = global.AbortController;\r\n\r\n  if (Object.create == undefined) {\r\n    Object.create = function (C) {\r\n      function F(){}\r\n      F.prototype = C;\r\n      return new F();\r\n    };\r\n  }\r\n\r\n  // ?\r\n  if (Promise != undefined && Promise.prototype[\"finally\"] == undefined) {\r\n    Promise.prototype[\"finally\"] = function (callback) {\r\n      return this.then(function (result) {\r\n        return Promise.resolve(callback()).then(function () {\r\n          return result;\r\n        });\r\n      }, function (error) {\r\n        return Promise.resolve(callback()).then(function () {\r\n          throw error;\r\n        });\r\n      });\r\n    };\r\n  }\r\n\r\n  // see #118, #123, #125\r\n  if (fetch != undefined && true) {\r\n    var originalFetch = fetch;\r\n    fetch = function (url, options) {\r\n      return Promise.resolve(originalFetch(url, options));\r\n    };\r\n  }\r\n\r\n  if (AbortController == undefined) {\r\n    var originalFetch2 = fetch;\r\n    fetch = function (url, options) {\r\n      var signal = options.signal;\r\n      return originalFetch2(url, {headers: options.headers, credentials: options.credentials, cache: options.cache}).then(function (response) {\r\n        var reader = response.body.getReader();\r\n        signal._reader = reader;\r\n        if (signal._aborted) {\r\n          signal._reader.cancel();\r\n        }\r\n        return {\r\n          status: response.status,\r\n          statusText: response.statusText,\r\n          headers: response.headers,\r\n          body: {\r\n            getReader: function () {\r\n              return reader;\r\n            }\r\n          }\r\n        };\r\n      });\r\n    };\r\n    AbortController = function () {\r\n      this.signal = {\r\n        _reader: null,\r\n        _aborted: false\r\n      };\r\n      this.abort = function () {\r\n        if (this.signal._reader != null) {\r\n          this.signal._reader.cancel();\r\n        }\r\n        this.signal._aborted = true;\r\n      };\r\n    };\r\n  }\r\n\r\n  function TextDecoderPolyfill() {\r\n    this.bitsNeeded = 0;\r\n    this.codePoint = 0;\r\n  }\r\n\r\n  TextDecoderPolyfill.prototype.decode = function (octets) {\r\n    function valid(codePoint, shift, octetsCount) {\r\n      if (octetsCount === 1) {\r\n        return codePoint >= 0x0080 >> shift && codePoint << shift <= 0x07FF;\r\n      }\r\n      if (octetsCount === 2) {\r\n        return codePoint >= 0x0800 >> shift && codePoint << shift <= 0xD7FF || codePoint >= 0xE000 >> shift && codePoint << shift <= 0xFFFF;\r\n      }\r\n      if (octetsCount === 3) {\r\n        return codePoint >= 0x010000 >> shift && codePoint << shift <= 0x10FFFF;\r\n      }\r\n      throw new Error();\r\n    }\r\n    function octetsCount(bitsNeeded, codePoint) {\r\n      if (bitsNeeded === 6 * 1) {\r\n        return codePoint >> 6 > 15 ? 3 : codePoint > 31 ? 2 : 1;\r\n      }\r\n      if (bitsNeeded === 6 * 2) {\r\n        return codePoint > 15 ? 3 : 2;\r\n      }\r\n      if (bitsNeeded === 6 * 3) {\r\n        return 3;\r\n      }\r\n      throw new Error();\r\n    }\r\n    var REPLACER = 0xFFFD;\r\n    var string = \"\";\r\n    var bitsNeeded = this.bitsNeeded;\r\n    var codePoint = this.codePoint;\r\n    for (var i = 0; i < octets.length; i += 1) {\r\n      var octet = octets[i];\r\n      if (bitsNeeded !== 0) {\r\n        if (octet < 128 || octet > 191 || !valid(codePoint << 6 | octet & 63, bitsNeeded - 6, octetsCount(bitsNeeded, codePoint))) {\r\n          bitsNeeded = 0;\r\n          codePoint = REPLACER;\r\n          string += String.fromCharCode(codePoint);\r\n        }\r\n      }\r\n      if (bitsNeeded === 0) {\r\n        if (octet >= 0 && octet <= 127) {\r\n          bitsNeeded = 0;\r\n          codePoint = octet;\r\n        } else if (octet >= 192 && octet <= 223) {\r\n          bitsNeeded = 6 * 1;\r\n          codePoint = octet & 31;\r\n        } else if (octet >= 224 && octet <= 239) {\r\n          bitsNeeded = 6 * 2;\r\n          codePoint = octet & 15;\r\n        } else if (octet >= 240 && octet <= 247) {\r\n          bitsNeeded = 6 * 3;\r\n          codePoint = octet & 7;\r\n        } else {\r\n          bitsNeeded = 0;\r\n          codePoint = REPLACER;\r\n        }\r\n        if (bitsNeeded !== 0 && !valid(codePoint, bitsNeeded, octetsCount(bitsNeeded, codePoint))) {\r\n          bitsNeeded = 0;\r\n          codePoint = REPLACER;\r\n        }\r\n      } else {\r\n        bitsNeeded -= 6;\r\n        codePoint = codePoint << 6 | octet & 63;\r\n      }\r\n      if (bitsNeeded === 0) {\r\n        if (codePoint <= 0xFFFF) {\r\n          string += String.fromCharCode(codePoint);\r\n        } else {\r\n          string += String.fromCharCode(0xD800 + (codePoint - 0xFFFF - 1 >> 10));\r\n          string += String.fromCharCode(0xDC00 + (codePoint - 0xFFFF - 1 & 0x3FF));\r\n        }\r\n      }\r\n    }\r\n    this.bitsNeeded = bitsNeeded;\r\n    this.codePoint = codePoint;\r\n    return string;\r\n  };\r\n\r\n  // Firefox < 38 throws an error with stream option\r\n  var supportsStreamOption = function () {\r\n    try {\r\n      return new TextDecoder().decode(new TextEncoder().encode(\"test\"), {stream: true}) === \"test\";\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    return false;\r\n  };\r\n\r\n  // IE, Edge\r\n  if (TextDecoder == undefined || TextEncoder == undefined || !supportsStreamOption()) {\r\n    TextDecoder = TextDecoderPolyfill;\r\n  }\r\n\r\n  var k = function () {\r\n  };\r\n\r\n  function XHRWrapper(xhr) {\r\n    this.withCredentials = false;\r\n    this.responseType = \"\";\r\n    this.readyState = 0;\r\n    this.status = 0;\r\n    this.statusText = \"\";\r\n    this.responseText = \"\";\r\n    this.onprogress = k;\r\n    this.onreadystatechange = k;\r\n    this._contentType = \"\";\r\n    this._xhr = xhr;\r\n    this._sendTimeout = 0;\r\n    this._abort = k;\r\n  }\r\n\r\n  XHRWrapper.prototype.open = function (method, url) {\r\n    this._abort(true);\r\n\r\n    var that = this;\r\n    var xhr = this._xhr;\r\n    var state = 1;\r\n    var timeout = 0;\r\n\r\n    this._abort = function (silent) {\r\n      if (that._sendTimeout !== 0) {\r\n        clearTimeout(that._sendTimeout);\r\n        that._sendTimeout = 0;\r\n      }\r\n      if (state === 1 || state === 2 || state === 3) {\r\n        state = 4;\r\n        xhr.onload = k;\r\n        xhr.onerror = k;\r\n        xhr.onabort = k;\r\n        xhr.onprogress = k;\r\n        xhr.onreadystatechange = k;\r\n        // IE 8 - 9: XDomainRequest#abort() does not fire any event\r\n        // Opera < 10: XMLHttpRequest#abort() does not fire any event\r\n        xhr.abort();\r\n        if (timeout !== 0) {\r\n          clearTimeout(timeout);\r\n          timeout = 0;\r\n        }\r\n        if (!silent) {\r\n          that.readyState = 4;\r\n          that.onreadystatechange();\r\n        }\r\n      }\r\n      state = 0;\r\n    };\r\n\r\n    var onStart = function () {\r\n      if (state === 1) {\r\n        //state = 2;\r\n        var status = 0;\r\n        var statusText = \"\";\r\n        var contentType = undefined;\r\n        if (!(\"contentType\" in xhr)) {\r\n          try {\r\n            status = xhr.status;\r\n            statusText = xhr.statusText;\r\n            contentType = xhr.getResponseHeader(\"Content-Type\");\r\n          } catch (error) {\r\n            // IE < 10 throws exception for `xhr.status` when xhr.readyState === 2 || xhr.readyState === 3\r\n            // Opera < 11 throws exception for `xhr.status` when xhr.readyState === 2\r\n            // https://bugs.webkit.org/show_bug.cgi?id=29121\r\n            status = 0;\r\n            statusText = \"\";\r\n            contentType = undefined;\r\n            // Firefox < 14, Chrome ?, Safari ?\r\n            // https://bugs.webkit.org/show_bug.cgi?id=29658\r\n            // https://bugs.webkit.org/show_bug.cgi?id=77854\r\n          }\r\n        } else {\r\n          status = 200;\r\n          statusText = \"OK\";\r\n          contentType = xhr.contentType;\r\n        }\r\n        if (status !== 0) {\r\n          state = 2;\r\n          that.readyState = 2;\r\n          that.status = status;\r\n          that.statusText = statusText;\r\n          that._contentType = contentType;\r\n          that.onreadystatechange();\r\n        }\r\n      }\r\n    };\r\n    var onProgress = function () {\r\n      onStart();\r\n      if (state === 2 || state === 3) {\r\n        state = 3;\r\n        var responseText = \"\";\r\n        try {\r\n          responseText = xhr.responseText;\r\n        } catch (error) {\r\n          // IE 8 - 9 with XMLHttpRequest\r\n        }\r\n        that.readyState = 3;\r\n        that.responseText = responseText;\r\n        that.onprogress();\r\n      }\r\n    };\r\n    var onFinish = function () {\r\n      // Firefox 52 fires \"readystatechange\" (xhr.readyState === 4) without final \"readystatechange\" (xhr.readyState === 3)\r\n      // IE 8 fires \"onload\" without \"onprogress\"\r\n      onProgress();\r\n      if (state === 1 || state === 2 || state === 3) {\r\n        state = 4;\r\n        if (timeout !== 0) {\r\n          clearTimeout(timeout);\r\n          timeout = 0;\r\n        }\r\n        that.readyState = 4;\r\n        that.onreadystatechange();\r\n      }\r\n    };\r\n    var onReadyStateChange = function () {\r\n      if (xhr != undefined) { // Opera 12\r\n        if (xhr.readyState === 4) {\r\n          onFinish();\r\n        } else if (xhr.readyState === 3) {\r\n          onProgress();\r\n        } else if (xhr.readyState === 2) {\r\n          onStart();\r\n        }\r\n      }\r\n    };\r\n    var onTimeout = function () {\r\n      timeout = setTimeout(function () {\r\n        onTimeout();\r\n      }, 500);\r\n      if (xhr.readyState === 3) {\r\n        onProgress();\r\n      }\r\n    };\r\n\r\n    // XDomainRequest#abort removes onprogress, onerror, onload\r\n    xhr.onload = onFinish;\r\n    xhr.onerror = onFinish;\r\n    // improper fix to match Firefox behaviour, but it is better than just ignore abort\r\n    // see https://bugzilla.mozilla.org/show_bug.cgi?id=768596\r\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=880200\r\n    // https://code.google.com/p/chromium/issues/detail?id=153570\r\n    // IE 8 fires \"onload\" without \"onprogress\r\n    xhr.onabort = onFinish;\r\n\r\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=736723    \r\n    if (!(\"sendAsBinary\" in XMLHttpRequest.prototype) && !(\"mozAnon\" in XMLHttpRequest.prototype)) {\r\n      xhr.onprogress = onProgress;\r\n    }\r\n\r\n    // IE 8 - 9 (XMLHTTPRequest)\r\n    // Opera < 12\r\n    // Firefox < 3.5\r\n    // Firefox 3.5 - 3.6 - ? < 9.0\r\n    // onprogress is not fired sometimes or delayed\r\n    // see also #64\r\n    xhr.onreadystatechange = onReadyStateChange;\r\n\r\n    if (\"contentType\" in xhr) {\r\n      url += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + \"padding=true\";\r\n    }\r\n    xhr.open(method, url, true);\r\n\r\n    if (\"readyState\" in xhr) {\r\n      // workaround for Opera 12 issue with \"progress\" events\r\n      // #91\r\n      timeout = setTimeout(function () {\r\n        onTimeout();\r\n      }, 0);\r\n    }\r\n  };\r\n  XHRWrapper.prototype.abort = function () {\r\n    this._abort(false);\r\n  };\r\n  XHRWrapper.prototype.getResponseHeader = function (name) {\r\n    return this._contentType;\r\n  };\r\n  XHRWrapper.prototype.setRequestHeader = function (name, value) {\r\n    var xhr = this._xhr;\r\n    if (\"setRequestHeader\" in xhr) {\r\n      xhr.setRequestHeader(name, value);\r\n    }\r\n  };\r\n  XHRWrapper.prototype.getAllResponseHeaders = function () {\r\n    return this._xhr.getAllResponseHeaders != undefined ? this._xhr.getAllResponseHeaders() : \"\";\r\n  };\r\n  XHRWrapper.prototype.send = function () {\r\n    // loading indicator in Safari < ? (6), Chrome < 14, Firefox\r\n    if (!(\"ontimeout\" in XMLHttpRequest.prototype) &&\r\n        document != undefined &&\r\n        document.readyState != undefined &&\r\n        document.readyState !== \"complete\") {\r\n      var that = this;\r\n      that._sendTimeout = setTimeout(function () {\r\n        that._sendTimeout = 0;\r\n        that.send();\r\n      }, 4);\r\n      return;\r\n    }\r\n\r\n    var xhr = this._xhr;\r\n    // withCredentials should be set after \"open\" for Safari and Chrome (< 19 ?)\r\n    xhr.withCredentials = this.withCredentials;\r\n    xhr.responseType = this.responseType;\r\n    try {\r\n      // xhr.send(); throws \"Not enough arguments\" in Firefox 3.0\r\n      xhr.send(undefined);\r\n    } catch (error1) {\r\n      // Safari 5.1.7, Opera 12\r\n      throw error1;\r\n    }\r\n  };\r\n\r\n  function toLowerCase(name) {\r\n    return name.replace(/[A-Z]/g, function (c) {\r\n      return String.fromCharCode(c.charCodeAt(0) + 0x20);\r\n    });\r\n  }\r\n\r\n  function HeadersPolyfill(all) {\r\n    // Get headers: implemented according to mozilla's example code: https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders#Example\r\n    var map = Object.create(null);\r\n    var array = all.split(\"\\r\\n\");\r\n    for (var i = 0; i < array.length; i += 1) {\r\n      var line = array[i];\r\n      var parts = line.split(\": \");\r\n      var name = parts.shift();\r\n      var value = parts.join(\": \");\r\n      map[toLowerCase(name)] = value;\r\n    }\r\n    this._map = map;\r\n  }\r\n  HeadersPolyfill.prototype.get = function (name) {\r\n    return this._map[toLowerCase(name)];\r\n  };\r\n\r\n  function XHRTransport() {\r\n  }\r\n\r\n  XHRTransport.prototype.open = function (xhr, onStartCallback, onProgressCallback, onFinishCallback, url, withCredentials, headers) {\r\n    xhr.open(\"GET\", url);\r\n    var offset = 0;\r\n    xhr.onprogress = function () {\r\n      var responseText = xhr.responseText;\r\n      var chunk = responseText.slice(offset);\r\n      offset += chunk.length;\r\n      onProgressCallback(chunk);\r\n    };\r\n    xhr.onreadystatechange = function () {\r\n      if (xhr.readyState === 2) {\r\n        var status = xhr.status;\r\n        var statusText = xhr.statusText;\r\n        var contentType = xhr.getResponseHeader(\"Content-Type\");\r\n        var headers = xhr.getAllResponseHeaders();\r\n        onStartCallback(status, statusText, contentType, new HeadersPolyfill(headers));\r\n      } else if (xhr.readyState === 4) {\r\n        onFinishCallback();\r\n      }\r\n    };\r\n    xhr.withCredentials = withCredentials;\r\n    xhr.responseType = \"text\";\r\n    for (var name in headers) {\r\n      if (Object.prototype.hasOwnProperty.call(headers, name)) {\r\n        xhr.setRequestHeader(name, headers[name]);\r\n      }\r\n    }\r\n    xhr.send();\r\n    return xhr;\r\n  };\r\n\r\n  function HeadersWrapper(headers) {\r\n    this._headers = headers;\r\n  }\r\n  HeadersWrapper.prototype.get = function (name) {\r\n    return this._headers.get(name);\r\n  };\r\n\r\n  function FetchTransport() {\r\n  }\r\n\r\n  FetchTransport.prototype.open = function (xhr, onStartCallback, onProgressCallback, onFinishCallback, url, withCredentials, headers) {\r\n    var controller = new AbortController();\r\n    var signal = controller.signal;// see #120\r\n    var textDecoder = new TextDecoder();\r\n    fetch(url, {\r\n      headers: headers,\r\n      credentials: withCredentials ? \"include\" : \"same-origin\",\r\n      signal: signal,\r\n      cache: \"no-store\"\r\n    }).then(function (response) {\r\n      var reader = response.body.getReader();\r\n      onStartCallback(response.status, response.statusText, response.headers.get(\"Content-Type\"), new HeadersWrapper(response.headers));\r\n      return new Promise(function (resolve, reject) {\r\n        var readNextChunk = function () {\r\n          reader.read().then(function (result) {\r\n            if (result.done) {\r\n              //Note: bytes in textDecoder are ignored\r\n              resolve(undefined);\r\n            } else {\r\n              var chunk = textDecoder.decode(result.value, {stream: true});\r\n              onProgressCallback(chunk);\r\n              readNextChunk();\r\n            }\r\n          })[\"catch\"](function (error) {\r\n            if (error.name === \"AbortError\") {\r\n              resolve(undefined); // catch the exception, see #130\r\n            } else {\r\n              reject(error);\r\n            }\r\n          });\r\n        };\r\n        readNextChunk();\r\n      });\r\n    })[\"finally\"](function () {\r\n      onFinishCallback();\r\n    });\r\n    return controller;\r\n  };\r\n\r\n  function EventTarget() {\r\n    this._listeners = Object.create(null);\r\n  }\r\n\r\n  function throwError(e) {\r\n    setTimeout(function () {\r\n      throw e;\r\n    }, 0);\r\n  }\r\n\r\n  EventTarget.prototype.dispatchEvent = function (event) {\r\n    event.target = this;\r\n    var typeListeners = this._listeners[event.type];\r\n    if (typeListeners != undefined) {\r\n      var length = typeListeners.length;\r\n      for (var i = 0; i < length; i += 1) {\r\n        var listener = typeListeners[i];\r\n        try {\r\n          if (typeof listener.handleEvent === \"function\") {\r\n            listener.handleEvent(event);\r\n          } else {\r\n            listener.call(this, event);\r\n          }\r\n        } catch (e) {\r\n          throwError(e);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  EventTarget.prototype.addEventListener = function (type, listener) {\r\n    type = String(type);\r\n    var listeners = this._listeners;\r\n    var typeListeners = listeners[type];\r\n    if (typeListeners == undefined) {\r\n      typeListeners = [];\r\n      listeners[type] = typeListeners;\r\n    }\r\n    var found = false;\r\n    for (var i = 0; i < typeListeners.length; i += 1) {\r\n      if (typeListeners[i] === listener) {\r\n        found = true;\r\n      }\r\n    }\r\n    if (!found) {\r\n      typeListeners.push(listener);\r\n    }\r\n  };\r\n  EventTarget.prototype.removeEventListener = function (type, listener) {\r\n    type = String(type);\r\n    var listeners = this._listeners;\r\n    var typeListeners = listeners[type];\r\n    if (typeListeners != undefined) {\r\n      var filtered = [];\r\n      for (var i = 0; i < typeListeners.length; i += 1) {\r\n        if (typeListeners[i] !== listener) {\r\n          filtered.push(typeListeners[i]);\r\n        }\r\n      }\r\n      if (filtered.length === 0) {\r\n        delete listeners[type];\r\n      } else {\r\n        listeners[type] = filtered;\r\n      }\r\n    }\r\n  };\r\n\r\n  function Event(type) {\r\n    this.type = type;\r\n    this.target = undefined;\r\n  }\r\n\r\n  function MessageEvent(type, options) {\r\n    Event.call(this, type);\r\n    this.data = options.data;\r\n    this.lastEventId = options.lastEventId;\r\n  }\r\n\r\n  MessageEvent.prototype = Object.create(Event.prototype);\r\n\r\n  function ConnectionEvent(type, options) {\r\n    Event.call(this, type);\r\n    this.status = options.status;\r\n    this.statusText = options.statusText;\r\n    this.headers = options.headers;\r\n  }\r\n\r\n  ConnectionEvent.prototype = Object.create(Event.prototype);\r\n\r\n  var WAITING = -1;\r\n  var CONNECTING = 0;\r\n  var OPEN = 1;\r\n  var CLOSED = 2;\r\n\r\n  var AFTER_CR = -1;\r\n  var FIELD_START = 0;\r\n  var FIELD = 1;\r\n  var VALUE_START = 2;\r\n  var VALUE = 3;\r\n\r\n  var contentTypeRegExp = /^text\\/event\\-stream;?(\\s*charset\\=utf\\-8)?$/i;\r\n\r\n  var MINIMUM_DURATION = 1000;\r\n  var MAXIMUM_DURATION = 18000000;\r\n\r\n  var parseDuration = function (value, def) {\r\n    var n = parseInt(value, 10);\r\n    if (n !== n) {\r\n      n = def;\r\n    }\r\n    return clampDuration(n);\r\n  };\r\n  var clampDuration = function (n) {\r\n    return Math.min(Math.max(n, MINIMUM_DURATION), MAXIMUM_DURATION);\r\n  };\r\n\r\n  var fire = function (that, f, event) {\r\n    try {\r\n      if (typeof f === \"function\") {\r\n        f.call(that, event);\r\n      }\r\n    } catch (e) {\r\n      throwError(e);\r\n    }\r\n  };\r\n\r\n  function EventSourcePolyfill(url, options) {\r\n    EventTarget.call(this);\r\n\r\n    this.onopen = undefined;\r\n    this.onmessage = undefined;\r\n    this.onerror = undefined;\r\n\r\n    this.url = undefined;\r\n    this.readyState = undefined;\r\n    this.withCredentials = undefined;\r\n\r\n    this._close = undefined;\r\n\r\n    start(this, url, options);\r\n  }\r\n\r\n  function getBestTransport() {\r\n    return (XMLHttpRequest != undefined && (\"withCredentials\" in XMLHttpRequest.prototype)) || XDomainRequest == undefined\r\n      ? XMLHttpRequest\r\n      : XDomainRequest;\r\n  }\r\n\r\n  var isFetchSupported = fetch != undefined && Response != undefined && \"body\" in Response.prototype;\r\n\r\n  function start(es, url, options) {\r\n    url = String(url);\r\n    var withCredentials = options != undefined && Boolean(options.withCredentials);\r\n\r\n    var initialRetry = clampDuration(1000);\r\n    var heartbeatTimeout = options != undefined && options.heartbeatTimeout != undefined ? parseDuration(options.heartbeatTimeout, 45000) : clampDuration(45000);\r\n\r\n    var lastEventId = \"\";\r\n    var retry = initialRetry;\r\n    var wasActivity = false;\r\n    var headers = options != undefined && options.headers != undefined ? JSON.parse(JSON.stringify(options.headers)) : undefined;\r\n    var CurrentTransport = options != undefined && options.Transport != undefined ? options.Transport : getBestTransport();\r\n    var xhr = isFetchSupported && !(options != undefined && options.Transport != undefined) ? undefined : new XHRWrapper(new CurrentTransport());\r\n    var transport = xhr == undefined ? new FetchTransport() : new XHRTransport();\r\n    var abortController = undefined;\r\n    var timeout = 0;\r\n    var currentState = WAITING;\r\n    var dataBuffer = \"\";\r\n    var lastEventIdBuffer = \"\";\r\n    var eventTypeBuffer = \"\";\r\n\r\n    var textBuffer = \"\";\r\n    var state = FIELD_START;\r\n    var fieldStart = 0;\r\n    var valueStart = 0;\r\n\r\n    var onStart = function (status, statusText, contentType, headers) {\r\n      if (currentState === CONNECTING) {\r\n        if (status === 200 && contentType != undefined && contentTypeRegExp.test(contentType)) {\r\n          currentState = OPEN;\r\n          wasActivity = true;\r\n          retry = initialRetry;\r\n          es.readyState = OPEN;\r\n          var event = new ConnectionEvent(\"open\", {\r\n            status: status,\r\n            statusText: statusText,\r\n            headers: headers\r\n          });\r\n          es.dispatchEvent(event);\r\n          fire(es, es.onopen, event);\r\n        } else {\r\n          var message = \"\";\r\n          if (status !== 200) {\r\n            if (statusText) {\r\n              statusText = statusText.replace(/\\s+/g, \" \");\r\n            }\r\n            message = \"EventSource's response has a status \" + status + \" \" + statusText + \" that is not 200. Aborting the connection.\";\r\n          } else {\r\n            message = \"EventSource's response has a Content-Type specifying an unsupported type: \" + (contentType == undefined ? \"-\" : contentType.replace(/\\s+/g, \" \")) + \". Aborting the connection.\";\r\n          }\r\n          throwError(new Error(message));\r\n          close();\r\n          var event = new ConnectionEvent(\"error\", {\r\n            status: status,\r\n            statusText: statusText,\r\n            headers: headers\r\n          });\r\n          es.dispatchEvent(event);\r\n          fire(es, es.onerror, event);\r\n        }\r\n      }\r\n    };\r\n\r\n    var onProgress = function (textChunk) {\r\n      if (currentState === OPEN) {\r\n        var n = -1;\r\n        for (var i = 0; i < textChunk.length; i += 1) {\r\n          var c = textChunk.charCodeAt(i);\r\n          if (c === \"\\n\".charCodeAt(0) || c === \"\\r\".charCodeAt(0)) {\r\n            n = i;\r\n          }\r\n        }\r\n        var chunk = (n !== -1 ? textBuffer : \"\") + textChunk.slice(0, n + 1);\r\n        textBuffer = (n === -1 ? textBuffer : \"\") + textChunk.slice(n + 1);\r\n        if (chunk !== \"\") {\r\n          wasActivity = true;\r\n        }\r\n        for (var position = 0; position < chunk.length; position += 1) {\r\n          var c = chunk.charCodeAt(position);\r\n          if (state === AFTER_CR && c === \"\\n\".charCodeAt(0)) {\r\n            state = FIELD_START;\r\n          } else {\r\n            if (state === AFTER_CR) {\r\n              state = FIELD_START;\r\n            }\r\n            if (c === \"\\r\".charCodeAt(0) || c === \"\\n\".charCodeAt(0)) {\r\n              if (state !== FIELD_START) {\r\n                if (state === FIELD) {\r\n                  valueStart = position + 1;\r\n                }\r\n                var field = chunk.slice(fieldStart, valueStart - 1);\r\n                var value = chunk.slice(valueStart + (valueStart < position && chunk.charCodeAt(valueStart) === \" \".charCodeAt(0) ? 1 : 0), position);\r\n                if (field === \"data\") {\r\n                  dataBuffer += \"\\n\";\r\n                  dataBuffer += value;\r\n                } else if (field === \"id\") {\r\n                  lastEventIdBuffer = value;\r\n                } else if (field === \"event\") {\r\n                  eventTypeBuffer = value;\r\n                } else if (field === \"retry\") {\r\n                  initialRetry = parseDuration(value, initialRetry);\r\n                  retry = initialRetry;\r\n                } else if (field === \"heartbeatTimeout\") {\r\n                  heartbeatTimeout = parseDuration(value, heartbeatTimeout);\r\n                  if (timeout !== 0) {\r\n                    clearTimeout(timeout);\r\n                    timeout = setTimeout(function () {\r\n                      onTimeout();\r\n                    }, heartbeatTimeout);\r\n                  }\r\n                }\r\n              }\r\n              if (state === FIELD_START) {\r\n                if (dataBuffer !== \"\") {\r\n                  lastEventId = lastEventIdBuffer;\r\n                  if (eventTypeBuffer === \"\") {\r\n                    eventTypeBuffer = \"message\";\r\n                  }\r\n                  var event = new MessageEvent(eventTypeBuffer, {\r\n                    data: dataBuffer.slice(1),\r\n                    lastEventId: lastEventIdBuffer\r\n                  });\r\n                  es.dispatchEvent(event);\r\n                  if (eventTypeBuffer === \"message\") {\r\n                    fire(es, es.onmessage, event);\r\n                  }\r\n                  if (currentState === CLOSED) {\r\n                    return;\r\n                  }\r\n                }\r\n                dataBuffer = \"\";\r\n                eventTypeBuffer = \"\";\r\n              }\r\n              state = c === \"\\r\".charCodeAt(0) ? AFTER_CR : FIELD_START;\r\n            } else {\r\n              if (state === FIELD_START) {\r\n                fieldStart = position;\r\n                state = FIELD;\r\n              }\r\n              if (state === FIELD) {\r\n                if (c === \":\".charCodeAt(0)) {\r\n                  valueStart = position + 1;\r\n                  state = VALUE_START;\r\n                }\r\n              } else if (state === VALUE_START) {\r\n                state = VALUE;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    var onFinish = function () {\r\n      if (currentState === OPEN || currentState === CONNECTING) {\r\n        currentState = WAITING;\r\n        if (timeout !== 0) {\r\n          clearTimeout(timeout);\r\n          timeout = 0;\r\n        }\r\n        timeout = setTimeout(function () {\r\n          onTimeout();\r\n        }, retry);\r\n        retry = clampDuration(Math.min(initialRetry * 16, retry * 2));\r\n\r\n        es.readyState = CONNECTING;\r\n        var event = new Event(\"error\");\r\n        es.dispatchEvent(event);\r\n        fire(es, es.onerror, event);\r\n      }\r\n    };\r\n\r\n    var close = function () {\r\n      currentState = CLOSED;\r\n      if (abortController != undefined) {\r\n        abortController.abort();\r\n        abortController = undefined;\r\n      }\r\n      if (timeout !== 0) {\r\n        clearTimeout(timeout);\r\n        timeout = 0;\r\n      }\r\n      es.readyState = CLOSED;\r\n    };\r\n\r\n    var onTimeout = function () {\r\n      timeout = 0;\r\n\r\n      if (currentState !== WAITING) {\r\n        if (!wasActivity && abortController != undefined) {\r\n          throwError(new Error(\"No activity within \" + heartbeatTimeout + \" milliseconds. Reconnecting.\"));\r\n          abortController.abort();\r\n          abortController = undefined;\r\n        } else {\r\n          wasActivity = false;\r\n          timeout = setTimeout(function () {\r\n            onTimeout();\r\n          }, heartbeatTimeout);\r\n        }\r\n        return;\r\n      }\r\n\r\n      wasActivity = false;\r\n      timeout = setTimeout(function () {\r\n        onTimeout();\r\n      }, heartbeatTimeout);\r\n\r\n      currentState = CONNECTING;\r\n      dataBuffer = \"\";\r\n      eventTypeBuffer = \"\";\r\n      lastEventIdBuffer = lastEventId;\r\n      textBuffer = \"\";\r\n      fieldStart = 0;\r\n      valueStart = 0;\r\n      state = FIELD_START;\r\n\r\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=428916\r\n      // Request header field Last-Event-ID is not allowed by Access-Control-Allow-Headers.\r\n      var requestURL = url;\r\n      if (url.slice(0, 5) !== \"data:\" && url.slice(0, 5) !== \"blob:\") {\r\n        if (lastEventId !== \"\") {\r\n          requestURL += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + \"lastEventId=\" + encodeURIComponent(lastEventId);\r\n        }\r\n      }\r\n      var requestHeaders = {};\r\n      requestHeaders[\"Accept\"] = \"text/event-stream\";\r\n      if (headers != undefined) {\r\n        for (var name in headers) {\r\n          if (Object.prototype.hasOwnProperty.call(headers, name)) {\r\n            requestHeaders[name] = headers[name];\r\n          }\r\n        }\r\n      }\r\n      try {\r\n        abortController = transport.open(xhr, onStart, onProgress, onFinish, requestURL, withCredentials, requestHeaders);\r\n      } catch (error) {\r\n        close();\r\n        throw error;\r\n      }\r\n    };\r\n\r\n    es.url = url;\r\n    es.readyState = CONNECTING;\r\n    es.withCredentials = withCredentials;\r\n    es._close = close;\r\n\r\n    onTimeout();\r\n  }\r\n\r\n  EventSourcePolyfill.prototype = Object.create(EventTarget.prototype);\r\n  EventSourcePolyfill.prototype.CONNECTING = CONNECTING;\r\n  EventSourcePolyfill.prototype.OPEN = OPEN;\r\n  EventSourcePolyfill.prototype.CLOSED = CLOSED;\r\n  EventSourcePolyfill.prototype.close = function () {\r\n    this._close();\r\n  };\r\n\r\n  EventSourcePolyfill.CONNECTING = CONNECTING;\r\n  EventSourcePolyfill.OPEN = OPEN;\r\n  EventSourcePolyfill.CLOSED = CLOSED;\r\n  EventSourcePolyfill.prototype.withCredentials = undefined;\r\n\r\n  (function (factory) {\r\n    if (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n      var v = factory(exports);\r\n      if (v !== undefined) module.exports = v;\r\n    }\r\n    else if (typeof define === \"function\" && define.amd) {\r\n      define([\"exports\"], factory);\r\n    }\r\n    else {\r\n      factory(global);\r\n    }\r\n  })(function (exports) {\r\n    exports.EventSourcePolyfill = EventSourcePolyfill;\r\n    exports.NativeEventSource = NativeEventSource;\r\n    if (XMLHttpRequest != undefined && (NativeEventSource == undefined || !(\"withCredentials\" in NativeEventSource.prototype))) {\r\n      // Why replace a native EventSource ?\r\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=444328\r\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=831392\r\n      // https://code.google.com/p/chromium/issues/detail?id=260144\r\n      // https://code.google.com/p/chromium/issues/detail?id=225654\r\n      // ...\r\n      exports.EventSource = EventSourcePolyfill;\r\n    }\r\n  });\r\n}(typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : this));\r\n"],"sourceRoot":""}